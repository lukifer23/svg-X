function Cc(Pe,ke){for(var ge=0;ge<ke.length;ge++){const A=ke[ge];if(typeof A!="string"&&!Array.isArray(A)){for(const W in A)if(W!=="default"&&!(W in Pe)){const S=Object.getOwnPropertyDescriptor(A,W);S&&Object.defineProperty(Pe,W,S.get?S:{enumerable:!0,get:()=>A[W]})}}}return Object.freeze(Object.defineProperty(Pe,Symbol.toStringTag,{value:"Module"}))}(function(){const ke=document.createElement("link").relList;if(ke&&ke.supports&&ke.supports("modulepreload"))return;for(const W of document.querySelectorAll('link[rel="modulepreload"]'))A(W);new MutationObserver(W=>{for(const S of W)if(S.type==="childList")for(const k of S.addedNodes)k.tagName==="LINK"&&k.rel==="modulepreload"&&A(k)}).observe(document,{childList:!0,subtree:!0});function ge(W){const S={};return W.integrity&&(S.integrity=W.integrity),W.referrerPolicy&&(S.referrerPolicy=W.referrerPolicy),W.crossOrigin==="use-credentials"?S.credentials="include":W.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function A(W){if(W.ep)return;W.ep=!0;const S=ge(W);fetch(W.href,S)}})();var wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bf(Pe){return Pe&&Pe.__esModule&&Object.prototype.hasOwnProperty.call(Pe,"default")?Pe.default:Pe}var ms={exports:{}},wi={},vs={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sf;function Pc(){if(sf)return dt;sf=1;var Pe=Symbol.for("react.element"),ke=Symbol.for("react.portal"),ge=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),k=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),s=Symbol.iterator;function a(V){return V===null||typeof V!="object"?null:(V=s&&V[s]||V["@@iterator"],typeof V=="function"?V:null)}var n={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r=Object.assign,f={};function c(V,q,ee){this.props=V,this.context=q,this.refs=f,this.updater=ee||n}c.prototype.isReactComponent={},c.prototype.setState=function(V,q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,q,"setState")},c.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function o(){}o.prototype=c.prototype;function l(V,q,ee){this.props=V,this.context=q,this.refs=f,this.updater=ee||n}var i=l.prototype=new o;i.constructor=l,r(i,c.prototype),i.isPureReactComponent=!0;var p=Array.isArray,m=Object.prototype.hasOwnProperty,v={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function b(V,q,ee){var Z,J={},K=null,re=null;if(q!=null)for(Z in q.ref!==void 0&&(re=q.ref),q.key!==void 0&&(K=""+q.key),q)m.call(q,Z)&&!_.hasOwnProperty(Z)&&(J[Z]=q[Z]);var ue=arguments.length-2;if(ue===1)J.children=ee;else if(1<ue){for(var ce=Array(ue),ve=0;ve<ue;ve++)ce[ve]=arguments[ve+2];J.children=ce}if(V&&V.defaultProps)for(Z in ue=V.defaultProps,ue)J[Z]===void 0&&(J[Z]=ue[Z]);return{$$typeof:Pe,type:V,key:K,ref:re,props:J,_owner:v.current}}function E(V,q){return{$$typeof:Pe,type:V.type,key:q,ref:V.ref,props:V.props,_owner:V._owner}}function x(V){return typeof V=="object"&&V!==null&&V.$$typeof===Pe}function M(V){var q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ee){return q[ee]})}var O=/\/+/g;function j(V,q){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):q.toString(36)}function T(V,q,ee,Z,J){var K=typeof V;(K==="undefined"||K==="boolean")&&(V=null);var re=!1;if(V===null)re=!0;else switch(K){case"string":case"number":re=!0;break;case"object":switch(V.$$typeof){case Pe:case ke:re=!0}}if(re)return re=V,J=J(re),V=Z===""?"."+j(re,0):Z,p(J)?(ee="",V!=null&&(ee=V.replace(O,"$&/")+"/"),T(J,q,ee,"",function(ve){return ve})):J!=null&&(x(J)&&(J=E(J,ee+(!J.key||re&&re.key===J.key?"":(""+J.key).replace(O,"$&/")+"/")+V)),q.push(J)),1;if(re=0,Z=Z===""?".":Z+":",p(V))for(var ue=0;ue<V.length;ue++){K=V[ue];var ce=Z+j(K,ue);re+=T(K,q,ee,ce,J)}else if(ce=a(V),typeof ce=="function")for(V=ce.call(V),ue=0;!(K=V.next()).done;)K=K.value,ce=Z+j(K,ue++),re+=T(K,q,ee,ce,J);else if(K==="object")throw q=String(V),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return re}function U(V,q,ee){if(V==null)return V;var Z=[],J=0;return T(V,Z,"","",function(K){return q.call(ee,K,J++)}),Z}function H(V){if(V._status===-1){var q=V._result;q=q(),q.then(function(ee){(V._status===0||V._status===-1)&&(V._status=1,V._result=ee)},function(ee){(V._status===0||V._status===-1)&&(V._status=2,V._result=ee)}),V._status===-1&&(V._status=0,V._result=q)}if(V._status===1)return V._result.default;throw V._result}var D={current:null},P={transition:null},B={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:P,ReactCurrentOwner:v};function X(){throw Error("act(...) is not supported in production builds of React.")}return dt.Children={map:U,forEach:function(V,q,ee){U(V,function(){q.apply(this,arguments)},ee)},count:function(V){var q=0;return U(V,function(){q++}),q},toArray:function(V){return U(V,function(q){return q})||[]},only:function(V){if(!x(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},dt.Component=c,dt.Fragment=ge,dt.Profiler=W,dt.PureComponent=l,dt.StrictMode=A,dt.Suspense=d,dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,dt.act=X,dt.cloneElement=function(V,q,ee){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Z=r({},V.props),J=V.key,K=V.ref,re=V._owner;if(q!=null){if(q.ref!==void 0&&(K=q.ref,re=v.current),q.key!==void 0&&(J=""+q.key),V.type&&V.type.defaultProps)var ue=V.type.defaultProps;for(ce in q)m.call(q,ce)&&!_.hasOwnProperty(ce)&&(Z[ce]=q[ce]===void 0&&ue!==void 0?ue[ce]:q[ce])}var ce=arguments.length-2;if(ce===1)Z.children=ee;else if(1<ce){ue=Array(ce);for(var ve=0;ve<ce;ve++)ue[ve]=arguments[ve+2];Z.children=ue}return{$$typeof:Pe,type:V.type,key:J,ref:K,props:Z,_owner:re}},dt.createContext=function(V){return V={$$typeof:k,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:S,_context:V},V.Consumer=V},dt.createElement=b,dt.createFactory=function(V){var q=b.bind(null,V);return q.type=V,q},dt.createRef=function(){return{current:null}},dt.forwardRef=function(V){return{$$typeof:y,render:V}},dt.isValidElement=x,dt.lazy=function(V){return{$$typeof:u,_payload:{_status:-1,_result:V},_init:H}},dt.memo=function(V,q){return{$$typeof:g,type:V,compare:q===void 0?null:q}},dt.startTransition=function(V){var q=P.transition;P.transition={};try{V()}finally{P.transition=q}},dt.unstable_act=X,dt.useCallback=function(V,q){return D.current.useCallback(V,q)},dt.useContext=function(V){return D.current.useContext(V)},dt.useDebugValue=function(){},dt.useDeferredValue=function(V){return D.current.useDeferredValue(V)},dt.useEffect=function(V,q){return D.current.useEffect(V,q)},dt.useId=function(){return D.current.useId()},dt.useImperativeHandle=function(V,q,ee){return D.current.useImperativeHandle(V,q,ee)},dt.useInsertionEffect=function(V,q){return D.current.useInsertionEffect(V,q)},dt.useLayoutEffect=function(V,q){return D.current.useLayoutEffect(V,q)},dt.useMemo=function(V,q){return D.current.useMemo(V,q)},dt.useReducer=function(V,q,ee){return D.current.useReducer(V,q,ee)},dt.useRef=function(V){return D.current.useRef(V)},dt.useState=function(V){return D.current.useState(V)},dt.useSyncExternalStore=function(V,q,ee){return D.current.useSyncExternalStore(V,q,ee)},dt.useTransition=function(){return D.current.useTransition()},dt.version="18.3.1",dt}var lf;function Ns(){return lf||(lf=1,vs.exports=Pc()),vs.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uf;function Oc(){if(uf)return wi;uf=1;var Pe=Ns(),ke=Symbol.for("react.element"),ge=Symbol.for("react.fragment"),A=Object.prototype.hasOwnProperty,W=Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S={key:!0,ref:!0,__self:!0,__source:!0};function k(y,d,g){var u,s={},a=null,n=null;g!==void 0&&(a=""+g),d.key!==void 0&&(a=""+d.key),d.ref!==void 0&&(n=d.ref);for(u in d)A.call(d,u)&&!S.hasOwnProperty(u)&&(s[u]=d[u]);if(y&&y.defaultProps)for(u in d=y.defaultProps,d)s[u]===void 0&&(s[u]=d[u]);return{$$typeof:ke,type:y,key:a,ref:n,props:s,_owner:W.current}}return wi.Fragment=ge,wi.jsx=k,wi.jsxs=k,wi}var ff;function Nc(){return ff||(ff=1,ms.exports=Oc()),ms.exports}var me=Nc(),ct=Ns();const Lc=Bf(ct);var Aa={},gs={exports:{}},nr={},_s={exports:{}},ys={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf;function Ic(){return hf||(hf=1,function(Pe){function ke(P,B){var X=P.length;P.push(B);e:for(;0<X;){var V=X-1>>>1,q=P[V];if(0<W(q,B))P[V]=B,P[X]=q,X=V;else break e}}function ge(P){return P.length===0?null:P[0]}function A(P){if(P.length===0)return null;var B=P[0],X=P.pop();if(X!==B){P[0]=X;e:for(var V=0,q=P.length,ee=q>>>1;V<ee;){var Z=2*(V+1)-1,J=P[Z],K=Z+1,re=P[K];if(0>W(J,X))K<q&&0>W(re,J)?(P[V]=re,P[K]=X,V=K):(P[V]=J,P[Z]=X,V=Z);else if(K<q&&0>W(re,X))P[V]=re,P[K]=X,V=K;else break e}}return B}function W(P,B){var X=P.sortIndex-B.sortIndex;return X!==0?X:P.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var S=performance;Pe.unstable_now=function(){return S.now()}}else{var k=Date,y=k.now();Pe.unstable_now=function(){return k.now()-y}}var d=[],g=[],u=1,s=null,a=3,n=!1,r=!1,f=!1,c=typeof setTimeout=="function"?setTimeout:null,o=typeof clearTimeout=="function"?clearTimeout:null,l=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function i(P){for(var B=ge(g);B!==null;){if(B.callback===null)A(g);else if(B.startTime<=P)A(g),B.sortIndex=B.expirationTime,ke(d,B);else break;B=ge(g)}}function p(P){if(f=!1,i(P),!r)if(ge(d)!==null)r=!0,H(m);else{var B=ge(g);B!==null&&D(p,B.startTime-P)}}function m(P,B){r=!1,f&&(f=!1,o(b),b=-1),n=!0;var X=a;try{for(i(B),s=ge(d);s!==null&&(!(s.expirationTime>B)||P&&!M());){var V=s.callback;if(typeof V=="function"){s.callback=null,a=s.priorityLevel;var q=V(s.expirationTime<=B);B=Pe.unstable_now(),typeof q=="function"?s.callback=q:s===ge(d)&&A(d),i(B)}else A(d);s=ge(d)}if(s!==null)var ee=!0;else{var Z=ge(g);Z!==null&&D(p,Z.startTime-B),ee=!1}return ee}finally{s=null,a=X,n=!1}}var v=!1,_=null,b=-1,E=5,x=-1;function M(){return!(Pe.unstable_now()-x<E)}function O(){if(_!==null){var P=Pe.unstable_now();x=P;var B=!0;try{B=_(!0,P)}finally{B?j():(v=!1,_=null)}}else v=!1}var j;if(typeof l=="function")j=function(){l(O)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,U=T.port2;T.port1.onmessage=O,j=function(){U.postMessage(null)}}else j=function(){c(O,0)};function H(P){_=P,v||(v=!0,j())}function D(P,B){b=c(function(){P(Pe.unstable_now())},B)}Pe.unstable_IdlePriority=5,Pe.unstable_ImmediatePriority=1,Pe.unstable_LowPriority=4,Pe.unstable_NormalPriority=3,Pe.unstable_Profiling=null,Pe.unstable_UserBlockingPriority=2,Pe.unstable_cancelCallback=function(P){P.callback=null},Pe.unstable_continueExecution=function(){r||n||(r=!0,H(m))},Pe.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<P?Math.floor(1e3/P):5},Pe.unstable_getCurrentPriorityLevel=function(){return a},Pe.unstable_getFirstCallbackNode=function(){return ge(d)},Pe.unstable_next=function(P){switch(a){case 1:case 2:case 3:var B=3;break;default:B=a}var X=a;a=B;try{return P()}finally{a=X}},Pe.unstable_pauseExecution=function(){},Pe.unstable_requestPaint=function(){},Pe.unstable_runWithPriority=function(P,B){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var X=a;a=P;try{return B()}finally{a=X}},Pe.unstable_scheduleCallback=function(P,B,X){var V=Pe.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?V+X:V):X=V,P){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=X+q,P={id:u++,callback:B,priorityLevel:P,startTime:X,expirationTime:q,sortIndex:-1},X>V?(P.sortIndex=X,ke(g,P),ge(d)===null&&P===ge(g)&&(f?(o(b),b=-1):f=!0,D(p,X-V))):(P.sortIndex=q,ke(d,P),r||n||(r=!0,H(m))),P},Pe.unstable_shouldYield=M,Pe.unstable_wrapCallback=function(P){var B=a;return function(){var X=a;a=B;try{return P.apply(this,arguments)}finally{a=X}}}}(ys)),ys}var cf;function Dc(){return cf||(cf=1,_s.exports=Ic()),_s.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df;function Bc(){if(df)return nr;df=1;var Pe=Ns(),ke=Dc();function ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,h=1;h<arguments.length;h++)t+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A=new Set,W={};function S(e,t){k(e,t),k(e+"Capture",t)}function k(e,t){for(W[e]=t,e=0;e<t.length;e++)A.add(t[e])}var y=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},s={};function a(e){return d.call(s,e)?!0:d.call(u,e)?!1:g.test(e)?s[e]=!0:(u[e]=!0,!1)}function n(e,t,h,R){if(h!==null&&h.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return R?!1:h!==null?!h.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function r(e,t,h,R){if(t===null||typeof t>"u"||n(e,t,h,R))return!0;if(R)return!1;if(h!==null)switch(h.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function f(e,t,h,R,z,Y,le){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=R,this.attributeNamespace=z,this.mustUseProperty=h,this.propertyName=e,this.type=t,this.sanitizeURL=Y,this.removeEmptyString=le}var c={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){c[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];c[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){c[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){c[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){c[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){c[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){c[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){c[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){c[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var o=/[\-:]([a-z])/g;function l(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(o,l);c[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(o,l);c[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(o,l);c[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){c[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),c.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){c[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});function i(e,t,h,R){var z=c.hasOwnProperty(t)?c[t]:null;(z!==null?z.type!==0:R||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(r(t,h,z,R)&&(h=null),R||z===null?a(t)&&(h===null?e.removeAttribute(t):e.setAttribute(t,""+h)):z.mustUseProperty?e[z.propertyName]=h===null?z.type===3?!1:"":h:(t=z.attributeName,R=z.attributeNamespace,h===null?e.removeAttribute(t):(z=z.type,h=z===3||z===4&&h===!0?"":""+h,R?e.setAttributeNS(R,t,h):e.setAttribute(t,h))))}var p=Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,m=Symbol.for("react.element"),v=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),M=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),P=Symbol.iterator;function B(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var X=Object.assign,V;function q(e){if(V===void 0)try{throw Error()}catch(h){var t=h.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return`
`+V+e}var ee=!1;function Z(e,t){if(!e||ee)return"";ee=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(ze){var R=ze}Reflect.construct(e,[],t)}else{try{t.call()}catch(ze){R=ze}e.call(t.prototype)}else{try{throw Error()}catch(ze){R=ze}e()}}catch(ze){if(ze&&R&&typeof ze.stack=="string"){for(var z=ze.stack.split(`
`),Y=R.stack.split(`
`),le=z.length-1,Ee=Y.length-1;1<=le&&0<=Ee&&z[le]!==Y[Ee];)Ee--;for(;1<=le&&0<=Ee;le--,Ee--)if(z[le]!==Y[Ee]){if(le!==1||Ee!==1)do if(le--,Ee--,0>Ee||z[le]!==Y[Ee]){var Te=`
`+z[le].replace(" at new "," at ");return e.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",e.displayName)),Te}while(1<=le&&0<=Ee);break}}}finally{ee=!1,Error.prepareStackTrace=h}return(e=e?e.displayName||e.name:"")?q(e):""}function J(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=Z(e.type,!1),e;case 11:return e=Z(e.type.render,!1),e;case 1:return e=Z(e.type,!0),e;default:return""}}function K(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case v:return"Portal";case E:return"Profiler";case b:return"StrictMode";case j:return"Suspense";case T:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case M:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case U:return t=e.displayName||null,t!==null?t:K(e.type)||"Memo";case H:t=e._payload,e=e._init;try{return K(e(t))}catch{}}return null}function re(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K(t);case 8:return t===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ue(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ce(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ve(e){var t=ce(e)?"checked":"value",h=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),R=""+e[t];if(!e.hasOwnProperty(t)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var z=h.get,Y=h.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return z.call(this)},set:function(le){R=""+le,Y.call(this,le)}}),Object.defineProperty(e,t,{enumerable:h.enumerable}),{getValue:function(){return R},setValue:function(le){R=""+le},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _e(e){e._valueTracker||(e._valueTracker=ve(e))}function Re(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var h=t.getValue(),R="";return e&&(R=ce(e)?e.checked?"true":"false":e.value),e=R,e!==h?(t.setValue(e),!0):!1}function he(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fe(e,t){var h=t.checked;return X({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??e._wrapperState.initialChecked})}function ne(e,t){var h=t.defaultValue==null?"":t.defaultValue,R=t.checked!=null?t.checked:t.defaultChecked;h=ue(t.value!=null?t.value:h),e._wrapperState={initialChecked:R,initialValue:h,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function se(e,t){t=t.checked,t!=null&&i(e,"checked",t,!1)}function oe(e,t){se(e,t);var h=ue(t.value),R=t.type;if(h!=null)R==="number"?(h===0&&e.value===""||e.value!=h)&&(e.value=""+h):e.value!==""+h&&(e.value=""+h);else if(R==="submit"||R==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?I(e,t.type,h):t.hasOwnProperty("defaultValue")&&I(e,t.type,ue(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,h){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var R=t.type;if(!(R!=="submit"&&R!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,h||t===e.value||(e.value=t),e.defaultValue=t}h=e.name,h!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,h!==""&&(e.name=h)}function I(e,t,h){(t!=="number"||he(e.ownerDocument)!==e)&&(h==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+h&&(e.defaultValue=""+h))}var L=Array.isArray;function te(e,t,h,R){if(e=e.options,t){t={};for(var z=0;z<h.length;z++)t["$"+h[z]]=!0;for(h=0;h<e.length;h++)z=t.hasOwnProperty("$"+e[h].value),e[h].selected!==z&&(e[h].selected=z),z&&R&&(e[h].defaultSelected=!0)}else{for(h=""+ue(h),t=null,z=0;z<e.length;z++){if(e[z].value===h){e[z].selected=!0,R&&(e[z].defaultSelected=!0);return}t!==null||e[z].disabled||(t=e[z])}t!==null&&(t.selected=!0)}}function $(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ge(91));return X({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function N(e,t){var h=t.value;if(h==null){if(h=t.children,t=t.defaultValue,h!=null){if(t!=null)throw Error(ge(92));if(L(h)){if(1<h.length)throw Error(ge(93));h=h[0]}t=h}t==null&&(t=""),h=t}e._wrapperState={initialValue:ue(h)}}function C(e,t){var h=ue(t.value),R=ue(t.defaultValue);h!=null&&(h=""+h,h!==e.value&&(e.value=h),t.defaultValue==null&&e.defaultValue!==h&&(e.defaultValue=h)),R!=null&&(e.defaultValue=""+R)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xe(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?de(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Me,je=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,h,R,z){MSApp.execUnsafeLocalFunction(function(){return e(t,h,R,z)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Me=Me||document.createElement("div"),Me.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ze(e,t){if(t){var h=e.firstChild;if(h&&h===e.lastChild&&h.nodeType===3){h.nodeValue=t;return}}e.textContent=t}var He={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ve=["Webkit","ms","Moz","O"];Object.keys(He).forEach(function(e){Ve.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),He[t]=He[e]})});function We(e,t,h){return t==null||typeof t=="boolean"||t===""?"":h||typeof t!="number"||t===0||He.hasOwnProperty(e)&&He[e]?(""+t).trim():t+"px"}function Ue(e,t){e=e.style;for(var h in t)if(t.hasOwnProperty(h)){var R=h.indexOf("--")===0,z=We(h,t[h],R);h==="float"&&(h="cssFloat"),R?e.setProperty(h,z):e[h]=z}}var et=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $e(e,t){if(t){if(et[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ge(62))}}function G(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Se(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Le=null,we=null,Ce=null;function ae(e){if(e=ai(e)){if(typeof Le!="function")throw Error(ge(280));var t=e.stateNode;t&&(t=Hi(t),Le(e.stateNode,e.type,t))}}function Be(e){we?Ce?Ce.push(e):Ce=[e]:we=e}function qe(){if(we){var e=we,t=Ce;if(Ce=we=null,ae(e),t)for(e=0;e<t.length;e++)ae(t[e])}}function w(e,t){return e(t)}function ye(){}var Ae=!1;function F(e,t,h){if(Ae)return e(t,h);Ae=!0;try{return w(e,t,h)}finally{Ae=!1,(we!==null||Ce!==null)&&(ye(),qe())}}function pe(e,t){var h=e.stateNode;if(h===null)return null;var R=Hi(h);if(R===null)return null;h=R[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(e=e.type,R=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!R;break e;default:e=!1}if(e)return null;if(h&&typeof h!="function")throw Error(ge(231,t,typeof h));return h}var Oe=!1;if(y)try{var Ge={};Object.defineProperty(Ge,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Ge,Ge),window.removeEventListener("test",Ge,Ge)}catch{Oe=!1}function Fe(e,t,h,R,z,Y,le,Ee,Te){var ze=Array.prototype.slice.call(arguments,3);try{t.apply(h,ze)}catch(Xe){this.onError(Xe)}}var Je=!1,tt=null,Tt=!1,vt=null,ht={onError:function(e){Je=!0,tt=e}};function _t(e,t,h,R,z,Y,le,Ee,Te){Je=!1,tt=null,Fe.apply(ht,arguments)}function xt(e,t,h,R,z,Y,le,Ee,Te){if(_t.apply(this,arguments),Je){if(Je){var ze=tt;Je=!1,tt=null}else throw Error(ge(198));Tt||(Tt=!0,vt=ze)}}function bt(e){var t=e,h=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(h=t.return),e=t.return;while(e)}return t.tag===3?h:null}function br(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Er(e){if(bt(e)!==e)throw Error(ge(188))}function Rt(e){var t=e.alternate;if(!t){if(t=bt(e),t===null)throw Error(ge(188));return t!==e?null:e}for(var h=e,R=t;;){var z=h.return;if(z===null)break;var Y=z.alternate;if(Y===null){if(R=z.return,R!==null){h=R;continue}break}if(z.child===Y.child){for(Y=z.child;Y;){if(Y===h)return Er(z),e;if(Y===R)return Er(z),t;Y=Y.sibling}throw Error(ge(188))}if(h.return!==R.return)h=z,R=Y;else{for(var le=!1,Ee=z.child;Ee;){if(Ee===h){le=!0,h=z,R=Y;break}if(Ee===R){le=!0,R=z,h=Y;break}Ee=Ee.sibling}if(!le){for(Ee=Y.child;Ee;){if(Ee===h){le=!0,h=Y,R=z;break}if(Ee===R){le=!0,R=Y,h=z;break}Ee=Ee.sibling}if(!le)throw Error(ge(189))}}if(h.alternate!==R)throw Error(ge(190))}if(h.tag!==3)throw Error(ge(188));return h.stateNode.current===h?e:t}function Nt(e){return e=Rt(e),e!==null?kt(e):null}function kt(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kt(e);if(t!==null)return t;e=e.sibling}return null}var Gt=ke.unstable_scheduleCallback,jt=ke.unstable_cancelCallback,tn=ke.unstable_shouldYield,bi=ke.unstable_requestPaint,At=ke.unstable_now,Ei=ke.unstable_getCurrentPriorityLevel,vn=ke.unstable_ImmediatePriority,Un=ke.unstable_UserBlockingPriority,rn=ke.unstable_NormalPriority,gn=ke.unstable_LowPriority,Ds=ke.unstable_IdlePriority,Si=null,Sr=null;function Zf(e){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(Si,e,void 0,(e.current.flags&128)===128)}catch{}}var pr=Math.clz32?Math.clz32:Yf,Vf=Math.log,$f=Math.LN2;function Yf(e){return e>>>=0,e===0?32:31-(Vf(e)/$f|0)|0}var xi=64,Ri=4194304;function Fn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ki(e,t){var h=e.pendingLanes;if(h===0)return 0;var R=0,z=e.suspendedLanes,Y=e.pingedLanes,le=h&268435455;if(le!==0){var Ee=le&~z;Ee!==0?R=Fn(Ee):(Y&=le,Y!==0&&(R=Fn(Y)))}else le=h&~z,le!==0?R=Fn(le):Y!==0&&(R=Fn(Y));if(R===0)return 0;if(t!==0&&t!==R&&(t&z)===0&&(z=R&-R,Y=t&-t,z>=Y||z===16&&(Y&4194240)!==0))return t;if((R&4)!==0&&(R|=h&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=R;0<t;)h=31-pr(t),z=1<<h,R|=e[h],t&=~z;return R}function Xf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qf(e,t){for(var h=e.suspendedLanes,R=e.pingedLanes,z=e.expirationTimes,Y=e.pendingLanes;0<Y;){var le=31-pr(Y),Ee=1<<le,Te=z[le];Te===-1?((Ee&h)===0||(Ee&R)!==0)&&(z[le]=Xf(Ee,t)):Te<=t&&(e.expiredLanes|=Ee),Y&=~Ee}}function Ia(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Bs(){var e=xi;return xi<<=1,(xi&4194240)===0&&(xi=64),e}function Da(e){for(var t=[],h=0;31>h;h++)t.push(e);return t}function Hn(e,t,h){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pr(t),e[t]=h}function Kf(e,t){var h=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var R=e.eventTimes;for(e=e.expirationTimes;0<h;){var z=31-pr(h),Y=1<<z;t[z]=0,R[z]=-1,e[z]=-1,h&=~Y}}function Ba(e,t){var h=e.entangledLanes|=t;for(e=e.entanglements;h;){var R=31-pr(h),z=1<<R;z&t|e[R]&t&&(e[R]|=t),h&=~z}}var gt=0;function zs(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var js,za,Us,Fs,Hs,ja=!1,Ai=[],Dr=null,Br=null,zr=null,Gn=new Map,Wn=new Map,jr=[],Jf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gs(e,t){switch(e){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":Gn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wn.delete(t.pointerId)}}function Zn(e,t,h,R,z,Y){return e===null||e.nativeEvent!==Y?(e={blockedOn:t,domEventName:h,eventSystemFlags:R,nativeEvent:Y,targetContainers:[z]},t!==null&&(t=ai(t),t!==null&&za(t)),e):(e.eventSystemFlags|=R,t=e.targetContainers,z!==null&&t.indexOf(z)===-1&&t.push(z),e)}function qf(e,t,h,R,z){switch(t){case"focusin":return Dr=Zn(Dr,e,t,h,R,z),!0;case"dragenter":return Br=Zn(Br,e,t,h,R,z),!0;case"mouseover":return zr=Zn(zr,e,t,h,R,z),!0;case"pointerover":var Y=z.pointerId;return Gn.set(Y,Zn(Gn.get(Y)||null,e,t,h,R,z)),!0;case"gotpointercapture":return Y=z.pointerId,Wn.set(Y,Zn(Wn.get(Y)||null,e,t,h,R,z)),!0}return!1}function Ws(e){var t=nn(e.target);if(t!==null){var h=bt(t);if(h!==null){if(t=h.tag,t===13){if(t=br(h),t!==null){e.blockedOn=t,Hs(e.priority,function(){Us(h)});return}}else if(t===3&&h.stateNode.current.memoizedState.isDehydrated){e.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var h=Fa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(h===null){h=e.nativeEvent;var R=new h.constructor(h.type,h);be=R,h.target.dispatchEvent(R),be=null}else return t=ai(h),t!==null&&za(t),e.blockedOn=h,!1;t.shift()}return!0}function Zs(e,t,h){Mi(e)&&h.delete(t)}function eh(){ja=!1,Dr!==null&&Mi(Dr)&&(Dr=null),Br!==null&&Mi(Br)&&(Br=null),zr!==null&&Mi(zr)&&(zr=null),Gn.forEach(Zs),Wn.forEach(Zs)}function Vn(e,t){e.blockedOn===t&&(e.blockedOn=null,ja||(ja=!0,ke.unstable_scheduleCallback(ke.unstable_NormalPriority,eh)))}function $n(e){function t(z){return Vn(z,e)}if(0<Ai.length){Vn(Ai[0],e);for(var h=1;h<Ai.length;h++){var R=Ai[h];R.blockedOn===e&&(R.blockedOn=null)}}for(Dr!==null&&Vn(Dr,e),Br!==null&&Vn(Br,e),zr!==null&&Vn(zr,e),Gn.forEach(t),Wn.forEach(t),h=0;h<jr.length;h++)R=jr[h],R.blockedOn===e&&(R.blockedOn=null);for(;0<jr.length&&(h=jr[0],h.blockedOn===null);)Ws(h),h.blockedOn===null&&jr.shift()}var _n=p.ReactCurrentBatchConfig,Ti=!0;function th(e,t,h,R){var z=gt,Y=_n.transition;_n.transition=null;try{gt=1,Ua(e,t,h,R)}finally{gt=z,_n.transition=Y}}function rh(e,t,h,R){var z=gt,Y=_n.transition;_n.transition=null;try{gt=4,Ua(e,t,h,R)}finally{gt=z,_n.transition=Y}}function Ua(e,t,h,R){if(Ti){var z=Fa(e,t,h,R);if(z===null)io(e,t,R,Ci,h),Gs(e,R);else if(qf(z,e,t,h,R))R.stopPropagation();else if(Gs(e,R),t&4&&-1<Jf.indexOf(e)){for(;z!==null;){var Y=ai(z);if(Y!==null&&js(Y),Y=Fa(e,t,h,R),Y===null&&io(e,t,R,Ci,h),Y===z)break;z=Y}z!==null&&R.stopPropagation()}else io(e,t,R,null,h)}}var Ci=null;function Fa(e,t,h,R){if(Ci=null,e=Se(R),e=nn(e),e!==null)if(t=bt(e),t===null)e=null;else if(h=t.tag,h===13){if(e=br(t),e!==null)return e;e=null}else if(h===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ci=e,null}function Vs(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ei()){case vn:return 1;case Un:return 4;case rn:case gn:return 16;case Ds:return 536870912;default:return 16}default:return 16}}var Ur=null,Ha=null,Pi=null;function $s(){if(Pi)return Pi;var e,t=Ha,h=t.length,R,z="value"in Ur?Ur.value:Ur.textContent,Y=z.length;for(e=0;e<h&&t[e]===z[e];e++);var le=h-e;for(R=1;R<=le&&t[h-R]===z[Y-R];R++);return Pi=z.slice(e,1<R?1-R:void 0)}function Oi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function Ys(){return!1}function ir(e){function t(h,R,z,Y,le){this._reactName=h,this._targetInst=z,this.type=R,this.nativeEvent=Y,this.target=le,this.currentTarget=null;for(var Ee in e)e.hasOwnProperty(Ee)&&(h=e[Ee],this[Ee]=h?h(Y):Y[Ee]);return this.isDefaultPrevented=(Y.defaultPrevented!=null?Y.defaultPrevented:Y.returnValue===!1)?Ni:Ys,this.isPropagationStopped=Ys,this}return X(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),t}var yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=ir(yn),Yn=X({},yn,{view:0,detail:0}),nh=ir(Yn),Wa,Za,Xn,Li=X({},Yn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$a,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xn&&(Xn&&e.type==="mousemove"?(Wa=e.screenX-Xn.screenX,Za=e.screenY-Xn.screenY):Za=Wa=0,Xn=e),Wa)},movementY:function(e){return"movementY"in e?e.movementY:Za}}),Xs=ir(Li),ih=X({},Li,{dataTransfer:0}),ah=ir(ih),oh=X({},Yn,{relatedTarget:0}),Va=ir(oh),sh=X({},yn,{animationName:0,elapsedTime:0,pseudoElement:0}),lh=ir(sh),uh=X({},yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fh=ir(uh),hh=X({},yn,{data:0}),Qs=ir(hh),ch={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ph={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ph[e])?!!t[e]:!1}function $a(){return mh}var vh=X({},Yn,{key:function(e){if(e.key){var t=ch[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Oi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$a,charCode:function(e){return e.type==="keypress"?Oi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Oi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gh=ir(vh),_h=X({},Li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ks=ir(_h),yh=X({},Yn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$a}),wh=ir(yh),bh=X({},yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eh=ir(bh),Sh=X({},Li,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xh=ir(Sh),Rh=[9,13,27,32],Ya=y&&"CompositionEvent"in window,Qn=null;y&&"documentMode"in document&&(Qn=document.documentMode);var kh=y&&"TextEvent"in window&&!Qn,Js=y&&(!Ya||Qn&&8<Qn&&11>=Qn),qs=" ",el=!1;function tl(e,t){switch(e){case"keyup":return Rh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rl(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wn=!1;function Ah(e,t){switch(e){case"compositionend":return rl(t);case"keypress":return t.which!==32?null:(el=!0,qs);case"textInput":return e=t.data,e===qs&&el?null:e;default:return null}}function Mh(e,t){if(wn)return e==="compositionend"||!Ya&&tl(e,t)?(e=$s(),Pi=Ha=Ur=null,wn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Js&&t.locale!=="ko"?null:t.data;default:return null}}var Th={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Th[e.type]:t==="textarea"}function il(e,t,h,R){Be(R),t=ji(t,"onChange"),0<t.length&&(h=new Ga("onChange","change",null,h,R),e.push({event:h,listeners:t}))}var Kn=null,Jn=null;function Ch(e){El(e,0)}function Ii(e){var t=Rn(e);if(Re(t))return e}function Ph(e,t){if(e==="change")return t}var al=!1;if(y){var Xa;if(y){var Qa="oninput"in document;if(!Qa){var ol=document.createElement("div");ol.setAttribute("oninput","return;"),Qa=typeof ol.oninput=="function"}Xa=Qa}else Xa=!1;al=Xa&&(!document.documentMode||9<document.documentMode)}function sl(){Kn&&(Kn.detachEvent("onpropertychange",ll),Jn=Kn=null)}function ll(e){if(e.propertyName==="value"&&Ii(Jn)){var t=[];il(t,Jn,e,Se(e)),F(Ch,t)}}function Oh(e,t,h){e==="focusin"?(sl(),Kn=t,Jn=h,Kn.attachEvent("onpropertychange",ll)):e==="focusout"&&sl()}function Nh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ii(Jn)}function Lh(e,t){if(e==="click")return Ii(t)}function Ih(e,t){if(e==="input"||e==="change")return Ii(t)}function Dh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mr=typeof Object.is=="function"?Object.is:Dh;function qn(e,t){if(mr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var h=Object.keys(e),R=Object.keys(t);if(h.length!==R.length)return!1;for(R=0;R<h.length;R++){var z=h[R];if(!d.call(t,z)||!mr(e[z],t[z]))return!1}return!0}function ul(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fl(e,t){var h=ul(e);e=0;for(var R;h;){if(h.nodeType===3){if(R=e+h.textContent.length,e<=t&&R>=t)return{node:h,offset:t-e};e=R}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=ul(h)}}function hl(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hl(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cl(){for(var e=window,t=he();t instanceof e.HTMLIFrameElement;){try{var h=typeof t.contentWindow.location.href=="string"}catch{h=!1}if(h)e=t.contentWindow;else break;t=he(e.document)}return t}function Ka(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Bh(e){var t=cl(),h=e.focusedElem,R=e.selectionRange;if(t!==h&&h&&h.ownerDocument&&hl(h.ownerDocument.documentElement,h)){if(R!==null&&Ka(h)){if(t=R.start,e=R.end,e===void 0&&(e=t),"selectionStart"in h)h.selectionStart=t,h.selectionEnd=Math.min(e,h.value.length);else if(e=(t=h.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var z=h.textContent.length,Y=Math.min(R.start,z);R=R.end===void 0?Y:Math.min(R.end,z),!e.extend&&Y>R&&(z=R,R=Y,Y=z),z=fl(h,Y);var le=fl(h,R);z&&le&&(e.rangeCount!==1||e.anchorNode!==z.node||e.anchorOffset!==z.offset||e.focusNode!==le.node||e.focusOffset!==le.offset)&&(t=t.createRange(),t.setStart(z.node,z.offset),e.removeAllRanges(),Y>R?(e.addRange(t),e.extend(le.node,le.offset)):(t.setEnd(le.node,le.offset),e.addRange(t)))}}for(t=[],e=h;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<t.length;h++)e=t[h],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zh=y&&"documentMode"in document&&11>=document.documentMode,bn=null,Ja=null,ei=null,qa=!1;function dl(e,t,h){var R=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;qa||bn==null||bn!==he(R)||(R=bn,"selectionStart"in R&&Ka(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),ei&&qn(ei,R)||(ei=R,R=ji(Ja,"onSelect"),0<R.length&&(t=new Ga("onSelect","select",null,t,h),e.push({event:t,listeners:R}),t.target=bn)))}function Di(e,t){var h={};return h[e.toLowerCase()]=t.toLowerCase(),h["Webkit"+e]="webkit"+t,h["Moz"+e]="moz"+t,h}var En={animationend:Di("Animation","AnimationEnd"),animationiteration:Di("Animation","AnimationIteration"),animationstart:Di("Animation","AnimationStart"),transitionend:Di("Transition","TransitionEnd")},eo={},pl={};y&&(pl=document.createElement("div").style,"AnimationEvent"in window||(delete En.animationend.animation,delete En.animationiteration.animation,delete En.animationstart.animation),"TransitionEvent"in window||delete En.transitionend.transition);function Bi(e){if(eo[e])return eo[e];if(!En[e])return e;var t=En[e],h;for(h in t)if(t.hasOwnProperty(h)&&h in pl)return eo[e]=t[h];return e}var ml=Bi("animationend"),vl=Bi("animationiteration"),gl=Bi("animationstart"),_l=Bi("transitionend"),yl=new Map,wl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fr(e,t){yl.set(e,t),S(t,[e])}for(var to=0;to<wl.length;to++){var ro=wl[to],jh=ro.toLowerCase(),Uh=ro[0].toUpperCase()+ro.slice(1);Fr(jh,"on"+Uh)}Fr(ml,"onAnimationEnd"),Fr(vl,"onAnimationIteration"),Fr(gl,"onAnimationStart"),Fr("dblclick","onDoubleClick"),Fr("focusin","onFocus"),Fr("focusout","onBlur"),Fr(_l,"onTransitionEnd"),k("onMouseEnter",["mouseout","mouseover"]),k("onMouseLeave",["mouseout","mouseover"]),k("onPointerEnter",["pointerout","pointerover"]),k("onPointerLeave",["pointerout","pointerover"]),S("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),S("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),S("onBeforeInput",["compositionend","keypress","textInput","paste"]),S("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),S("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),S("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ti="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fh=new Set("cancel close invalid load scroll toggle".split(" ").concat(ti));function bl(e,t,h){var R=e.type||"unknown-event";e.currentTarget=h,xt(R,t,void 0,e),e.currentTarget=null}function El(e,t){t=(t&4)!==0;for(var h=0;h<e.length;h++){var R=e[h],z=R.event;R=R.listeners;e:{var Y=void 0;if(t)for(var le=R.length-1;0<=le;le--){var Ee=R[le],Te=Ee.instance,ze=Ee.currentTarget;if(Ee=Ee.listener,Te!==Y&&z.isPropagationStopped())break e;bl(z,Ee,ze),Y=Te}else for(le=0;le<R.length;le++){if(Ee=R[le],Te=Ee.instance,ze=Ee.currentTarget,Ee=Ee.listener,Te!==Y&&z.isPropagationStopped())break e;bl(z,Ee,ze),Y=Te}}}if(Tt)throw e=vt,Tt=!1,vt=null,e}function Et(e,t){var h=t[fo];h===void 0&&(h=t[fo]=new Set);var R=e+"__bubble";h.has(R)||(Sl(t,e,2,!1),h.add(R))}function no(e,t,h){var R=0;t&&(R|=4),Sl(h,e,R,t)}var zi="_reactListening"+Math.random().toString(36).slice(2);function ri(e){if(!e[zi]){e[zi]=!0,A.forEach(function(h){h!=="selectionchange"&&(Fh.has(h)||no(h,!1,e),no(h,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zi]||(t[zi]=!0,no("selectionchange",!1,t))}}function Sl(e,t,h,R){switch(Vs(t)){case 1:var z=th;break;case 4:z=rh;break;default:z=Ua}h=z.bind(null,t,h,e),z=void 0,!Oe||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(z=!0),R?z!==void 0?e.addEventListener(t,h,{capture:!0,passive:z}):e.addEventListener(t,h,!0):z!==void 0?e.addEventListener(t,h,{passive:z}):e.addEventListener(t,h,!1)}function io(e,t,h,R,z){var Y=R;if((t&1)===0&&(t&2)===0&&R!==null)e:for(;;){if(R===null)return;var le=R.tag;if(le===3||le===4){var Ee=R.stateNode.containerInfo;if(Ee===z||Ee.nodeType===8&&Ee.parentNode===z)break;if(le===4)for(le=R.return;le!==null;){var Te=le.tag;if((Te===3||Te===4)&&(Te=le.stateNode.containerInfo,Te===z||Te.nodeType===8&&Te.parentNode===z))return;le=le.return}for(;Ee!==null;){if(le=nn(Ee),le===null)return;if(Te=le.tag,Te===5||Te===6){R=Y=le;continue e}Ee=Ee.parentNode}}R=R.return}F(function(){var ze=Y,Xe=Se(h),Qe=[];e:{var Ye=yl.get(e);if(Ye!==void 0){var rt=Ga,it=e;switch(e){case"keypress":if(Oi(h)===0)break e;case"keydown":case"keyup":rt=gh;break;case"focusin":it="focus",rt=Va;break;case"focusout":it="blur",rt=Va;break;case"beforeblur":case"afterblur":rt=Va;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=ah;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=wh;break;case ml:case vl:case gl:rt=lh;break;case _l:rt=Eh;break;case"scroll":rt=nh;break;case"wheel":rt=xh;break;case"copy":case"cut":case"paste":rt=fh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Ks}var at=(t&4)!==0,Lt=!at&&e==="scroll",Ie=at?Ye!==null?Ye+"Capture":null:Ye;at=[];for(var Ne=ze,De;Ne!==null;){De=Ne;var Ke=De.stateNode;if(De.tag===5&&Ke!==null&&(De=Ke,Ie!==null&&(Ke=pe(Ne,Ie),Ke!=null&&at.push(ni(Ne,Ke,De)))),Lt)break;Ne=Ne.return}0<at.length&&(Ye=new rt(Ye,it,null,h,Xe),Qe.push({event:Ye,listeners:at}))}}if((t&7)===0){e:{if(Ye=e==="mouseover"||e==="pointerover",rt=e==="mouseout"||e==="pointerout",Ye&&h!==be&&(it=h.relatedTarget||h.fromElement)&&(nn(it)||it[Mr]))break e;if((rt||Ye)&&(Ye=Xe.window===Xe?Xe:(Ye=Xe.ownerDocument)?Ye.defaultView||Ye.parentWindow:window,rt?(it=h.relatedTarget||h.toElement,rt=ze,it=it?nn(it):null,it!==null&&(Lt=bt(it),it!==Lt||it.tag!==5&&it.tag!==6)&&(it=null)):(rt=null,it=ze),rt!==it)){if(at=Xs,Ke="onMouseLeave",Ie="onMouseEnter",Ne="mouse",(e==="pointerout"||e==="pointerover")&&(at=Ks,Ke="onPointerLeave",Ie="onPointerEnter",Ne="pointer"),Lt=rt==null?Ye:Rn(rt),De=it==null?Ye:Rn(it),Ye=new at(Ke,Ne+"leave",rt,h,Xe),Ye.target=Lt,Ye.relatedTarget=De,Ke=null,nn(Xe)===ze&&(at=new at(Ie,Ne+"enter",it,h,Xe),at.target=De,at.relatedTarget=Lt,Ke=at),Lt=Ke,rt&&it)t:{for(at=rt,Ie=it,Ne=0,De=at;De;De=Sn(De))Ne++;for(De=0,Ke=Ie;Ke;Ke=Sn(Ke))De++;for(;0<Ne-De;)at=Sn(at),Ne--;for(;0<De-Ne;)Ie=Sn(Ie),De--;for(;Ne--;){if(at===Ie||Ie!==null&&at===Ie.alternate)break t;at=Sn(at),Ie=Sn(Ie)}at=null}else at=null;rt!==null&&xl(Qe,Ye,rt,at,!1),it!==null&&Lt!==null&&xl(Qe,Lt,it,at,!0)}}e:{if(Ye=ze?Rn(ze):window,rt=Ye.nodeName&&Ye.nodeName.toLowerCase(),rt==="select"||rt==="input"&&Ye.type==="file")var ot=Ph;else if(nl(Ye))if(al)ot=Ih;else{ot=Nh;var st=Oh}else(rt=Ye.nodeName)&&rt.toLowerCase()==="input"&&(Ye.type==="checkbox"||Ye.type==="radio")&&(ot=Lh);if(ot&&(ot=ot(e,ze))){il(Qe,ot,h,Xe);break e}st&&st(e,Ye,ze),e==="focusout"&&(st=Ye._wrapperState)&&st.controlled&&Ye.type==="number"&&I(Ye,"number",Ye.value)}switch(st=ze?Rn(ze):window,e){case"focusin":(nl(st)||st.contentEditable==="true")&&(bn=st,Ja=ze,ei=null);break;case"focusout":ei=Ja=bn=null;break;case"mousedown":qa=!0;break;case"contextmenu":case"mouseup":case"dragend":qa=!1,dl(Qe,h,Xe);break;case"selectionchange":if(zh)break;case"keydown":case"keyup":dl(Qe,h,Xe)}var lt;if(Ya)e:{switch(e){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else wn?tl(e,h)&&(ft="onCompositionEnd"):e==="keydown"&&h.keyCode===229&&(ft="onCompositionStart");ft&&(Js&&h.locale!=="ko"&&(wn||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&wn&&(lt=$s()):(Ur=Xe,Ha="value"in Ur?Ur.value:Ur.textContent,wn=!0)),st=ji(ze,ft),0<st.length&&(ft=new Qs(ft,e,null,h,Xe),Qe.push({event:ft,listeners:st}),lt?ft.data=lt:(lt=rl(h),lt!==null&&(ft.data=lt)))),(lt=kh?Ah(e,h):Mh(e,h))&&(ze=ji(ze,"onBeforeInput"),0<ze.length&&(Xe=new Qs("onBeforeInput","beforeinput",null,h,Xe),Qe.push({event:Xe,listeners:ze}),Xe.data=lt))}El(Qe,t)})}function ni(e,t,h){return{instance:e,listener:t,currentTarget:h}}function ji(e,t){for(var h=t+"Capture",R=[];e!==null;){var z=e,Y=z.stateNode;z.tag===5&&Y!==null&&(z=Y,Y=pe(e,h),Y!=null&&R.unshift(ni(e,Y,z)),Y=pe(e,t),Y!=null&&R.push(ni(e,Y,z))),e=e.return}return R}function Sn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xl(e,t,h,R,z){for(var Y=t._reactName,le=[];h!==null&&h!==R;){var Ee=h,Te=Ee.alternate,ze=Ee.stateNode;if(Te!==null&&Te===R)break;Ee.tag===5&&ze!==null&&(Ee=ze,z?(Te=pe(h,Y),Te!=null&&le.unshift(ni(h,Te,Ee))):z||(Te=pe(h,Y),Te!=null&&le.push(ni(h,Te,Ee)))),h=h.return}le.length!==0&&e.push({event:t,listeners:le})}var Hh=/\r\n?/g,Gh=/\u0000|\uFFFD/g;function Rl(e){return(typeof e=="string"?e:""+e).replace(Hh,`
`).replace(Gh,"")}function Ui(e,t,h){if(t=Rl(t),Rl(e)!==t&&h)throw Error(ge(425))}function Fi(){}var ao=null,oo=null;function so(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lo=typeof setTimeout=="function"?setTimeout:void 0,Wh=typeof clearTimeout=="function"?clearTimeout:void 0,kl=typeof Promise=="function"?Promise:void 0,Zh=typeof queueMicrotask=="function"?queueMicrotask:typeof kl<"u"?function(e){return kl.resolve(null).then(e).catch(Vh)}:lo;function Vh(e){setTimeout(function(){throw e})}function uo(e,t){var h=t,R=0;do{var z=h.nextSibling;if(e.removeChild(h),z&&z.nodeType===8)if(h=z.data,h==="/$"){if(R===0){e.removeChild(z),$n(t);return}R--}else h!=="$"&&h!=="$?"&&h!=="$!"||R++;h=z}while(h);$n(t)}function Hr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Al(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var h=e.data;if(h==="$"||h==="$!"||h==="$?"){if(t===0)return e;t--}else h==="/$"&&t++}e=e.previousSibling}return null}var xn=Math.random().toString(36).slice(2),xr="__reactFiber$"+xn,ii="__reactProps$"+xn,Mr="__reactContainer$"+xn,fo="__reactEvents$"+xn,$h="__reactListeners$"+xn,Yh="__reactHandles$"+xn;function nn(e){var t=e[xr];if(t)return t;for(var h=e.parentNode;h;){if(t=h[Mr]||h[xr]){if(h=t.alternate,t.child!==null||h!==null&&h.child!==null)for(e=Al(e);e!==null;){if(h=e[xr])return h;e=Al(e)}return t}e=h,h=e.parentNode}return null}function ai(e){return e=e[xr]||e[Mr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ge(33))}function Hi(e){return e[ii]||null}var ho=[],kn=-1;function Gr(e){return{current:e}}function St(e){0>kn||(e.current=ho[kn],ho[kn]=null,kn--)}function yt(e,t){kn++,ho[kn]=e.current,e.current=t}var Wr={},Vt=Gr(Wr),Jt=Gr(!1),an=Wr;function An(e,t){var h=e.type.contextTypes;if(!h)return Wr;var R=e.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===t)return R.__reactInternalMemoizedMaskedChildContext;var z={},Y;for(Y in h)z[Y]=t[Y];return R&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=z),z}function qt(e){return e=e.childContextTypes,e!=null}function Gi(){St(Jt),St(Vt)}function Ml(e,t,h){if(Vt.current!==Wr)throw Error(ge(168));yt(Vt,t),yt(Jt,h)}function Tl(e,t,h){var R=e.stateNode;if(t=t.childContextTypes,typeof R.getChildContext!="function")return h;R=R.getChildContext();for(var z in R)if(!(z in t))throw Error(ge(108,re(e)||"Unknown",z));return X({},h,R)}function Wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wr,an=Vt.current,yt(Vt,e),yt(Jt,Jt.current),!0}function Cl(e,t,h){var R=e.stateNode;if(!R)throw Error(ge(169));h?(e=Tl(e,t,an),R.__reactInternalMemoizedMergedChildContext=e,St(Jt),St(Vt),yt(Vt,e)):St(Jt),yt(Jt,h)}var Tr=null,Zi=!1,co=!1;function Pl(e){Tr===null?Tr=[e]:Tr.push(e)}function Xh(e){Zi=!0,Pl(e)}function Zr(){if(!co&&Tr!==null){co=!0;var e=0,t=gt;try{var h=Tr;for(gt=1;e<h.length;e++){var R=h[e];do R=R(!0);while(R!==null)}Tr=null,Zi=!1}catch(z){throw Tr!==null&&(Tr=Tr.slice(e+1)),Gt(vn,Zr),z}finally{gt=t,co=!1}}return null}var Mn=[],Tn=0,Vi=null,$i=0,lr=[],ur=0,on=null,Cr=1,Pr="";function sn(e,t){Mn[Tn++]=$i,Mn[Tn++]=Vi,Vi=e,$i=t}function Ol(e,t,h){lr[ur++]=Cr,lr[ur++]=Pr,lr[ur++]=on,on=e;var R=Cr;e=Pr;var z=32-pr(R)-1;R&=~(1<<z),h+=1;var Y=32-pr(t)+z;if(30<Y){var le=z-z%5;Y=(R&(1<<le)-1).toString(32),R>>=le,z-=le,Cr=1<<32-pr(t)+z|h<<z|R,Pr=Y+e}else Cr=1<<Y|h<<z|R,Pr=e}function po(e){e.return!==null&&(sn(e,1),Ol(e,1,0))}function mo(e){for(;e===Vi;)Vi=Mn[--Tn],Mn[Tn]=null,$i=Mn[--Tn],Mn[Tn]=null;for(;e===on;)on=lr[--ur],lr[ur]=null,Pr=lr[--ur],lr[ur]=null,Cr=lr[--ur],lr[ur]=null}var ar=null,or=null,Mt=!1,vr=null;function Nl(e,t){var h=dr(5,null,null,0);h.elementType="DELETED",h.stateNode=t,h.return=e,t=e.deletions,t===null?(e.deletions=[h],e.flags|=16):t.push(h)}function Ll(e,t){switch(e.tag){case 5:var h=e.type;return t=t.nodeType!==1||h.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ar=e,or=Hr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ar=e,or=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(h=on!==null?{id:Cr,overflow:Pr}:null,e.memoizedState={dehydrated:t,treeContext:h,retryLane:1073741824},h=dr(18,null,null,0),h.stateNode=t,h.return=e,e.child=h,ar=e,or=null,!0):!1;default:return!1}}function vo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function go(e){if(Mt){var t=or;if(t){var h=t;if(!Ll(e,t)){if(vo(e))throw Error(ge(418));t=Hr(h.nextSibling);var R=ar;t&&Ll(e,t)?Nl(R,h):(e.flags=e.flags&-4097|2,Mt=!1,ar=e)}}else{if(vo(e))throw Error(ge(418));e.flags=e.flags&-4097|2,Mt=!1,ar=e}}}function Il(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ar=e}function Yi(e){if(e!==ar)return!1;if(!Mt)return Il(e),Mt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!so(e.type,e.memoizedProps)),t&&(t=or)){if(vo(e))throw Dl(),Error(ge(418));for(;t;)Nl(e,t),t=Hr(t.nextSibling)}if(Il(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var h=e.data;if(h==="/$"){if(t===0){or=Hr(e.nextSibling);break e}t--}else h!=="$"&&h!=="$!"&&h!=="$?"||t++}e=e.nextSibling}or=null}}else or=ar?Hr(e.stateNode.nextSibling):null;return!0}function Dl(){for(var e=or;e;)e=Hr(e.nextSibling)}function Cn(){or=ar=null,Mt=!1}function _o(e){vr===null?vr=[e]:vr.push(e)}var Qh=p.ReactCurrentBatchConfig;function oi(e,t,h){if(e=h.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(ge(309));var R=h.stateNode}if(!R)throw Error(ge(147,e));var z=R,Y=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===Y?t.ref:(t=function(le){var Ee=z.refs;le===null?delete Ee[Y]:Ee[Y]=le},t._stringRef=Y,t)}if(typeof e!="string")throw Error(ge(284));if(!h._owner)throw Error(ge(290,e))}return e}function Xi(e,t){throw e=Object.prototype.toString.call(t),Error(ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bl(e){var t=e._init;return t(e._payload)}function zl(e){function t(Ie,Ne){if(e){var De=Ie.deletions;De===null?(Ie.deletions=[Ne],Ie.flags|=16):De.push(Ne)}}function h(Ie,Ne){if(!e)return null;for(;Ne!==null;)t(Ie,Ne),Ne=Ne.sibling;return null}function R(Ie,Ne){for(Ie=new Map;Ne!==null;)Ne.key!==null?Ie.set(Ne.key,Ne):Ie.set(Ne.index,Ne),Ne=Ne.sibling;return Ie}function z(Ie,Ne){return Ie=qr(Ie,Ne),Ie.index=0,Ie.sibling=null,Ie}function Y(Ie,Ne,De){return Ie.index=De,e?(De=Ie.alternate,De!==null?(De=De.index,De<Ne?(Ie.flags|=2,Ne):De):(Ie.flags|=2,Ne)):(Ie.flags|=1048576,Ne)}function le(Ie){return e&&Ie.alternate===null&&(Ie.flags|=2),Ie}function Ee(Ie,Ne,De,Ke){return Ne===null||Ne.tag!==6?(Ne=us(De,Ie.mode,Ke),Ne.return=Ie,Ne):(Ne=z(Ne,De),Ne.return=Ie,Ne)}function Te(Ie,Ne,De,Ke){var ot=De.type;return ot===_?Xe(Ie,Ne,De.props.children,Ke,De.key):Ne!==null&&(Ne.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===H&&Bl(ot)===Ne.type)?(Ke=z(Ne,De.props),Ke.ref=oi(Ie,Ne,De),Ke.return=Ie,Ke):(Ke=ya(De.type,De.key,De.props,null,Ie.mode,Ke),Ke.ref=oi(Ie,Ne,De),Ke.return=Ie,Ke)}function ze(Ie,Ne,De,Ke){return Ne===null||Ne.tag!==4||Ne.stateNode.containerInfo!==De.containerInfo||Ne.stateNode.implementation!==De.implementation?(Ne=fs(De,Ie.mode,Ke),Ne.return=Ie,Ne):(Ne=z(Ne,De.children||[]),Ne.return=Ie,Ne)}function Xe(Ie,Ne,De,Ke,ot){return Ne===null||Ne.tag!==7?(Ne=mn(De,Ie.mode,Ke,ot),Ne.return=Ie,Ne):(Ne=z(Ne,De),Ne.return=Ie,Ne)}function Qe(Ie,Ne,De){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return Ne=us(""+Ne,Ie.mode,De),Ne.return=Ie,Ne;if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case m:return De=ya(Ne.type,Ne.key,Ne.props,null,Ie.mode,De),De.ref=oi(Ie,null,Ne),De.return=Ie,De;case v:return Ne=fs(Ne,Ie.mode,De),Ne.return=Ie,Ne;case H:var Ke=Ne._init;return Qe(Ie,Ke(Ne._payload),De)}if(L(Ne)||B(Ne))return Ne=mn(Ne,Ie.mode,De,null),Ne.return=Ie,Ne;Xi(Ie,Ne)}return null}function Ye(Ie,Ne,De,Ke){var ot=Ne!==null?Ne.key:null;if(typeof De=="string"&&De!==""||typeof De=="number")return ot!==null?null:Ee(Ie,Ne,""+De,Ke);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case m:return De.key===ot?Te(Ie,Ne,De,Ke):null;case v:return De.key===ot?ze(Ie,Ne,De,Ke):null;case H:return ot=De._init,Ye(Ie,Ne,ot(De._payload),Ke)}if(L(De)||B(De))return ot!==null?null:Xe(Ie,Ne,De,Ke,null);Xi(Ie,De)}return null}function rt(Ie,Ne,De,Ke,ot){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return Ie=Ie.get(De)||null,Ee(Ne,Ie,""+Ke,ot);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case m:return Ie=Ie.get(Ke.key===null?De:Ke.key)||null,Te(Ne,Ie,Ke,ot);case v:return Ie=Ie.get(Ke.key===null?De:Ke.key)||null,ze(Ne,Ie,Ke,ot);case H:var st=Ke._init;return rt(Ie,Ne,De,st(Ke._payload),ot)}if(L(Ke)||B(Ke))return Ie=Ie.get(De)||null,Xe(Ne,Ie,Ke,ot,null);Xi(Ne,Ke)}return null}function it(Ie,Ne,De,Ke){for(var ot=null,st=null,lt=Ne,ft=Ne=0,Ht=null;lt!==null&&ft<De.length;ft++){lt.index>ft?(Ht=lt,lt=null):Ht=lt.sibling;var mt=Ye(Ie,lt,De[ft],Ke);if(mt===null){lt===null&&(lt=Ht);break}e&&lt&&mt.alternate===null&&t(Ie,lt),Ne=Y(mt,Ne,ft),st===null?ot=mt:st.sibling=mt,st=mt,lt=Ht}if(ft===De.length)return h(Ie,lt),Mt&&sn(Ie,ft),ot;if(lt===null){for(;ft<De.length;ft++)lt=Qe(Ie,De[ft],Ke),lt!==null&&(Ne=Y(lt,Ne,ft),st===null?ot=lt:st.sibling=lt,st=lt);return Mt&&sn(Ie,ft),ot}for(lt=R(Ie,lt);ft<De.length;ft++)Ht=rt(lt,Ie,ft,De[ft],Ke),Ht!==null&&(e&&Ht.alternate!==null&&lt.delete(Ht.key===null?ft:Ht.key),Ne=Y(Ht,Ne,ft),st===null?ot=Ht:st.sibling=Ht,st=Ht);return e&&lt.forEach(function(en){return t(Ie,en)}),Mt&&sn(Ie,ft),ot}function at(Ie,Ne,De,Ke){var ot=B(De);if(typeof ot!="function")throw Error(ge(150));if(De=ot.call(De),De==null)throw Error(ge(151));for(var st=ot=null,lt=Ne,ft=Ne=0,Ht=null,mt=De.next();lt!==null&&!mt.done;ft++,mt=De.next()){lt.index>ft?(Ht=lt,lt=null):Ht=lt.sibling;var en=Ye(Ie,lt,mt.value,Ke);if(en===null){lt===null&&(lt=Ht);break}e&&lt&&en.alternate===null&&t(Ie,lt),Ne=Y(en,Ne,ft),st===null?ot=en:st.sibling=en,st=en,lt=Ht}if(mt.done)return h(Ie,lt),Mt&&sn(Ie,ft),ot;if(lt===null){for(;!mt.done;ft++,mt=De.next())mt=Qe(Ie,mt.value,Ke),mt!==null&&(Ne=Y(mt,Ne,ft),st===null?ot=mt:st.sibling=mt,st=mt);return Mt&&sn(Ie,ft),ot}for(lt=R(Ie,lt);!mt.done;ft++,mt=De.next())mt=rt(lt,Ie,ft,mt.value,Ke),mt!==null&&(e&&mt.alternate!==null&&lt.delete(mt.key===null?ft:mt.key),Ne=Y(mt,Ne,ft),st===null?ot=mt:st.sibling=mt,st=mt);return e&&lt.forEach(function(Tc){return t(Ie,Tc)}),Mt&&sn(Ie,ft),ot}function Lt(Ie,Ne,De,Ke){if(typeof De=="object"&&De!==null&&De.type===_&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case m:e:{for(var ot=De.key,st=Ne;st!==null;){if(st.key===ot){if(ot=De.type,ot===_){if(st.tag===7){h(Ie,st.sibling),Ne=z(st,De.props.children),Ne.return=Ie,Ie=Ne;break e}}else if(st.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===H&&Bl(ot)===st.type){h(Ie,st.sibling),Ne=z(st,De.props),Ne.ref=oi(Ie,st,De),Ne.return=Ie,Ie=Ne;break e}h(Ie,st);break}else t(Ie,st);st=st.sibling}De.type===_?(Ne=mn(De.props.children,Ie.mode,Ke,De.key),Ne.return=Ie,Ie=Ne):(Ke=ya(De.type,De.key,De.props,null,Ie.mode,Ke),Ke.ref=oi(Ie,Ne,De),Ke.return=Ie,Ie=Ke)}return le(Ie);case v:e:{for(st=De.key;Ne!==null;){if(Ne.key===st)if(Ne.tag===4&&Ne.stateNode.containerInfo===De.containerInfo&&Ne.stateNode.implementation===De.implementation){h(Ie,Ne.sibling),Ne=z(Ne,De.children||[]),Ne.return=Ie,Ie=Ne;break e}else{h(Ie,Ne);break}else t(Ie,Ne);Ne=Ne.sibling}Ne=fs(De,Ie.mode,Ke),Ne.return=Ie,Ie=Ne}return le(Ie);case H:return st=De._init,Lt(Ie,Ne,st(De._payload),Ke)}if(L(De))return it(Ie,Ne,De,Ke);if(B(De))return at(Ie,Ne,De,Ke);Xi(Ie,De)}return typeof De=="string"&&De!==""||typeof De=="number"?(De=""+De,Ne!==null&&Ne.tag===6?(h(Ie,Ne.sibling),Ne=z(Ne,De),Ne.return=Ie,Ie=Ne):(h(Ie,Ne),Ne=us(De,Ie.mode,Ke),Ne.return=Ie,Ie=Ne),le(Ie)):h(Ie,Ne)}return Lt}var Pn=zl(!0),jl=zl(!1),Qi=Gr(null),Ki=null,On=null,yo=null;function wo(){yo=On=Ki=null}function bo(e){var t=Qi.current;St(Qi),e._currentValue=t}function Eo(e,t,h){for(;e!==null;){var R=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,R!==null&&(R.childLanes|=t)):R!==null&&(R.childLanes&t)!==t&&(R.childLanes|=t),e===h)break;e=e.return}}function Nn(e,t){Ki=e,yo=On=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(er=!0),e.firstContext=null)}function fr(e){var t=e._currentValue;if(yo!==e)if(e={context:e,memoizedValue:t,next:null},On===null){if(Ki===null)throw Error(ge(308));On=e,Ki.dependencies={lanes:0,firstContext:e}}else On=On.next=e;return t}var ln=null;function So(e){ln===null?ln=[e]:ln.push(e)}function Ul(e,t,h,R){var z=t.interleaved;return z===null?(h.next=h,So(t)):(h.next=z.next,z.next=h),t.interleaved=h,Or(e,R)}function Or(e,t){e.lanes|=t;var h=e.alternate;for(h!==null&&(h.lanes|=t),h=e,e=e.return;e!==null;)e.childLanes|=t,h=e.alternate,h!==null&&(h.childLanes|=t),h=e,e=e.return;return h.tag===3?h.stateNode:null}var Vr=!1;function xo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $r(e,t,h){var R=e.updateQueue;if(R===null)return null;if(R=R.shared,(pt&2)!==0){var z=R.pending;return z===null?t.next=t:(t.next=z.next,z.next=t),R.pending=t,Or(e,h)}return z=R.interleaved,z===null?(t.next=t,So(R)):(t.next=z.next,z.next=t),R.interleaved=t,Or(e,h)}function Ji(e,t,h){if(t=t.updateQueue,t!==null&&(t=t.shared,(h&4194240)!==0)){var R=t.lanes;R&=e.pendingLanes,h|=R,t.lanes=h,Ba(e,h)}}function Hl(e,t){var h=e.updateQueue,R=e.alternate;if(R!==null&&(R=R.updateQueue,h===R)){var z=null,Y=null;if(h=h.firstBaseUpdate,h!==null){do{var le={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};Y===null?z=Y=le:Y=Y.next=le,h=h.next}while(h!==null);Y===null?z=Y=t:Y=Y.next=t}else z=Y=t;h={baseState:R.baseState,firstBaseUpdate:z,lastBaseUpdate:Y,shared:R.shared,effects:R.effects},e.updateQueue=h;return}e=h.lastBaseUpdate,e===null?h.firstBaseUpdate=t:e.next=t,h.lastBaseUpdate=t}function qi(e,t,h,R){var z=e.updateQueue;Vr=!1;var Y=z.firstBaseUpdate,le=z.lastBaseUpdate,Ee=z.shared.pending;if(Ee!==null){z.shared.pending=null;var Te=Ee,ze=Te.next;Te.next=null,le===null?Y=ze:le.next=ze,le=Te;var Xe=e.alternate;Xe!==null&&(Xe=Xe.updateQueue,Ee=Xe.lastBaseUpdate,Ee!==le&&(Ee===null?Xe.firstBaseUpdate=ze:Ee.next=ze,Xe.lastBaseUpdate=Te))}if(Y!==null){var Qe=z.baseState;le=0,Xe=ze=Te=null,Ee=Y;do{var Ye=Ee.lane,rt=Ee.eventTime;if((R&Ye)===Ye){Xe!==null&&(Xe=Xe.next={eventTime:rt,lane:0,tag:Ee.tag,payload:Ee.payload,callback:Ee.callback,next:null});e:{var it=e,at=Ee;switch(Ye=t,rt=h,at.tag){case 1:if(it=at.payload,typeof it=="function"){Qe=it.call(rt,Qe,Ye);break e}Qe=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=at.payload,Ye=typeof it=="function"?it.call(rt,Qe,Ye):it,Ye==null)break e;Qe=X({},Qe,Ye);break e;case 2:Vr=!0}}Ee.callback!==null&&Ee.lane!==0&&(e.flags|=64,Ye=z.effects,Ye===null?z.effects=[Ee]:Ye.push(Ee))}else rt={eventTime:rt,lane:Ye,tag:Ee.tag,payload:Ee.payload,callback:Ee.callback,next:null},Xe===null?(ze=Xe=rt,Te=Qe):Xe=Xe.next=rt,le|=Ye;if(Ee=Ee.next,Ee===null){if(Ee=z.shared.pending,Ee===null)break;Ye=Ee,Ee=Ye.next,Ye.next=null,z.lastBaseUpdate=Ye,z.shared.pending=null}}while(!0);if(Xe===null&&(Te=Qe),z.baseState=Te,z.firstBaseUpdate=ze,z.lastBaseUpdate=Xe,t=z.shared.interleaved,t!==null){z=t;do le|=z.lane,z=z.next;while(z!==t)}else Y===null&&(z.shared.lanes=0);hn|=le,e.lanes=le,e.memoizedState=Qe}}function Gl(e,t,h){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var R=e[t],z=R.callback;if(z!==null){if(R.callback=null,R=h,typeof z!="function")throw Error(ge(191,z));z.call(R)}}}var si={},Rr=Gr(si),li=Gr(si),ui=Gr(si);function un(e){if(e===si)throw Error(ge(174));return e}function Ro(e,t){switch(yt(ui,t),yt(li,e),yt(Rr,si),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xe(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xe(t,e)}St(Rr),yt(Rr,t)}function Ln(){St(Rr),St(li),St(ui)}function Wl(e){un(ui.current);var t=un(Rr.current),h=xe(t,e.type);t!==h&&(yt(li,e),yt(Rr,h))}function ko(e){li.current===e&&(St(Rr),St(li))}var Ct=Gr(0);function ea(e){for(var t=e;t!==null;){if(t.tag===13){var h=t.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ao=[];function Mo(){for(var e=0;e<Ao.length;e++)Ao[e]._workInProgressVersionPrimary=null;Ao.length=0}var ta=p.ReactCurrentDispatcher,To=p.ReactCurrentBatchConfig,fn=0,Pt=null,Dt=null,Ut=null,ra=!1,fi=!1,hi=0,Kh=0;function $t(){throw Error(ge(321))}function Co(e,t){if(t===null)return!1;for(var h=0;h<t.length&&h<e.length;h++)if(!mr(e[h],t[h]))return!1;return!0}function Po(e,t,h,R,z,Y){if(fn=Y,Pt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ta.current=e===null||e.memoizedState===null?tc:rc,e=h(R,z),fi){Y=0;do{if(fi=!1,hi=0,25<=Y)throw Error(ge(301));Y+=1,Ut=Dt=null,t.updateQueue=null,ta.current=nc,e=h(R,z)}while(fi)}if(ta.current=aa,t=Dt!==null&&Dt.next!==null,fn=0,Ut=Dt=Pt=null,ra=!1,t)throw Error(ge(300));return e}function Oo(){var e=hi!==0;return hi=0,e}function kr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Pt.memoizedState=Ut=e:Ut=Ut.next=e,Ut}function hr(){if(Dt===null){var e=Pt.alternate;e=e!==null?e.memoizedState:null}else e=Dt.next;var t=Ut===null?Pt.memoizedState:Ut.next;if(t!==null)Ut=t,Dt=e;else{if(e===null)throw Error(ge(310));Dt=e,e={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Ut===null?Pt.memoizedState=Ut=e:Ut=Ut.next=e}return Ut}function ci(e,t){return typeof t=="function"?t(e):t}function No(e){var t=hr(),h=t.queue;if(h===null)throw Error(ge(311));h.lastRenderedReducer=e;var R=Dt,z=R.baseQueue,Y=h.pending;if(Y!==null){if(z!==null){var le=z.next;z.next=Y.next,Y.next=le}R.baseQueue=z=Y,h.pending=null}if(z!==null){Y=z.next,R=R.baseState;var Ee=le=null,Te=null,ze=Y;do{var Xe=ze.lane;if((fn&Xe)===Xe)Te!==null&&(Te=Te.next={lane:0,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),R=ze.hasEagerState?ze.eagerState:e(R,ze.action);else{var Qe={lane:Xe,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null};Te===null?(Ee=Te=Qe,le=R):Te=Te.next=Qe,Pt.lanes|=Xe,hn|=Xe}ze=ze.next}while(ze!==null&&ze!==Y);Te===null?le=R:Te.next=Ee,mr(R,t.memoizedState)||(er=!0),t.memoizedState=R,t.baseState=le,t.baseQueue=Te,h.lastRenderedState=R}if(e=h.interleaved,e!==null){z=e;do Y=z.lane,Pt.lanes|=Y,hn|=Y,z=z.next;while(z!==e)}else z===null&&(h.lanes=0);return[t.memoizedState,h.dispatch]}function Lo(e){var t=hr(),h=t.queue;if(h===null)throw Error(ge(311));h.lastRenderedReducer=e;var R=h.dispatch,z=h.pending,Y=t.memoizedState;if(z!==null){h.pending=null;var le=z=z.next;do Y=e(Y,le.action),le=le.next;while(le!==z);mr(Y,t.memoizedState)||(er=!0),t.memoizedState=Y,t.baseQueue===null&&(t.baseState=Y),h.lastRenderedState=Y}return[Y,R]}function Zl(){}function Vl(e,t){var h=Pt,R=hr(),z=t(),Y=!mr(R.memoizedState,z);if(Y&&(R.memoizedState=z,er=!0),R=R.queue,Io(Xl.bind(null,h,R,e),[e]),R.getSnapshot!==t||Y||Ut!==null&&Ut.memoizedState.tag&1){if(h.flags|=2048,di(9,Yl.bind(null,h,R,z,t),void 0,null),Ft===null)throw Error(ge(349));(fn&30)!==0||$l(h,t,z)}return z}function $l(e,t,h){e.flags|=16384,e={getSnapshot:t,value:h},t=Pt.updateQueue,t===null?(t={lastEffect:null,stores:null},Pt.updateQueue=t,t.stores=[e]):(h=t.stores,h===null?t.stores=[e]:h.push(e))}function Yl(e,t,h,R){t.value=h,t.getSnapshot=R,Ql(t)&&Kl(e)}function Xl(e,t,h){return h(function(){Ql(t)&&Kl(e)})}function Ql(e){var t=e.getSnapshot;e=e.value;try{var h=t();return!mr(e,h)}catch{return!0}}function Kl(e){var t=Or(e,1);t!==null&&wr(t,e,1,-1)}function Jl(e){var t=kr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:e},t.queue=e,e=e.dispatch=ec.bind(null,Pt,e),[t.memoizedState,e]}function di(e,t,h,R){return e={tag:e,create:t,destroy:h,deps:R,next:null},t=Pt.updateQueue,t===null?(t={lastEffect:null,stores:null},Pt.updateQueue=t,t.lastEffect=e.next=e):(h=t.lastEffect,h===null?t.lastEffect=e.next=e:(R=h.next,h.next=e,e.next=R,t.lastEffect=e)),e}function ql(){return hr().memoizedState}function na(e,t,h,R){var z=kr();Pt.flags|=e,z.memoizedState=di(1|t,h,void 0,R===void 0?null:R)}function ia(e,t,h,R){var z=hr();R=R===void 0?null:R;var Y=void 0;if(Dt!==null){var le=Dt.memoizedState;if(Y=le.destroy,R!==null&&Co(R,le.deps)){z.memoizedState=di(t,h,Y,R);return}}Pt.flags|=e,z.memoizedState=di(1|t,h,Y,R)}function eu(e,t){return na(8390656,8,e,t)}function Io(e,t){return ia(2048,8,e,t)}function tu(e,t){return ia(4,2,e,t)}function ru(e,t){return ia(4,4,e,t)}function nu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function iu(e,t,h){return h=h!=null?h.concat([e]):null,ia(4,4,nu.bind(null,t,e),h)}function Do(){}function au(e,t){var h=hr();t=t===void 0?null:t;var R=h.memoizedState;return R!==null&&t!==null&&Co(t,R[1])?R[0]:(h.memoizedState=[e,t],e)}function ou(e,t){var h=hr();t=t===void 0?null:t;var R=h.memoizedState;return R!==null&&t!==null&&Co(t,R[1])?R[0]:(e=e(),h.memoizedState=[e,t],e)}function su(e,t,h){return(fn&21)===0?(e.baseState&&(e.baseState=!1,er=!0),e.memoizedState=h):(mr(h,t)||(h=Bs(),Pt.lanes|=h,hn|=h,e.baseState=!0),t)}function Jh(e,t){var h=gt;gt=h!==0&&4>h?h:4,e(!0);var R=To.transition;To.transition={};try{e(!1),t()}finally{gt=h,To.transition=R}}function lu(){return hr().memoizedState}function qh(e,t,h){var R=Kr(e);if(h={lane:R,action:h,hasEagerState:!1,eagerState:null,next:null},uu(e))fu(t,h);else if(h=Ul(e,t,h,R),h!==null){var z=Kt();wr(h,e,R,z),hu(h,t,R)}}function ec(e,t,h){var R=Kr(e),z={lane:R,action:h,hasEagerState:!1,eagerState:null,next:null};if(uu(e))fu(t,z);else{var Y=e.alternate;if(e.lanes===0&&(Y===null||Y.lanes===0)&&(Y=t.lastRenderedReducer,Y!==null))try{var le=t.lastRenderedState,Ee=Y(le,h);if(z.hasEagerState=!0,z.eagerState=Ee,mr(Ee,le)){var Te=t.interleaved;Te===null?(z.next=z,So(t)):(z.next=Te.next,Te.next=z),t.interleaved=z;return}}catch{}finally{}h=Ul(e,t,z,R),h!==null&&(z=Kt(),wr(h,e,R,z),hu(h,t,R))}}function uu(e){var t=e.alternate;return e===Pt||t!==null&&t===Pt}function fu(e,t){fi=ra=!0;var h=e.pending;h===null?t.next=t:(t.next=h.next,h.next=t),e.pending=t}function hu(e,t,h){if((h&4194240)!==0){var R=t.lanes;R&=e.pendingLanes,h|=R,t.lanes=h,Ba(e,h)}}var aa={readContext:fr,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},tc={readContext:fr,useCallback:function(e,t){return kr().memoizedState=[e,t===void 0?null:t],e},useContext:fr,useEffect:eu,useImperativeHandle:function(e,t,h){return h=h!=null?h.concat([e]):null,na(4194308,4,nu.bind(null,t,e),h)},useLayoutEffect:function(e,t){return na(4194308,4,e,t)},useInsertionEffect:function(e,t){return na(4,2,e,t)},useMemo:function(e,t){var h=kr();return t=t===void 0?null:t,e=e(),h.memoizedState=[e,t],e},useReducer:function(e,t,h){var R=kr();return t=h!==void 0?h(t):t,R.memoizedState=R.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},R.queue=e,e=e.dispatch=qh.bind(null,Pt,e),[R.memoizedState,e]},useRef:function(e){var t=kr();return e={current:e},t.memoizedState=e},useState:Jl,useDebugValue:Do,useDeferredValue:function(e){return kr().memoizedState=e},useTransition:function(){var e=Jl(!1),t=e[0];return e=Jh.bind(null,e[1]),kr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,h){var R=Pt,z=kr();if(Mt){if(h===void 0)throw Error(ge(407));h=h()}else{if(h=t(),Ft===null)throw Error(ge(349));(fn&30)!==0||$l(R,t,h)}z.memoizedState=h;var Y={value:h,getSnapshot:t};return z.queue=Y,eu(Xl.bind(null,R,Y,e),[e]),R.flags|=2048,di(9,Yl.bind(null,R,Y,h,t),void 0,null),h},useId:function(){var e=kr(),t=Ft.identifierPrefix;if(Mt){var h=Pr,R=Cr;h=(R&~(1<<32-pr(R)-1)).toString(32)+h,t=":"+t+"R"+h,h=hi++,0<h&&(t+="H"+h.toString(32)),t+=":"}else h=Kh++,t=":"+t+"r"+h.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rc={readContext:fr,useCallback:au,useContext:fr,useEffect:Io,useImperativeHandle:iu,useInsertionEffect:tu,useLayoutEffect:ru,useMemo:ou,useReducer:No,useRef:ql,useState:function(){return No(ci)},useDebugValue:Do,useDeferredValue:function(e){var t=hr();return su(t,Dt.memoizedState,e)},useTransition:function(){var e=No(ci)[0],t=hr().memoizedState;return[e,t]},useMutableSource:Zl,useSyncExternalStore:Vl,useId:lu,unstable_isNewReconciler:!1},nc={readContext:fr,useCallback:au,useContext:fr,useEffect:Io,useImperativeHandle:iu,useInsertionEffect:tu,useLayoutEffect:ru,useMemo:ou,useReducer:Lo,useRef:ql,useState:function(){return Lo(ci)},useDebugValue:Do,useDeferredValue:function(e){var t=hr();return Dt===null?t.memoizedState=e:su(t,Dt.memoizedState,e)},useTransition:function(){var e=Lo(ci)[0],t=hr().memoizedState;return[e,t]},useMutableSource:Zl,useSyncExternalStore:Vl,useId:lu,unstable_isNewReconciler:!1};function gr(e,t){if(e&&e.defaultProps){t=X({},t),e=e.defaultProps;for(var h in e)t[h]===void 0&&(t[h]=e[h]);return t}return t}function Bo(e,t,h,R){t=e.memoizedState,h=h(R,t),h=h==null?t:X({},t,h),e.memoizedState=h,e.lanes===0&&(e.updateQueue.baseState=h)}var oa={isMounted:function(e){return(e=e._reactInternals)?bt(e)===e:!1},enqueueSetState:function(e,t,h){e=e._reactInternals;var R=Kt(),z=Kr(e),Y=Nr(R,z);Y.payload=t,h!=null&&(Y.callback=h),t=$r(e,Y,z),t!==null&&(wr(t,e,z,R),Ji(t,e,z))},enqueueReplaceState:function(e,t,h){e=e._reactInternals;var R=Kt(),z=Kr(e),Y=Nr(R,z);Y.tag=1,Y.payload=t,h!=null&&(Y.callback=h),t=$r(e,Y,z),t!==null&&(wr(t,e,z,R),Ji(t,e,z))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var h=Kt(),R=Kr(e),z=Nr(h,R);z.tag=2,t!=null&&(z.callback=t),t=$r(e,z,R),t!==null&&(wr(t,e,R,h),Ji(t,e,R))}};function cu(e,t,h,R,z,Y,le){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(R,Y,le):t.prototype&&t.prototype.isPureReactComponent?!qn(h,R)||!qn(z,Y):!0}function du(e,t,h){var R=!1,z=Wr,Y=t.contextType;return typeof Y=="object"&&Y!==null?Y=fr(Y):(z=qt(t)?an:Vt.current,R=t.contextTypes,Y=(R=R!=null)?An(e,z):Wr),t=new t(h,Y),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,R&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=z,e.__reactInternalMemoizedMaskedChildContext=Y),t}function pu(e,t,h,R){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(h,R),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(h,R),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function zo(e,t,h,R){var z=e.stateNode;z.props=h,z.state=e.memoizedState,z.refs={},xo(e);var Y=t.contextType;typeof Y=="object"&&Y!==null?z.context=fr(Y):(Y=qt(t)?an:Vt.current,z.context=An(e,Y)),z.state=e.memoizedState,Y=t.getDerivedStateFromProps,typeof Y=="function"&&(Bo(e,t,Y,h),z.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof z.getSnapshotBeforeUpdate=="function"||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(t=z.state,typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount(),t!==z.state&&oa.enqueueReplaceState(z,z.state,null),qi(e,h,z,R),z.state=e.memoizedState),typeof z.componentDidMount=="function"&&(e.flags|=4194308)}function In(e,t){try{var h="",R=t;do h+=J(R),R=R.return;while(R);var z=h}catch(Y){z=`
Error generating stack: `+Y.message+`
`+Y.stack}return{value:e,source:t,stack:z,digest:null}}function jo(e,t,h){return{value:e,source:null,stack:h??null,digest:t??null}}function Uo(e,t){try{console.error(t.value)}catch(h){setTimeout(function(){throw h})}}var ic=typeof WeakMap=="function"?WeakMap:Map;function mu(e,t,h){h=Nr(-1,h),h.tag=3,h.payload={element:null};var R=t.value;return h.callback=function(){da||(da=!0,ts=R),Uo(e,t)},h}function vu(e,t,h){h=Nr(-1,h),h.tag=3;var R=e.type.getDerivedStateFromError;if(typeof R=="function"){var z=t.value;h.payload=function(){return R(z)},h.callback=function(){Uo(e,t)}}var Y=e.stateNode;return Y!==null&&typeof Y.componentDidCatch=="function"&&(h.callback=function(){Uo(e,t),typeof R!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var le=t.stack;this.componentDidCatch(t.value,{componentStack:le!==null?le:""})}),h}function gu(e,t,h){var R=e.pingCache;if(R===null){R=e.pingCache=new ic;var z=new Set;R.set(t,z)}else z=R.get(t),z===void 0&&(z=new Set,R.set(t,z));z.has(h)||(z.add(h),e=_c.bind(null,e,t,h),t.then(e,e))}function _u(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yu(e,t,h,R,z){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(t=Nr(-1,1),t.tag=2,$r(h,t,1))),h.lanes|=1),e):(e.flags|=65536,e.lanes=z,e)}var ac=p.ReactCurrentOwner,er=!1;function Qt(e,t,h,R){t.child=e===null?jl(t,null,h,R):Pn(t,e.child,h,R)}function wu(e,t,h,R,z){h=h.render;var Y=t.ref;return Nn(t,z),R=Po(e,t,h,R,Y,z),h=Oo(),e!==null&&!er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~z,Lr(e,t,z)):(Mt&&h&&po(t),t.flags|=1,Qt(e,t,R,z),t.child)}function bu(e,t,h,R,z){if(e===null){var Y=h.type;return typeof Y=="function"&&!ls(Y)&&Y.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(t.tag=15,t.type=Y,Eu(e,t,Y,R,z)):(e=ya(h.type,null,R,t,t.mode,z),e.ref=t.ref,e.return=t,t.child=e)}if(Y=e.child,(e.lanes&z)===0){var le=Y.memoizedProps;if(h=h.compare,h=h!==null?h:qn,h(le,R)&&e.ref===t.ref)return Lr(e,t,z)}return t.flags|=1,e=qr(Y,R),e.ref=t.ref,e.return=t,t.child=e}function Eu(e,t,h,R,z){if(e!==null){var Y=e.memoizedProps;if(qn(Y,R)&&e.ref===t.ref)if(er=!1,t.pendingProps=R=Y,(e.lanes&z)!==0)(e.flags&131072)!==0&&(er=!0);else return t.lanes=e.lanes,Lr(e,t,z)}return Fo(e,t,h,R,z)}function Su(e,t,h){var R=t.pendingProps,z=R.children,Y=e!==null?e.memoizedState:null;if(R.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(Bn,sr),sr|=h;else{if((h&1073741824)===0)return e=Y!==null?Y.baseLanes|h:h,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,yt(Bn,sr),sr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},R=Y!==null?Y.baseLanes:h,yt(Bn,sr),sr|=R}else Y!==null?(R=Y.baseLanes|h,t.memoizedState=null):R=h,yt(Bn,sr),sr|=R;return Qt(e,t,z,h),t.child}function xu(e,t){var h=t.ref;(e===null&&h!==null||e!==null&&e.ref!==h)&&(t.flags|=512,t.flags|=2097152)}function Fo(e,t,h,R,z){var Y=qt(h)?an:Vt.current;return Y=An(t,Y),Nn(t,z),h=Po(e,t,h,R,Y,z),R=Oo(),e!==null&&!er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~z,Lr(e,t,z)):(Mt&&R&&po(t),t.flags|=1,Qt(e,t,h,z),t.child)}function Ru(e,t,h,R,z){if(qt(h)){var Y=!0;Wi(t)}else Y=!1;if(Nn(t,z),t.stateNode===null)la(e,t),du(t,h,R),zo(t,h,R,z),R=!0;else if(e===null){var le=t.stateNode,Ee=t.memoizedProps;le.props=Ee;var Te=le.context,ze=h.contextType;typeof ze=="object"&&ze!==null?ze=fr(ze):(ze=qt(h)?an:Vt.current,ze=An(t,ze));var Xe=h.getDerivedStateFromProps,Qe=typeof Xe=="function"||typeof le.getSnapshotBeforeUpdate=="function";Qe||typeof le.UNSAFE_componentWillReceiveProps!="function"&&typeof le.componentWillReceiveProps!="function"||(Ee!==R||Te!==ze)&&pu(t,le,R,ze),Vr=!1;var Ye=t.memoizedState;le.state=Ye,qi(t,R,le,z),Te=t.memoizedState,Ee!==R||Ye!==Te||Jt.current||Vr?(typeof Xe=="function"&&(Bo(t,h,Xe,R),Te=t.memoizedState),(Ee=Vr||cu(t,h,Ee,R,Ye,Te,ze))?(Qe||typeof le.UNSAFE_componentWillMount!="function"&&typeof le.componentWillMount!="function"||(typeof le.componentWillMount=="function"&&le.componentWillMount(),typeof le.UNSAFE_componentWillMount=="function"&&le.UNSAFE_componentWillMount()),typeof le.componentDidMount=="function"&&(t.flags|=4194308)):(typeof le.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=R,t.memoizedState=Te),le.props=R,le.state=Te,le.context=ze,R=Ee):(typeof le.componentDidMount=="function"&&(t.flags|=4194308),R=!1)}else{le=t.stateNode,Fl(e,t),Ee=t.memoizedProps,ze=t.type===t.elementType?Ee:gr(t.type,Ee),le.props=ze,Qe=t.pendingProps,Ye=le.context,Te=h.contextType,typeof Te=="object"&&Te!==null?Te=fr(Te):(Te=qt(h)?an:Vt.current,Te=An(t,Te));var rt=h.getDerivedStateFromProps;(Xe=typeof rt=="function"||typeof le.getSnapshotBeforeUpdate=="function")||typeof le.UNSAFE_componentWillReceiveProps!="function"&&typeof le.componentWillReceiveProps!="function"||(Ee!==Qe||Ye!==Te)&&pu(t,le,R,Te),Vr=!1,Ye=t.memoizedState,le.state=Ye,qi(t,R,le,z);var it=t.memoizedState;Ee!==Qe||Ye!==it||Jt.current||Vr?(typeof rt=="function"&&(Bo(t,h,rt,R),it=t.memoizedState),(ze=Vr||cu(t,h,ze,R,Ye,it,Te)||!1)?(Xe||typeof le.UNSAFE_componentWillUpdate!="function"&&typeof le.componentWillUpdate!="function"||(typeof le.componentWillUpdate=="function"&&le.componentWillUpdate(R,it,Te),typeof le.UNSAFE_componentWillUpdate=="function"&&le.UNSAFE_componentWillUpdate(R,it,Te)),typeof le.componentDidUpdate=="function"&&(t.flags|=4),typeof le.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof le.componentDidUpdate!="function"||Ee===e.memoizedProps&&Ye===e.memoizedState||(t.flags|=4),typeof le.getSnapshotBeforeUpdate!="function"||Ee===e.memoizedProps&&Ye===e.memoizedState||(t.flags|=1024),t.memoizedProps=R,t.memoizedState=it),le.props=R,le.state=it,le.context=Te,R=ze):(typeof le.componentDidUpdate!="function"||Ee===e.memoizedProps&&Ye===e.memoizedState||(t.flags|=4),typeof le.getSnapshotBeforeUpdate!="function"||Ee===e.memoizedProps&&Ye===e.memoizedState||(t.flags|=1024),R=!1)}return Ho(e,t,h,R,Y,z)}function Ho(e,t,h,R,z,Y){xu(e,t);var le=(t.flags&128)!==0;if(!R&&!le)return z&&Cl(t,h,!1),Lr(e,t,Y);R=t.stateNode,ac.current=t;var Ee=le&&typeof h.getDerivedStateFromError!="function"?null:R.render();return t.flags|=1,e!==null&&le?(t.child=Pn(t,e.child,null,Y),t.child=Pn(t,null,Ee,Y)):Qt(e,t,Ee,Y),t.memoizedState=R.state,z&&Cl(t,h,!0),t.child}function ku(e){var t=e.stateNode;t.pendingContext?Ml(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ml(e,t.context,!1),Ro(e,t.containerInfo)}function Au(e,t,h,R,z){return Cn(),_o(z),t.flags|=256,Qt(e,t,h,R),t.child}var Go={dehydrated:null,treeContext:null,retryLane:0};function Wo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mu(e,t,h){var R=t.pendingProps,z=Ct.current,Y=!1,le=(t.flags&128)!==0,Ee;if((Ee=le)||(Ee=e!==null&&e.memoizedState===null?!1:(z&2)!==0),Ee?(Y=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(z|=1),yt(Ct,z&1),e===null)return go(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(le=R.children,e=R.fallback,Y?(R=t.mode,Y=t.child,le={mode:"hidden",children:le},(R&1)===0&&Y!==null?(Y.childLanes=0,Y.pendingProps=le):Y=wa(le,R,0,null),e=mn(e,R,h,null),Y.return=t,e.return=t,Y.sibling=e,t.child=Y,t.child.memoizedState=Wo(h),t.memoizedState=Go,e):Zo(t,le));if(z=e.memoizedState,z!==null&&(Ee=z.dehydrated,Ee!==null))return oc(e,t,le,R,Ee,z,h);if(Y){Y=R.fallback,le=t.mode,z=e.child,Ee=z.sibling;var Te={mode:"hidden",children:R.children};return(le&1)===0&&t.child!==z?(R=t.child,R.childLanes=0,R.pendingProps=Te,t.deletions=null):(R=qr(z,Te),R.subtreeFlags=z.subtreeFlags&14680064),Ee!==null?Y=qr(Ee,Y):(Y=mn(Y,le,h,null),Y.flags|=2),Y.return=t,R.return=t,R.sibling=Y,t.child=R,R=Y,Y=t.child,le=e.child.memoizedState,le=le===null?Wo(h):{baseLanes:le.baseLanes|h,cachePool:null,transitions:le.transitions},Y.memoizedState=le,Y.childLanes=e.childLanes&~h,t.memoizedState=Go,R}return Y=e.child,e=Y.sibling,R=qr(Y,{mode:"visible",children:R.children}),(t.mode&1)===0&&(R.lanes=h),R.return=t,R.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=R,t.memoizedState=null,R}function Zo(e,t){return t=wa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function sa(e,t,h,R){return R!==null&&_o(R),Pn(t,e.child,null,h),e=Zo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function oc(e,t,h,R,z,Y,le){if(h)return t.flags&256?(t.flags&=-257,R=jo(Error(ge(422))),sa(e,t,le,R)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(Y=R.fallback,z=t.mode,R=wa({mode:"visible",children:R.children},z,0,null),Y=mn(Y,z,le,null),Y.flags|=2,R.return=t,Y.return=t,R.sibling=Y,t.child=R,(t.mode&1)!==0&&Pn(t,e.child,null,le),t.child.memoizedState=Wo(le),t.memoizedState=Go,Y);if((t.mode&1)===0)return sa(e,t,le,null);if(z.data==="$!"){if(R=z.nextSibling&&z.nextSibling.dataset,R)var Ee=R.dgst;return R=Ee,Y=Error(ge(419)),R=jo(Y,R,void 0),sa(e,t,le,R)}if(Ee=(le&e.childLanes)!==0,er||Ee){if(R=Ft,R!==null){switch(le&-le){case 4:z=2;break;case 16:z=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:z=32;break;case 536870912:z=268435456;break;default:z=0}z=(z&(R.suspendedLanes|le))!==0?0:z,z!==0&&z!==Y.retryLane&&(Y.retryLane=z,Or(e,z),wr(R,e,z,-1))}return ss(),R=jo(Error(ge(421))),sa(e,t,le,R)}return z.data==="$?"?(t.flags|=128,t.child=e.child,t=yc.bind(null,e),z._reactRetry=t,null):(e=Y.treeContext,or=Hr(z.nextSibling),ar=t,Mt=!0,vr=null,e!==null&&(lr[ur++]=Cr,lr[ur++]=Pr,lr[ur++]=on,Cr=e.id,Pr=e.overflow,on=t),t=Zo(t,R.children),t.flags|=4096,t)}function Tu(e,t,h){e.lanes|=t;var R=e.alternate;R!==null&&(R.lanes|=t),Eo(e.return,t,h)}function Vo(e,t,h,R,z){var Y=e.memoizedState;Y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:R,tail:h,tailMode:z}:(Y.isBackwards=t,Y.rendering=null,Y.renderingStartTime=0,Y.last=R,Y.tail=h,Y.tailMode=z)}function Cu(e,t,h){var R=t.pendingProps,z=R.revealOrder,Y=R.tail;if(Qt(e,t,R.children,h),R=Ct.current,(R&2)!==0)R=R&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tu(e,h,t);else if(e.tag===19)Tu(e,h,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}R&=1}if(yt(Ct,R),(t.mode&1)===0)t.memoizedState=null;else switch(z){case"forwards":for(h=t.child,z=null;h!==null;)e=h.alternate,e!==null&&ea(e)===null&&(z=h),h=h.sibling;h=z,h===null?(z=t.child,t.child=null):(z=h.sibling,h.sibling=null),Vo(t,!1,z,h,Y);break;case"backwards":for(h=null,z=t.child,t.child=null;z!==null;){if(e=z.alternate,e!==null&&ea(e)===null){t.child=z;break}e=z.sibling,z.sibling=h,h=z,z=e}Vo(t,!0,h,null,Y);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function la(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lr(e,t,h){if(e!==null&&(t.dependencies=e.dependencies),hn|=t.lanes,(h&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(ge(153));if(t.child!==null){for(e=t.child,h=qr(e,e.pendingProps),t.child=h,h.return=t;e.sibling!==null;)e=e.sibling,h=h.sibling=qr(e,e.pendingProps),h.return=t;h.sibling=null}return t.child}function sc(e,t,h){switch(t.tag){case 3:ku(t),Cn();break;case 5:Wl(t);break;case 1:qt(t.type)&&Wi(t);break;case 4:Ro(t,t.stateNode.containerInfo);break;case 10:var R=t.type._context,z=t.memoizedProps.value;yt(Qi,R._currentValue),R._currentValue=z;break;case 13:if(R=t.memoizedState,R!==null)return R.dehydrated!==null?(yt(Ct,Ct.current&1),t.flags|=128,null):(h&t.child.childLanes)!==0?Mu(e,t,h):(yt(Ct,Ct.current&1),e=Lr(e,t,h),e!==null?e.sibling:null);yt(Ct,Ct.current&1);break;case 19:if(R=(h&t.childLanes)!==0,(e.flags&128)!==0){if(R)return Cu(e,t,h);t.flags|=128}if(z=t.memoizedState,z!==null&&(z.rendering=null,z.tail=null,z.lastEffect=null),yt(Ct,Ct.current),R)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,h)}return Lr(e,t,h)}var Pu,$o,Ou,Nu;Pu=function(e,t){for(var h=t.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break;for(;h.sibling===null;){if(h.return===null||h.return===t)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},$o=function(){},Ou=function(e,t,h,R){var z=e.memoizedProps;if(z!==R){e=t.stateNode,un(Rr.current);var Y=null;switch(h){case"input":z=fe(e,z),R=fe(e,R),Y=[];break;case"select":z=X({},z,{value:void 0}),R=X({},R,{value:void 0}),Y=[];break;case"textarea":z=$(e,z),R=$(e,R),Y=[];break;default:typeof z.onClick!="function"&&typeof R.onClick=="function"&&(e.onclick=Fi)}$e(h,R);var le;h=null;for(ze in z)if(!R.hasOwnProperty(ze)&&z.hasOwnProperty(ze)&&z[ze]!=null)if(ze==="style"){var Ee=z[ze];for(le in Ee)Ee.hasOwnProperty(le)&&(h||(h={}),h[le]="")}else ze!=="dangerouslySetInnerHTML"&&ze!=="children"&&ze!=="suppressContentEditableWarning"&&ze!=="suppressHydrationWarning"&&ze!=="autoFocus"&&(W.hasOwnProperty(ze)?Y||(Y=[]):(Y=Y||[]).push(ze,null));for(ze in R){var Te=R[ze];if(Ee=z!=null?z[ze]:void 0,R.hasOwnProperty(ze)&&Te!==Ee&&(Te!=null||Ee!=null))if(ze==="style")if(Ee){for(le in Ee)!Ee.hasOwnProperty(le)||Te&&Te.hasOwnProperty(le)||(h||(h={}),h[le]="");for(le in Te)Te.hasOwnProperty(le)&&Ee[le]!==Te[le]&&(h||(h={}),h[le]=Te[le])}else h||(Y||(Y=[]),Y.push(ze,h)),h=Te;else ze==="dangerouslySetInnerHTML"?(Te=Te?Te.__html:void 0,Ee=Ee?Ee.__html:void 0,Te!=null&&Ee!==Te&&(Y=Y||[]).push(ze,Te)):ze==="children"?typeof Te!="string"&&typeof Te!="number"||(Y=Y||[]).push(ze,""+Te):ze!=="suppressContentEditableWarning"&&ze!=="suppressHydrationWarning"&&(W.hasOwnProperty(ze)?(Te!=null&&ze==="onScroll"&&Et("scroll",e),Y||Ee===Te||(Y=[])):(Y=Y||[]).push(ze,Te))}h&&(Y=Y||[]).push("style",h);var ze=Y;(t.updateQueue=ze)&&(t.flags|=4)}},Nu=function(e,t,h,R){h!==R&&(t.flags|=4)};function pi(e,t){if(!Mt)switch(e.tailMode){case"hidden":t=e.tail;for(var h=null;t!==null;)t.alternate!==null&&(h=t),t=t.sibling;h===null?e.tail=null:h.sibling=null;break;case"collapsed":h=e.tail;for(var R=null;h!==null;)h.alternate!==null&&(R=h),h=h.sibling;R===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:R.sibling=null}}function Yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,h=0,R=0;if(t)for(var z=e.child;z!==null;)h|=z.lanes|z.childLanes,R|=z.subtreeFlags&14680064,R|=z.flags&14680064,z.return=e,z=z.sibling;else for(z=e.child;z!==null;)h|=z.lanes|z.childLanes,R|=z.subtreeFlags,R|=z.flags,z.return=e,z=z.sibling;return e.subtreeFlags|=R,e.childLanes=h,t}function lc(e,t,h){var R=t.pendingProps;switch(mo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(t),null;case 1:return qt(t.type)&&Gi(),Yt(t),null;case 3:return R=t.stateNode,Ln(),St(Jt),St(Vt),Mo(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(e===null||e.child===null)&&(Yi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,vr!==null&&(is(vr),vr=null))),$o(e,t),Yt(t),null;case 5:ko(t);var z=un(ui.current);if(h=t.type,e!==null&&t.stateNode!=null)Ou(e,t,h,R,z),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!R){if(t.stateNode===null)throw Error(ge(166));return Yt(t),null}if(e=un(Rr.current),Yi(t)){R=t.stateNode,h=t.type;var Y=t.memoizedProps;switch(R[xr]=t,R[ii]=Y,e=(t.mode&1)!==0,h){case"dialog":Et("cancel",R),Et("close",R);break;case"iframe":case"object":case"embed":Et("load",R);break;case"video":case"audio":for(z=0;z<ti.length;z++)Et(ti[z],R);break;case"source":Et("error",R);break;case"img":case"image":case"link":Et("error",R),Et("load",R);break;case"details":Et("toggle",R);break;case"input":ne(R,Y),Et("invalid",R);break;case"select":R._wrapperState={wasMultiple:!!Y.multiple},Et("invalid",R);break;case"textarea":N(R,Y),Et("invalid",R)}$e(h,Y),z=null;for(var le in Y)if(Y.hasOwnProperty(le)){var Ee=Y[le];le==="children"?typeof Ee=="string"?R.textContent!==Ee&&(Y.suppressHydrationWarning!==!0&&Ui(R.textContent,Ee,e),z=["children",Ee]):typeof Ee=="number"&&R.textContent!==""+Ee&&(Y.suppressHydrationWarning!==!0&&Ui(R.textContent,Ee,e),z=["children",""+Ee]):W.hasOwnProperty(le)&&Ee!=null&&le==="onScroll"&&Et("scroll",R)}switch(h){case"input":_e(R),Q(R,Y,!0);break;case"textarea":_e(R),ie(R);break;case"select":case"option":break;default:typeof Y.onClick=="function"&&(R.onclick=Fi)}R=z,t.updateQueue=R,R!==null&&(t.flags|=4)}else{le=z.nodeType===9?z:z.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=de(h)),e==="http://www.w3.org/1999/xhtml"?h==="script"?(e=le.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof R.is=="string"?e=le.createElement(h,{is:R.is}):(e=le.createElement(h),h==="select"&&(le=e,R.multiple?le.multiple=!0:R.size&&(le.size=R.size))):e=le.createElementNS(e,h),e[xr]=t,e[ii]=R,Pu(e,t,!1,!1),t.stateNode=e;e:{switch(le=G(h,R),h){case"dialog":Et("cancel",e),Et("close",e),z=R;break;case"iframe":case"object":case"embed":Et("load",e),z=R;break;case"video":case"audio":for(z=0;z<ti.length;z++)Et(ti[z],e);z=R;break;case"source":Et("error",e),z=R;break;case"img":case"image":case"link":Et("error",e),Et("load",e),z=R;break;case"details":Et("toggle",e),z=R;break;case"input":ne(e,R),z=fe(e,R),Et("invalid",e);break;case"option":z=R;break;case"select":e._wrapperState={wasMultiple:!!R.multiple},z=X({},R,{value:void 0}),Et("invalid",e);break;case"textarea":N(e,R),z=$(e,R),Et("invalid",e);break;default:z=R}$e(h,z),Ee=z;for(Y in Ee)if(Ee.hasOwnProperty(Y)){var Te=Ee[Y];Y==="style"?Ue(e,Te):Y==="dangerouslySetInnerHTML"?(Te=Te?Te.__html:void 0,Te!=null&&je(e,Te)):Y==="children"?typeof Te=="string"?(h!=="textarea"||Te!=="")&&Ze(e,Te):typeof Te=="number"&&Ze(e,""+Te):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(W.hasOwnProperty(Y)?Te!=null&&Y==="onScroll"&&Et("scroll",e):Te!=null&&i(e,Y,Te,le))}switch(h){case"input":_e(e),Q(e,R,!1);break;case"textarea":_e(e),ie(e);break;case"option":R.value!=null&&e.setAttribute("value",""+ue(R.value));break;case"select":e.multiple=!!R.multiple,Y=R.value,Y!=null?te(e,!!R.multiple,Y,!1):R.defaultValue!=null&&te(e,!!R.multiple,R.defaultValue,!0);break;default:typeof z.onClick=="function"&&(e.onclick=Fi)}switch(h){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}}R&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Yt(t),null;case 6:if(e&&t.stateNode!=null)Nu(e,t,e.memoizedProps,R);else{if(typeof R!="string"&&t.stateNode===null)throw Error(ge(166));if(h=un(ui.current),un(Rr.current),Yi(t)){if(R=t.stateNode,h=t.memoizedProps,R[xr]=t,(Y=R.nodeValue!==h)&&(e=ar,e!==null))switch(e.tag){case 3:Ui(R.nodeValue,h,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ui(R.nodeValue,h,(e.mode&1)!==0)}Y&&(t.flags|=4)}else R=(h.nodeType===9?h:h.ownerDocument).createTextNode(R),R[xr]=t,t.stateNode=R}return Yt(t),null;case 13:if(St(Ct),R=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Mt&&or!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Dl(),Cn(),t.flags|=98560,Y=!1;else if(Y=Yi(t),R!==null&&R.dehydrated!==null){if(e===null){if(!Y)throw Error(ge(318));if(Y=t.memoizedState,Y=Y!==null?Y.dehydrated:null,!Y)throw Error(ge(317));Y[xr]=t}else Cn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Yt(t),Y=!1}else vr!==null&&(is(vr),vr=null),Y=!0;if(!Y)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=h,t):(R=R!==null,R!==(e!==null&&e.memoizedState!==null)&&R&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ct.current&1)!==0?Bt===0&&(Bt=3):ss())),t.updateQueue!==null&&(t.flags|=4),Yt(t),null);case 4:return Ln(),$o(e,t),e===null&&ri(t.stateNode.containerInfo),Yt(t),null;case 10:return bo(t.type._context),Yt(t),null;case 17:return qt(t.type)&&Gi(),Yt(t),null;case 19:if(St(Ct),Y=t.memoizedState,Y===null)return Yt(t),null;if(R=(t.flags&128)!==0,le=Y.rendering,le===null)if(R)pi(Y,!1);else{if(Bt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(le=ea(e),le!==null){for(t.flags|=128,pi(Y,!1),R=le.updateQueue,R!==null&&(t.updateQueue=R,t.flags|=4),t.subtreeFlags=0,R=h,h=t.child;h!==null;)Y=h,e=R,Y.flags&=14680066,le=Y.alternate,le===null?(Y.childLanes=0,Y.lanes=e,Y.child=null,Y.subtreeFlags=0,Y.memoizedProps=null,Y.memoizedState=null,Y.updateQueue=null,Y.dependencies=null,Y.stateNode=null):(Y.childLanes=le.childLanes,Y.lanes=le.lanes,Y.child=le.child,Y.subtreeFlags=0,Y.deletions=null,Y.memoizedProps=le.memoizedProps,Y.memoizedState=le.memoizedState,Y.updateQueue=le.updateQueue,Y.type=le.type,e=le.dependencies,Y.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),h=h.sibling;return yt(Ct,Ct.current&1|2),t.child}e=e.sibling}Y.tail!==null&&At()>zn&&(t.flags|=128,R=!0,pi(Y,!1),t.lanes=4194304)}else{if(!R)if(e=ea(le),e!==null){if(t.flags|=128,R=!0,h=e.updateQueue,h!==null&&(t.updateQueue=h,t.flags|=4),pi(Y,!0),Y.tail===null&&Y.tailMode==="hidden"&&!le.alternate&&!Mt)return Yt(t),null}else 2*At()-Y.renderingStartTime>zn&&h!==1073741824&&(t.flags|=128,R=!0,pi(Y,!1),t.lanes=4194304);Y.isBackwards?(le.sibling=t.child,t.child=le):(h=Y.last,h!==null?h.sibling=le:t.child=le,Y.last=le)}return Y.tail!==null?(t=Y.tail,Y.rendering=t,Y.tail=t.sibling,Y.renderingStartTime=At(),t.sibling=null,h=Ct.current,yt(Ct,R?h&1|2:h&1),t):(Yt(t),null);case 22:case 23:return os(),R=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==R&&(t.flags|=8192),R&&(t.mode&1)!==0?(sr&1073741824)!==0&&(Yt(t),t.subtreeFlags&6&&(t.flags|=8192)):Yt(t),null;case 24:return null;case 25:return null}throw Error(ge(156,t.tag))}function uc(e,t){switch(mo(t),t.tag){case 1:return qt(t.type)&&Gi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ln(),St(Jt),St(Vt),Mo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ko(t),null;case 13:if(St(Ct),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ge(340));Cn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return St(Ct),null;case 4:return Ln(),null;case 10:return bo(t.type._context),null;case 22:case 23:return os(),null;case 24:return null;default:return null}}var ua=!1,Xt=!1,fc=typeof WeakSet=="function"?WeakSet:Set,nt=null;function Dn(e,t){var h=e.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(R){Ot(e,t,R)}else h.current=null}function Yo(e,t,h){try{h()}catch(R){Ot(e,t,R)}}var Lu=!1;function hc(e,t){if(ao=Ti,e=cl(),Ka(e)){if("selectionStart"in e)var h={start:e.selectionStart,end:e.selectionEnd};else e:{h=(h=e.ownerDocument)&&h.defaultView||window;var R=h.getSelection&&h.getSelection();if(R&&R.rangeCount!==0){h=R.anchorNode;var z=R.anchorOffset,Y=R.focusNode;R=R.focusOffset;try{h.nodeType,Y.nodeType}catch{h=null;break e}var le=0,Ee=-1,Te=-1,ze=0,Xe=0,Qe=e,Ye=null;t:for(;;){for(var rt;Qe!==h||z!==0&&Qe.nodeType!==3||(Ee=le+z),Qe!==Y||R!==0&&Qe.nodeType!==3||(Te=le+R),Qe.nodeType===3&&(le+=Qe.nodeValue.length),(rt=Qe.firstChild)!==null;)Ye=Qe,Qe=rt;for(;;){if(Qe===e)break t;if(Ye===h&&++ze===z&&(Ee=le),Ye===Y&&++Xe===R&&(Te=le),(rt=Qe.nextSibling)!==null)break;Qe=Ye,Ye=Qe.parentNode}Qe=rt}h=Ee===-1||Te===-1?null:{start:Ee,end:Te}}else h=null}h=h||{start:0,end:0}}else h=null;for(oo={focusedElem:e,selectionRange:h},Ti=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){t=nt;try{var it=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(it!==null){var at=it.memoizedProps,Lt=it.memoizedState,Ie=t.stateNode,Ne=Ie.getSnapshotBeforeUpdate(t.elementType===t.type?at:gr(t.type,at),Lt);Ie.__reactInternalSnapshotBeforeUpdate=Ne}break;case 3:var De=t.stateNode.containerInfo;De.nodeType===1?De.textContent="":De.nodeType===9&&De.documentElement&&De.removeChild(De.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(Ke){Ot(t,t.return,Ke)}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}return it=Lu,Lu=!1,it}function mi(e,t,h){var R=t.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var z=R=R.next;do{if((z.tag&e)===e){var Y=z.destroy;z.destroy=void 0,Y!==void 0&&Yo(t,h,Y)}z=z.next}while(z!==R)}}function fa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var h=t=t.next;do{if((h.tag&e)===e){var R=h.create;h.destroy=R()}h=h.next}while(h!==t)}}function Xo(e){var t=e.ref;if(t!==null){var h=e.stateNode;switch(e.tag){case 5:e=h;break;default:e=h}typeof t=="function"?t(e):t.current=e}}function Iu(e){var t=e.alternate;t!==null&&(e.alternate=null,Iu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xr],delete t[ii],delete t[fo],delete t[$h],delete t[Yh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Du(e){return e.tag===5||e.tag===3||e.tag===4}function Bu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Du(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qo(e,t,h){var R=e.tag;if(R===5||R===6)e=e.stateNode,t?h.nodeType===8?h.parentNode.insertBefore(e,t):h.insertBefore(e,t):(h.nodeType===8?(t=h.parentNode,t.insertBefore(e,h)):(t=h,t.appendChild(e)),h=h._reactRootContainer,h!=null||t.onclick!==null||(t.onclick=Fi));else if(R!==4&&(e=e.child,e!==null))for(Qo(e,t,h),e=e.sibling;e!==null;)Qo(e,t,h),e=e.sibling}function Ko(e,t,h){var R=e.tag;if(R===5||R===6)e=e.stateNode,t?h.insertBefore(e,t):h.appendChild(e);else if(R!==4&&(e=e.child,e!==null))for(Ko(e,t,h),e=e.sibling;e!==null;)Ko(e,t,h),e=e.sibling}var Wt=null,_r=!1;function Yr(e,t,h){for(h=h.child;h!==null;)zu(e,t,h),h=h.sibling}function zu(e,t,h){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(Si,h)}catch{}switch(h.tag){case 5:Xt||Dn(h,t);case 6:var R=Wt,z=_r;Wt=null,Yr(e,t,h),Wt=R,_r=z,Wt!==null&&(_r?(e=Wt,h=h.stateNode,e.nodeType===8?e.parentNode.removeChild(h):e.removeChild(h)):Wt.removeChild(h.stateNode));break;case 18:Wt!==null&&(_r?(e=Wt,h=h.stateNode,e.nodeType===8?uo(e.parentNode,h):e.nodeType===1&&uo(e,h),$n(e)):uo(Wt,h.stateNode));break;case 4:R=Wt,z=_r,Wt=h.stateNode.containerInfo,_r=!0,Yr(e,t,h),Wt=R,_r=z;break;case 0:case 11:case 14:case 15:if(!Xt&&(R=h.updateQueue,R!==null&&(R=R.lastEffect,R!==null))){z=R=R.next;do{var Y=z,le=Y.destroy;Y=Y.tag,le!==void 0&&((Y&2)!==0||(Y&4)!==0)&&Yo(h,t,le),z=z.next}while(z!==R)}Yr(e,t,h);break;case 1:if(!Xt&&(Dn(h,t),R=h.stateNode,typeof R.componentWillUnmount=="function"))try{R.props=h.memoizedProps,R.state=h.memoizedState,R.componentWillUnmount()}catch(Ee){Ot(h,t,Ee)}Yr(e,t,h);break;case 21:Yr(e,t,h);break;case 22:h.mode&1?(Xt=(R=Xt)||h.memoizedState!==null,Yr(e,t,h),Xt=R):Yr(e,t,h);break;default:Yr(e,t,h)}}function ju(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var h=e.stateNode;h===null&&(h=e.stateNode=new fc),t.forEach(function(R){var z=wc.bind(null,e,R);h.has(R)||(h.add(R),R.then(z,z))})}}function yr(e,t){var h=t.deletions;if(h!==null)for(var R=0;R<h.length;R++){var z=h[R];try{var Y=e,le=t,Ee=le;e:for(;Ee!==null;){switch(Ee.tag){case 5:Wt=Ee.stateNode,_r=!1;break e;case 3:Wt=Ee.stateNode.containerInfo,_r=!0;break e;case 4:Wt=Ee.stateNode.containerInfo,_r=!0;break e}Ee=Ee.return}if(Wt===null)throw Error(ge(160));zu(Y,le,z),Wt=null,_r=!1;var Te=z.alternate;Te!==null&&(Te.return=null),z.return=null}catch(ze){Ot(z,t,ze)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Uu(t,e),t=t.sibling}function Uu(e,t){var h=e.alternate,R=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yr(t,e),Ar(e),R&4){try{mi(3,e,e.return),fa(3,e)}catch(at){Ot(e,e.return,at)}try{mi(5,e,e.return)}catch(at){Ot(e,e.return,at)}}break;case 1:yr(t,e),Ar(e),R&512&&h!==null&&Dn(h,h.return);break;case 5:if(yr(t,e),Ar(e),R&512&&h!==null&&Dn(h,h.return),e.flags&32){var z=e.stateNode;try{Ze(z,"")}catch(at){Ot(e,e.return,at)}}if(R&4&&(z=e.stateNode,z!=null)){var Y=e.memoizedProps,le=h!==null?h.memoizedProps:Y,Ee=e.type,Te=e.updateQueue;if(e.updateQueue=null,Te!==null)try{Ee==="input"&&Y.type==="radio"&&Y.name!=null&&se(z,Y),G(Ee,le);var ze=G(Ee,Y);for(le=0;le<Te.length;le+=2){var Xe=Te[le],Qe=Te[le+1];Xe==="style"?Ue(z,Qe):Xe==="dangerouslySetInnerHTML"?je(z,Qe):Xe==="children"?Ze(z,Qe):i(z,Xe,Qe,ze)}switch(Ee){case"input":oe(z,Y);break;case"textarea":C(z,Y);break;case"select":var Ye=z._wrapperState.wasMultiple;z._wrapperState.wasMultiple=!!Y.multiple;var rt=Y.value;rt!=null?te(z,!!Y.multiple,rt,!1):Ye!==!!Y.multiple&&(Y.defaultValue!=null?te(z,!!Y.multiple,Y.defaultValue,!0):te(z,!!Y.multiple,Y.multiple?[]:"",!1))}z[ii]=Y}catch(at){Ot(e,e.return,at)}}break;case 6:if(yr(t,e),Ar(e),R&4){if(e.stateNode===null)throw Error(ge(162));z=e.stateNode,Y=e.memoizedProps;try{z.nodeValue=Y}catch(at){Ot(e,e.return,at)}}break;case 3:if(yr(t,e),Ar(e),R&4&&h!==null&&h.memoizedState.isDehydrated)try{$n(t.containerInfo)}catch(at){Ot(e,e.return,at)}break;case 4:yr(t,e),Ar(e);break;case 13:yr(t,e),Ar(e),z=e.child,z.flags&8192&&(Y=z.memoizedState!==null,z.stateNode.isHidden=Y,!Y||z.alternate!==null&&z.alternate.memoizedState!==null||(es=At())),R&4&&ju(e);break;case 22:if(Xe=h!==null&&h.memoizedState!==null,e.mode&1?(Xt=(ze=Xt)||Xe,yr(t,e),Xt=ze):yr(t,e),Ar(e),R&8192){if(ze=e.memoizedState!==null,(e.stateNode.isHidden=ze)&&!Xe&&(e.mode&1)!==0)for(nt=e,Xe=e.child;Xe!==null;){for(Qe=nt=Xe;nt!==null;){switch(Ye=nt,rt=Ye.child,Ye.tag){case 0:case 11:case 14:case 15:mi(4,Ye,Ye.return);break;case 1:Dn(Ye,Ye.return);var it=Ye.stateNode;if(typeof it.componentWillUnmount=="function"){R=Ye,h=Ye.return;try{t=R,it.props=t.memoizedProps,it.state=t.memoizedState,it.componentWillUnmount()}catch(at){Ot(R,h,at)}}break;case 5:Dn(Ye,Ye.return);break;case 22:if(Ye.memoizedState!==null){Gu(Qe);continue}}rt!==null?(rt.return=Ye,nt=rt):Gu(Qe)}Xe=Xe.sibling}e:for(Xe=null,Qe=e;;){if(Qe.tag===5){if(Xe===null){Xe=Qe;try{z=Qe.stateNode,ze?(Y=z.style,typeof Y.setProperty=="function"?Y.setProperty("display","none","important"):Y.display="none"):(Ee=Qe.stateNode,Te=Qe.memoizedProps.style,le=Te!=null&&Te.hasOwnProperty("display")?Te.display:null,Ee.style.display=We("display",le))}catch(at){Ot(e,e.return,at)}}}else if(Qe.tag===6){if(Xe===null)try{Qe.stateNode.nodeValue=ze?"":Qe.memoizedProps}catch(at){Ot(e,e.return,at)}}else if((Qe.tag!==22&&Qe.tag!==23||Qe.memoizedState===null||Qe===e)&&Qe.child!==null){Qe.child.return=Qe,Qe=Qe.child;continue}if(Qe===e)break e;for(;Qe.sibling===null;){if(Qe.return===null||Qe.return===e)break e;Xe===Qe&&(Xe=null),Qe=Qe.return}Xe===Qe&&(Xe=null),Qe.sibling.return=Qe.return,Qe=Qe.sibling}}break;case 19:yr(t,e),Ar(e),R&4&&ju(e);break;case 21:break;default:yr(t,e),Ar(e)}}function Ar(e){var t=e.flags;if(t&2){try{e:{for(var h=e.return;h!==null;){if(Du(h)){var R=h;break e}h=h.return}throw Error(ge(160))}switch(R.tag){case 5:var z=R.stateNode;R.flags&32&&(Ze(z,""),R.flags&=-33);var Y=Bu(e);Ko(e,Y,z);break;case 3:case 4:var le=R.stateNode.containerInfo,Ee=Bu(e);Qo(e,Ee,le);break;default:throw Error(ge(161))}}catch(Te){Ot(e,e.return,Te)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cc(e,t,h){nt=e,Fu(e)}function Fu(e,t,h){for(var R=(e.mode&1)!==0;nt!==null;){var z=nt,Y=z.child;if(z.tag===22&&R){var le=z.memoizedState!==null||ua;if(!le){var Ee=z.alternate,Te=Ee!==null&&Ee.memoizedState!==null||Xt;Ee=ua;var ze=Xt;if(ua=le,(Xt=Te)&&!ze)for(nt=z;nt!==null;)le=nt,Te=le.child,le.tag===22&&le.memoizedState!==null?Wu(z):Te!==null?(Te.return=le,nt=Te):Wu(z);for(;Y!==null;)nt=Y,Fu(Y),Y=Y.sibling;nt=z,ua=Ee,Xt=ze}Hu(e)}else(z.subtreeFlags&8772)!==0&&Y!==null?(Y.return=z,nt=Y):Hu(e)}}function Hu(e){for(;nt!==null;){var t=nt;if((t.flags&8772)!==0){var h=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Xt||fa(5,t);break;case 1:var R=t.stateNode;if(t.flags&4&&!Xt)if(h===null)R.componentDidMount();else{var z=t.elementType===t.type?h.memoizedProps:gr(t.type,h.memoizedProps);R.componentDidUpdate(z,h.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var Y=t.updateQueue;Y!==null&&Gl(t,Y,R);break;case 3:var le=t.updateQueue;if(le!==null){if(h=null,t.child!==null)switch(t.child.tag){case 5:h=t.child.stateNode;break;case 1:h=t.child.stateNode}Gl(t,le,h)}break;case 5:var Ee=t.stateNode;if(h===null&&t.flags&4){h=Ee;var Te=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":Te.autoFocus&&h.focus();break;case"img":Te.src&&(h.src=Te.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var ze=t.alternate;if(ze!==null){var Xe=ze.memoizedState;if(Xe!==null){var Qe=Xe.dehydrated;Qe!==null&&$n(Qe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}Xt||t.flags&512&&Xo(t)}catch(Ye){Ot(t,t.return,Ye)}}if(t===e){nt=null;break}if(h=t.sibling,h!==null){h.return=t.return,nt=h;break}nt=t.return}}function Gu(e){for(;nt!==null;){var t=nt;if(t===e){nt=null;break}var h=t.sibling;if(h!==null){h.return=t.return,nt=h;break}nt=t.return}}function Wu(e){for(;nt!==null;){var t=nt;try{switch(t.tag){case 0:case 11:case 15:var h=t.return;try{fa(4,t)}catch(Te){Ot(t,h,Te)}break;case 1:var R=t.stateNode;if(typeof R.componentDidMount=="function"){var z=t.return;try{R.componentDidMount()}catch(Te){Ot(t,z,Te)}}var Y=t.return;try{Xo(t)}catch(Te){Ot(t,Y,Te)}break;case 5:var le=t.return;try{Xo(t)}catch(Te){Ot(t,le,Te)}}}catch(Te){Ot(t,t.return,Te)}if(t===e){nt=null;break}var Ee=t.sibling;if(Ee!==null){Ee.return=t.return,nt=Ee;break}nt=t.return}}var dc=Math.ceil,ha=p.ReactCurrentDispatcher,Jo=p.ReactCurrentOwner,cr=p.ReactCurrentBatchConfig,pt=0,Ft=null,It=null,Zt=0,sr=0,Bn=Gr(0),Bt=0,vi=null,hn=0,ca=0,qo=0,gi=null,tr=null,es=0,zn=1/0,Ir=null,da=!1,ts=null,Xr=null,pa=!1,Qr=null,ma=0,_i=0,rs=null,va=-1,ga=0;function Kt(){return(pt&6)!==0?At():va!==-1?va:va=At()}function Kr(e){return(e.mode&1)===0?1:(pt&2)!==0&&Zt!==0?Zt&-Zt:Qh.transition!==null?(ga===0&&(ga=Bs()),ga):(e=gt,e!==0||(e=window.event,e=e===void 0?16:Vs(e.type)),e)}function wr(e,t,h,R){if(50<_i)throw _i=0,rs=null,Error(ge(185));Hn(e,h,R),((pt&2)===0||e!==Ft)&&(e===Ft&&((pt&2)===0&&(ca|=h),Bt===4&&Jr(e,Zt)),rr(e,R),h===1&&pt===0&&(t.mode&1)===0&&(zn=At()+500,Zi&&Zr()))}function rr(e,t){var h=e.callbackNode;Qf(e,t);var R=ki(e,e===Ft?Zt:0);if(R===0)h!==null&&jt(h),e.callbackNode=null,e.callbackPriority=0;else if(t=R&-R,e.callbackPriority!==t){if(h!=null&&jt(h),t===1)e.tag===0?Xh(Vu.bind(null,e)):Pl(Vu.bind(null,e)),Zh(function(){(pt&6)===0&&Zr()}),h=null;else{switch(zs(R)){case 1:h=vn;break;case 4:h=Un;break;case 16:h=rn;break;case 536870912:h=Ds;break;default:h=rn}h=ef(h,Zu.bind(null,e))}e.callbackPriority=t,e.callbackNode=h}}function Zu(e,t){if(va=-1,ga=0,(pt&6)!==0)throw Error(ge(327));var h=e.callbackNode;if(jn()&&e.callbackNode!==h)return null;var R=ki(e,e===Ft?Zt:0);if(R===0)return null;if((R&30)!==0||(R&e.expiredLanes)!==0||t)t=_a(e,R);else{t=R;var z=pt;pt|=2;var Y=Yu();(Ft!==e||Zt!==t)&&(Ir=null,zn=At()+500,dn(e,t));do try{vc();break}catch(Ee){$u(e,Ee)}while(!0);wo(),ha.current=Y,pt=z,It!==null?t=0:(Ft=null,Zt=0,t=Bt)}if(t!==0){if(t===2&&(z=Ia(e),z!==0&&(R=z,t=ns(e,z))),t===1)throw h=vi,dn(e,0),Jr(e,R),rr(e,At()),h;if(t===6)Jr(e,R);else{if(z=e.current.alternate,(R&30)===0&&!pc(z)&&(t=_a(e,R),t===2&&(Y=Ia(e),Y!==0&&(R=Y,t=ns(e,Y))),t===1))throw h=vi,dn(e,0),Jr(e,R),rr(e,At()),h;switch(e.finishedWork=z,e.finishedLanes=R,t){case 0:case 1:throw Error(ge(345));case 2:pn(e,tr,Ir);break;case 3:if(Jr(e,R),(R&130023424)===R&&(t=es+500-At(),10<t)){if(ki(e,0)!==0)break;if(z=e.suspendedLanes,(z&R)!==R){Kt(),e.pingedLanes|=e.suspendedLanes&z;break}e.timeoutHandle=lo(pn.bind(null,e,tr,Ir),t);break}pn(e,tr,Ir);break;case 4:if(Jr(e,R),(R&4194240)===R)break;for(t=e.eventTimes,z=-1;0<R;){var le=31-pr(R);Y=1<<le,le=t[le],le>z&&(z=le),R&=~Y}if(R=z,R=At()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*dc(R/1960))-R,10<R){e.timeoutHandle=lo(pn.bind(null,e,tr,Ir),R);break}pn(e,tr,Ir);break;case 5:pn(e,tr,Ir);break;default:throw Error(ge(329))}}}return rr(e,At()),e.callbackNode===h?Zu.bind(null,e):null}function ns(e,t){var h=gi;return e.current.memoizedState.isDehydrated&&(dn(e,t).flags|=256),e=_a(e,t),e!==2&&(t=tr,tr=h,t!==null&&is(t)),e}function is(e){tr===null?tr=e:tr.push.apply(tr,e)}function pc(e){for(var t=e;;){if(t.flags&16384){var h=t.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var R=0;R<h.length;R++){var z=h[R],Y=z.getSnapshot;z=z.value;try{if(!mr(Y(),z))return!1}catch{return!1}}}if(h=t.child,t.subtreeFlags&16384&&h!==null)h.return=t,t=h;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jr(e,t){for(t&=~qo,t&=~ca,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var h=31-pr(t),R=1<<h;e[h]=-1,t&=~R}}function Vu(e){if((pt&6)!==0)throw Error(ge(327));jn();var t=ki(e,0);if((t&1)===0)return rr(e,At()),null;var h=_a(e,t);if(e.tag!==0&&h===2){var R=Ia(e);R!==0&&(t=R,h=ns(e,R))}if(h===1)throw h=vi,dn(e,0),Jr(e,t),rr(e,At()),h;if(h===6)throw Error(ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pn(e,tr,Ir),rr(e,At()),null}function as(e,t){var h=pt;pt|=1;try{return e(t)}finally{pt=h,pt===0&&(zn=At()+500,Zi&&Zr())}}function cn(e){Qr!==null&&Qr.tag===0&&(pt&6)===0&&jn();var t=pt;pt|=1;var h=cr.transition,R=gt;try{if(cr.transition=null,gt=1,e)return e()}finally{gt=R,cr.transition=h,pt=t,(pt&6)===0&&Zr()}}function os(){sr=Bn.current,St(Bn)}function dn(e,t){e.finishedWork=null,e.finishedLanes=0;var h=e.timeoutHandle;if(h!==-1&&(e.timeoutHandle=-1,Wh(h)),It!==null)for(h=It.return;h!==null;){var R=h;switch(mo(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&Gi();break;case 3:Ln(),St(Jt),St(Vt),Mo();break;case 5:ko(R);break;case 4:Ln();break;case 13:St(Ct);break;case 19:St(Ct);break;case 10:bo(R.type._context);break;case 22:case 23:os()}h=h.return}if(Ft=e,It=e=qr(e.current,null),Zt=sr=t,Bt=0,vi=null,qo=ca=hn=0,tr=gi=null,ln!==null){for(t=0;t<ln.length;t++)if(h=ln[t],R=h.interleaved,R!==null){h.interleaved=null;var z=R.next,Y=h.pending;if(Y!==null){var le=Y.next;Y.next=z,R.next=le}h.pending=R}ln=null}return e}function $u(e,t){do{var h=It;try{if(wo(),ta.current=aa,ra){for(var R=Pt.memoizedState;R!==null;){var z=R.queue;z!==null&&(z.pending=null),R=R.next}ra=!1}if(fn=0,Ut=Dt=Pt=null,fi=!1,hi=0,Jo.current=null,h===null||h.return===null){Bt=1,vi=t,It=null;break}e:{var Y=e,le=h.return,Ee=h,Te=t;if(t=Zt,Ee.flags|=32768,Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var ze=Te,Xe=Ee,Qe=Xe.tag;if((Xe.mode&1)===0&&(Qe===0||Qe===11||Qe===15)){var Ye=Xe.alternate;Ye?(Xe.updateQueue=Ye.updateQueue,Xe.memoizedState=Ye.memoizedState,Xe.lanes=Ye.lanes):(Xe.updateQueue=null,Xe.memoizedState=null)}var rt=_u(le);if(rt!==null){rt.flags&=-257,yu(rt,le,Ee,Y,t),rt.mode&1&&gu(Y,ze,t),t=rt,Te=ze;var it=t.updateQueue;if(it===null){var at=new Set;at.add(Te),t.updateQueue=at}else it.add(Te);break e}else{if((t&1)===0){gu(Y,ze,t),ss();break e}Te=Error(ge(426))}}else if(Mt&&Ee.mode&1){var Lt=_u(le);if(Lt!==null){(Lt.flags&65536)===0&&(Lt.flags|=256),yu(Lt,le,Ee,Y,t),_o(In(Te,Ee));break e}}Y=Te=In(Te,Ee),Bt!==4&&(Bt=2),gi===null?gi=[Y]:gi.push(Y),Y=le;do{switch(Y.tag){case 3:Y.flags|=65536,t&=-t,Y.lanes|=t;var Ie=mu(Y,Te,t);Hl(Y,Ie);break e;case 1:Ee=Te;var Ne=Y.type,De=Y.stateNode;if((Y.flags&128)===0&&(typeof Ne.getDerivedStateFromError=="function"||De!==null&&typeof De.componentDidCatch=="function"&&(Xr===null||!Xr.has(De)))){Y.flags|=65536,t&=-t,Y.lanes|=t;var Ke=vu(Y,Ee,t);Hl(Y,Ke);break e}}Y=Y.return}while(Y!==null)}Qu(h)}catch(ot){t=ot,It===h&&h!==null&&(It=h=h.return);continue}break}while(!0)}function Yu(){var e=ha.current;return ha.current=aa,e===null?aa:e}function ss(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Ft===null||(hn&268435455)===0&&(ca&268435455)===0||Jr(Ft,Zt)}function _a(e,t){var h=pt;pt|=2;var R=Yu();(Ft!==e||Zt!==t)&&(Ir=null,dn(e,t));do try{mc();break}catch(z){$u(e,z)}while(!0);if(wo(),pt=h,ha.current=R,It!==null)throw Error(ge(261));return Ft=null,Zt=0,Bt}function mc(){for(;It!==null;)Xu(It)}function vc(){for(;It!==null&&!tn();)Xu(It)}function Xu(e){var t=qu(e.alternate,e,sr);e.memoizedProps=e.pendingProps,t===null?Qu(e):It=t,Jo.current=null}function Qu(e){var t=e;do{var h=t.alternate;if(e=t.return,(t.flags&32768)===0){if(h=lc(h,t,sr),h!==null){It=h;return}}else{if(h=uc(h,t),h!==null){h.flags&=32767,It=h;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Bt=6,It=null;return}}if(t=t.sibling,t!==null){It=t;return}It=t=e}while(t!==null);Bt===0&&(Bt=5)}function pn(e,t,h){var R=gt,z=cr.transition;try{cr.transition=null,gt=1,gc(e,t,h,R)}finally{cr.transition=z,gt=R}return null}function gc(e,t,h,R){do jn();while(Qr!==null);if((pt&6)!==0)throw Error(ge(327));h=e.finishedWork;var z=e.finishedLanes;if(h===null)return null;if(e.finishedWork=null,e.finishedLanes=0,h===e.current)throw Error(ge(177));e.callbackNode=null,e.callbackPriority=0;var Y=h.lanes|h.childLanes;if(Kf(e,Y),e===Ft&&(It=Ft=null,Zt=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||pa||(pa=!0,ef(rn,function(){return jn(),null})),Y=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||Y){Y=cr.transition,cr.transition=null;var le=gt;gt=1;var Ee=pt;pt|=4,Jo.current=null,hc(e,h),Uu(h,e),Bh(oo),Ti=!!ao,oo=ao=null,e.current=h,cc(h),bi(),pt=Ee,gt=le,cr.transition=Y}else e.current=h;if(pa&&(pa=!1,Qr=e,ma=z),Y=e.pendingLanes,Y===0&&(Xr=null),Zf(h.stateNode),rr(e,At()),t!==null)for(R=e.onRecoverableError,h=0;h<t.length;h++)z=t[h],R(z.value,{componentStack:z.stack,digest:z.digest});if(da)throw da=!1,e=ts,ts=null,e;return(ma&1)!==0&&e.tag!==0&&jn(),Y=e.pendingLanes,(Y&1)!==0?e===rs?_i++:(_i=0,rs=e):_i=0,Zr(),null}function jn(){if(Qr!==null){var e=zs(ma),t=cr.transition,h=gt;try{if(cr.transition=null,gt=16>e?16:e,Qr===null)var R=!1;else{if(e=Qr,Qr=null,ma=0,(pt&6)!==0)throw Error(ge(331));var z=pt;for(pt|=4,nt=e.current;nt!==null;){var Y=nt,le=Y.child;if((nt.flags&16)!==0){var Ee=Y.deletions;if(Ee!==null){for(var Te=0;Te<Ee.length;Te++){var ze=Ee[Te];for(nt=ze;nt!==null;){var Xe=nt;switch(Xe.tag){case 0:case 11:case 15:mi(8,Xe,Y)}var Qe=Xe.child;if(Qe!==null)Qe.return=Xe,nt=Qe;else for(;nt!==null;){Xe=nt;var Ye=Xe.sibling,rt=Xe.return;if(Iu(Xe),Xe===ze){nt=null;break}if(Ye!==null){Ye.return=rt,nt=Ye;break}nt=rt}}}var it=Y.alternate;if(it!==null){var at=it.child;if(at!==null){it.child=null;do{var Lt=at.sibling;at.sibling=null,at=Lt}while(at!==null)}}nt=Y}}if((Y.subtreeFlags&2064)!==0&&le!==null)le.return=Y,nt=le;else e:for(;nt!==null;){if(Y=nt,(Y.flags&2048)!==0)switch(Y.tag){case 0:case 11:case 15:mi(9,Y,Y.return)}var Ie=Y.sibling;if(Ie!==null){Ie.return=Y.return,nt=Ie;break e}nt=Y.return}}var Ne=e.current;for(nt=Ne;nt!==null;){le=nt;var De=le.child;if((le.subtreeFlags&2064)!==0&&De!==null)De.return=le,nt=De;else e:for(le=Ne;nt!==null;){if(Ee=nt,(Ee.flags&2048)!==0)try{switch(Ee.tag){case 0:case 11:case 15:fa(9,Ee)}}catch(ot){Ot(Ee,Ee.return,ot)}if(Ee===le){nt=null;break e}var Ke=Ee.sibling;if(Ke!==null){Ke.return=Ee.return,nt=Ke;break e}nt=Ee.return}}if(pt=z,Zr(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(Si,e)}catch{}R=!0}return R}finally{gt=h,cr.transition=t}}return!1}function Ku(e,t,h){t=In(h,t),t=mu(e,t,1),e=$r(e,t,1),t=Kt(),e!==null&&(Hn(e,1,t),rr(e,t))}function Ot(e,t,h){if(e.tag===3)Ku(e,e,h);else for(;t!==null;){if(t.tag===3){Ku(t,e,h);break}else if(t.tag===1){var R=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(Xr===null||!Xr.has(R))){e=In(h,e),e=vu(t,e,1),t=$r(t,e,1),e=Kt(),t!==null&&(Hn(t,1,e),rr(t,e));break}}t=t.return}}function _c(e,t,h){var R=e.pingCache;R!==null&&R.delete(t),t=Kt(),e.pingedLanes|=e.suspendedLanes&h,Ft===e&&(Zt&h)===h&&(Bt===4||Bt===3&&(Zt&130023424)===Zt&&500>At()-es?dn(e,0):qo|=h),rr(e,t)}function Ju(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ri,Ri<<=1,(Ri&130023424)===0&&(Ri=4194304)));var h=Kt();e=Or(e,t),e!==null&&(Hn(e,t,h),rr(e,h))}function yc(e){var t=e.memoizedState,h=0;t!==null&&(h=t.retryLane),Ju(e,h)}function wc(e,t){var h=0;switch(e.tag){case 13:var R=e.stateNode,z=e.memoizedState;z!==null&&(h=z.retryLane);break;case 19:R=e.stateNode;break;default:throw Error(ge(314))}R!==null&&R.delete(t),Ju(e,h)}var qu;qu=function(e,t,h){if(e!==null)if(e.memoizedProps!==t.pendingProps||Jt.current)er=!0;else{if((e.lanes&h)===0&&(t.flags&128)===0)return er=!1,sc(e,t,h);er=(e.flags&131072)!==0}else er=!1,Mt&&(t.flags&1048576)!==0&&Ol(t,$i,t.index);switch(t.lanes=0,t.tag){case 2:var R=t.type;la(e,t),e=t.pendingProps;var z=An(t,Vt.current);Nn(t,h),z=Po(null,t,R,e,z,h);var Y=Oo();return t.flags|=1,typeof z=="object"&&z!==null&&typeof z.render=="function"&&z.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qt(R)?(Y=!0,Wi(t)):Y=!1,t.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,xo(t),z.updater=oa,t.stateNode=z,z._reactInternals=t,zo(t,R,e,h),t=Ho(null,t,R,!0,Y,h)):(t.tag=0,Mt&&Y&&po(t),Qt(null,t,z,h),t=t.child),t;case 16:R=t.elementType;e:{switch(la(e,t),e=t.pendingProps,z=R._init,R=z(R._payload),t.type=R,z=t.tag=Ec(R),e=gr(R,e),z){case 0:t=Fo(null,t,R,e,h);break e;case 1:t=Ru(null,t,R,e,h);break e;case 11:t=wu(null,t,R,e,h);break e;case 14:t=bu(null,t,R,gr(R.type,e),h);break e}throw Error(ge(306,R,""))}return t;case 0:return R=t.type,z=t.pendingProps,z=t.elementType===R?z:gr(R,z),Fo(e,t,R,z,h);case 1:return R=t.type,z=t.pendingProps,z=t.elementType===R?z:gr(R,z),Ru(e,t,R,z,h);case 3:e:{if(ku(t),e===null)throw Error(ge(387));R=t.pendingProps,Y=t.memoizedState,z=Y.element,Fl(e,t),qi(t,R,null,h);var le=t.memoizedState;if(R=le.element,Y.isDehydrated)if(Y={element:R,isDehydrated:!1,cache:le.cache,pendingSuspenseBoundaries:le.pendingSuspenseBoundaries,transitions:le.transitions},t.updateQueue.baseState=Y,t.memoizedState=Y,t.flags&256){z=In(Error(ge(423)),t),t=Au(e,t,R,h,z);break e}else if(R!==z){z=In(Error(ge(424)),t),t=Au(e,t,R,h,z);break e}else for(or=Hr(t.stateNode.containerInfo.firstChild),ar=t,Mt=!0,vr=null,h=jl(t,null,R,h),t.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Cn(),R===z){t=Lr(e,t,h);break e}Qt(e,t,R,h)}t=t.child}return t;case 5:return Wl(t),e===null&&go(t),R=t.type,z=t.pendingProps,Y=e!==null?e.memoizedProps:null,le=z.children,so(R,z)?le=null:Y!==null&&so(R,Y)&&(t.flags|=32),xu(e,t),Qt(e,t,le,h),t.child;case 6:return e===null&&go(t),null;case 13:return Mu(e,t,h);case 4:return Ro(t,t.stateNode.containerInfo),R=t.pendingProps,e===null?t.child=Pn(t,null,R,h):Qt(e,t,R,h),t.child;case 11:return R=t.type,z=t.pendingProps,z=t.elementType===R?z:gr(R,z),wu(e,t,R,z,h);case 7:return Qt(e,t,t.pendingProps,h),t.child;case 8:return Qt(e,t,t.pendingProps.children,h),t.child;case 12:return Qt(e,t,t.pendingProps.children,h),t.child;case 10:e:{if(R=t.type._context,z=t.pendingProps,Y=t.memoizedProps,le=z.value,yt(Qi,R._currentValue),R._currentValue=le,Y!==null)if(mr(Y.value,le)){if(Y.children===z.children&&!Jt.current){t=Lr(e,t,h);break e}}else for(Y=t.child,Y!==null&&(Y.return=t);Y!==null;){var Ee=Y.dependencies;if(Ee!==null){le=Y.child;for(var Te=Ee.firstContext;Te!==null;){if(Te.context===R){if(Y.tag===1){Te=Nr(-1,h&-h),Te.tag=2;var ze=Y.updateQueue;if(ze!==null){ze=ze.shared;var Xe=ze.pending;Xe===null?Te.next=Te:(Te.next=Xe.next,Xe.next=Te),ze.pending=Te}}Y.lanes|=h,Te=Y.alternate,Te!==null&&(Te.lanes|=h),Eo(Y.return,h,t),Ee.lanes|=h;break}Te=Te.next}}else if(Y.tag===10)le=Y.type===t.type?null:Y.child;else if(Y.tag===18){if(le=Y.return,le===null)throw Error(ge(341));le.lanes|=h,Ee=le.alternate,Ee!==null&&(Ee.lanes|=h),Eo(le,h,t),le=Y.sibling}else le=Y.child;if(le!==null)le.return=Y;else for(le=Y;le!==null;){if(le===t){le=null;break}if(Y=le.sibling,Y!==null){Y.return=le.return,le=Y;break}le=le.return}Y=le}Qt(e,t,z.children,h),t=t.child}return t;case 9:return z=t.type,R=t.pendingProps.children,Nn(t,h),z=fr(z),R=R(z),t.flags|=1,Qt(e,t,R,h),t.child;case 14:return R=t.type,z=gr(R,t.pendingProps),z=gr(R.type,z),bu(e,t,R,z,h);case 15:return Eu(e,t,t.type,t.pendingProps,h);case 17:return R=t.type,z=t.pendingProps,z=t.elementType===R?z:gr(R,z),la(e,t),t.tag=1,qt(R)?(e=!0,Wi(t)):e=!1,Nn(t,h),du(t,R,z),zo(t,R,z,h),Ho(null,t,R,!0,e,h);case 19:return Cu(e,t,h);case 22:return Su(e,t,h)}throw Error(ge(156,t.tag))};function ef(e,t){return Gt(e,t)}function bc(e,t,h,R){this.tag=e,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(e,t,h,R){return new bc(e,t,h,R)}function ls(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ec(e){if(typeof e=="function")return ls(e)?1:0;if(e!=null){if(e=e.$$typeof,e===O)return 11;if(e===U)return 14}return 2}function qr(e,t){var h=e.alternate;return h===null?(h=dr(e.tag,t,e.key,e.mode),h.elementType=e.elementType,h.type=e.type,h.stateNode=e.stateNode,h.alternate=e,e.alternate=h):(h.pendingProps=t,h.type=e.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=e.flags&14680064,h.childLanes=e.childLanes,h.lanes=e.lanes,h.child=e.child,h.memoizedProps=e.memoizedProps,h.memoizedState=e.memoizedState,h.updateQueue=e.updateQueue,t=e.dependencies,h.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},h.sibling=e.sibling,h.index=e.index,h.ref=e.ref,h}function ya(e,t,h,R,z,Y){var le=2;if(R=e,typeof e=="function")ls(e)&&(le=1);else if(typeof e=="string")le=5;else e:switch(e){case _:return mn(h.children,z,Y,t);case b:le=8,z|=8;break;case E:return e=dr(12,h,t,z|2),e.elementType=E,e.lanes=Y,e;case j:return e=dr(13,h,t,z),e.elementType=j,e.lanes=Y,e;case T:return e=dr(19,h,t,z),e.elementType=T,e.lanes=Y,e;case D:return wa(h,z,Y,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case x:le=10;break e;case M:le=9;break e;case O:le=11;break e;case U:le=14;break e;case H:le=16,R=null;break e}throw Error(ge(130,e==null?e:typeof e,""))}return t=dr(le,h,t,z),t.elementType=e,t.type=R,t.lanes=Y,t}function mn(e,t,h,R){return e=dr(7,e,R,t),e.lanes=h,e}function wa(e,t,h,R){return e=dr(22,e,R,t),e.elementType=D,e.lanes=h,e.stateNode={isHidden:!1},e}function us(e,t,h){return e=dr(6,e,null,t),e.lanes=h,e}function fs(e,t,h){return t=dr(4,e.children!==null?e.children:[],e.key,t),t.lanes=h,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Sc(e,t,h,R,z){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Da(0),this.expirationTimes=Da(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Da(0),this.identifierPrefix=R,this.onRecoverableError=z,this.mutableSourceEagerHydrationData=null}function hs(e,t,h,R,z,Y,le,Ee,Te){return e=new Sc(e,t,h,Ee,Te),t===1?(t=1,Y===!0&&(t|=8)):t=0,Y=dr(3,null,null,t),e.current=Y,Y.stateNode=e,Y.memoizedState={element:R,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},xo(Y),e}function xc(e,t,h){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:v,key:R==null?null:""+R,children:e,containerInfo:t,implementation:h}}function tf(e){if(!e)return Wr;e=e._reactInternals;e:{if(bt(e)!==e||e.tag!==1)throw Error(ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ge(171))}if(e.tag===1){var h=e.type;if(qt(h))return Tl(e,h,t)}return t}function rf(e,t,h,R,z,Y,le,Ee,Te){return e=hs(h,R,!0,e,z,Y,le,Ee,Te),e.context=tf(null),h=e.current,R=Kt(),z=Kr(h),Y=Nr(R,z),Y.callback=t??null,$r(h,Y,z),e.current.lanes=z,Hn(e,z,R),rr(e,R),e}function ba(e,t,h,R){var z=t.current,Y=Kt(),le=Kr(z);return h=tf(h),t.context===null?t.context=h:t.pendingContext=h,t=Nr(Y,le),t.payload={element:e},R=R===void 0?null:R,R!==null&&(t.callback=R),e=$r(z,t,le),e!==null&&(wr(e,z,le,Y),Ji(e,z,le)),le}function Ea(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var h=e.retryLane;e.retryLane=h!==0&&h<t?h:t}}function cs(e,t){nf(e,t),(e=e.alternate)&&nf(e,t)}function Rc(){return null}var af=typeof reportError=="function"?reportError:function(e){console.error(e)};function ds(e){this._internalRoot=e}Sa.prototype.render=ds.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ge(409));ba(e,t,null,null)},Sa.prototype.unmount=ds.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cn(function(){ba(null,e,null,null)}),t[Mr]=null}};function Sa(e){this._internalRoot=e}Sa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fs();e={blockedOn:null,target:e,priority:t};for(var h=0;h<jr.length&&t!==0&&t<jr[h].priority;h++);jr.splice(h,0,e),h===0&&Ws(e)}};function ps(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function of(){}function kc(e,t,h,R,z){if(z){if(typeof R=="function"){var Y=R;R=function(){var ze=Ea(le);Y.call(ze)}}var le=rf(t,R,e,0,null,!1,!1,"",of);return e._reactRootContainer=le,e[Mr]=le.current,ri(e.nodeType===8?e.parentNode:e),cn(),le}for(;z=e.lastChild;)e.removeChild(z);if(typeof R=="function"){var Ee=R;R=function(){var ze=Ea(Te);Ee.call(ze)}}var Te=hs(e,0,!1,null,null,!1,!1,"",of);return e._reactRootContainer=Te,e[Mr]=Te.current,ri(e.nodeType===8?e.parentNode:e),cn(function(){ba(t,Te,h,R)}),Te}function Ra(e,t,h,R,z){var Y=h._reactRootContainer;if(Y){var le=Y;if(typeof z=="function"){var Ee=z;z=function(){var Te=Ea(le);Ee.call(Te)}}ba(t,le,e,z)}else le=kc(h,t,e,z,R);return Ea(le)}js=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var h=Fn(t.pendingLanes);h!==0&&(Ba(t,h|1),rr(t,At()),(pt&6)===0&&(zn=At()+500,Zr()))}break;case 13:cn(function(){var R=Or(e,1);if(R!==null){var z=Kt();wr(R,e,1,z)}}),cs(e,1)}},za=function(e){if(e.tag===13){var t=Or(e,134217728);if(t!==null){var h=Kt();wr(t,e,134217728,h)}cs(e,134217728)}},Us=function(e){if(e.tag===13){var t=Kr(e),h=Or(e,t);if(h!==null){var R=Kt();wr(h,e,t,R)}cs(e,t)}},Fs=function(){return gt},Hs=function(e,t){var h=gt;try{return gt=e,t()}finally{gt=h}},Le=function(e,t,h){switch(t){case"input":if(oe(e,h),t=h.name,h.type==="radio"&&t!=null){for(h=e;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<h.length;t++){var R=h[t];if(R!==e&&R.form===e.form){var z=Hi(R);if(!z)throw Error(ge(90));Re(R),oe(R,z)}}}break;case"textarea":C(e,h);break;case"select":t=h.value,t!=null&&te(e,!!h.multiple,t,!1)}},w=as,ye=cn;var Ac={usingClientEntryPoint:!1,Events:[ai,Rn,Hi,Be,qe,as]},yi={findFiberByHostInstance:nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mc={bundleType:yi.bundleType,version:yi.version,rendererPackageName:yi.rendererPackageName,rendererConfig:yi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:p.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Nt(e),e===null?null:e.stateNode},findFiberByHostInstance:yi.findFiberByHostInstance||Rc,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ka.isDisabled&&ka.supportsFiber)try{Si=ka.inject(Mc),Sr=ka}catch{}}return nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ac,nr.createPortal=function(e,t){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ps(t))throw Error(ge(200));return xc(e,t,null,h)},nr.createRoot=function(e,t){if(!ps(e))throw Error(ge(299));var h=!1,R="",z=af;return t!=null&&(t.unstable_strictMode===!0&&(h=!0),t.identifierPrefix!==void 0&&(R=t.identifierPrefix),t.onRecoverableError!==void 0&&(z=t.onRecoverableError)),t=hs(e,1,!1,null,null,h,!1,R,z),e[Mr]=t.current,ri(e.nodeType===8?e.parentNode:e),new ds(t)},nr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ge(188)):(e=Object.keys(e).join(","),Error(ge(268,e)));return e=Nt(t),e=e===null?null:e.stateNode,e},nr.flushSync=function(e){return cn(e)},nr.hydrate=function(e,t,h){if(!xa(t))throw Error(ge(200));return Ra(null,e,t,!0,h)},nr.hydrateRoot=function(e,t,h){if(!ps(e))throw Error(ge(405));var R=h!=null&&h.hydratedSources||null,z=!1,Y="",le=af;if(h!=null&&(h.unstable_strictMode===!0&&(z=!0),h.identifierPrefix!==void 0&&(Y=h.identifierPrefix),h.onRecoverableError!==void 0&&(le=h.onRecoverableError)),t=rf(t,null,e,1,h??null,z,!1,Y,le),e[Mr]=t.current,ri(e),R)for(e=0;e<R.length;e++)h=R[e],z=h._getVersion,z=z(h._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[h,z]:t.mutableSourceEagerHydrationData.push(h,z);return new Sa(t)},nr.render=function(e,t,h){if(!xa(t))throw Error(ge(200));return Ra(null,e,t,!1,h)},nr.unmountComponentAtNode=function(e){if(!xa(e))throw Error(ge(40));return e._reactRootContainer?(cn(function(){Ra(null,null,e,!1,function(){e._reactRootContainer=null,e[Mr]=null})}),!0):!1},nr.unstable_batchedUpdates=as,nr.unstable_renderSubtreeIntoContainer=function(e,t,h,R){if(!xa(h))throw Error(ge(200));if(e==null||e._reactInternals===void 0)throw Error(ge(38));return Ra(e,t,h,!1,R)},nr.version="18.3.1-next-f1338f8080-20240426",nr}var pf;function zc(){if(pf)return gs.exports;pf=1;function Pe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pe)}catch(ke){console.error(ke)}}return Pe(),gs.exports=Bc(),gs.exports}var mf;function jc(){if(mf)return Aa;mf=1;var Pe=zc();return Aa.createRoot=Pe.createRoot,Aa.hydrateRoot=Pe.hydrateRoot,Aa}var Uc=jc();/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fc={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=Pe=>Pe.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),zt=(Pe,ke)=>{const ge=ct.forwardRef(({color:A="currentColor",size:W=24,strokeWidth:S=2,absoluteStrokeWidth:k,className:y="",children:d,...g},u)=>ct.createElement("svg",{ref:u,...Fc,width:W,height:W,stroke:A,strokeWidth:k?Number(S)*24/Number(W):S,className:["lucide",`lucide-${Hc(Pe)}`,y].join(" "),...g},[...ke.map(([s,a])=>ct.createElement(s,a)),...Array.isArray(d)?d:[d]]));return ge.displayName=`${Pe}`,ge};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=zt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=zt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=zt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=zt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=zt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=zt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=zt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=zt("FolderInput",[["path",{d:"M2 9V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-1",key:"fm4g5t"}],["path",{d:"M2 13h10",key:"pgb2dq"}],["path",{d:"m9 16 3-3-3-3",key:"6m91ic"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=zt("FolderOutput",[["path",{d:"M2 7.5V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-1.5",key:"1yk7aj"}],["path",{d:"M2 13h10",key:"pgb2dq"}],["path",{d:"m5 10-3 3 3 3",key:"1r8ie0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=zt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=zt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=zt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=zt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=zt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=zt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=zt("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=zt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=zt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=zt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),rd=({onImageSelect:Pe,isMobile:ke=!1})=>{const[ge,A]=ct.useState(!1),W=ct.useRef(null),S=s=>{const a=s.target.files;if(a&&a.length>0){const n=a[0];u(n)}},k=s=>{s.preventDefault(),A(!0)},y=s=>{s.preventDefault(),A(!1)},d=s=>{s.preventDefault(),A(!1);const a=s.dataTransfer.files;if(a&&a.length>0){const n=a[0];u(n)}},g=()=>{W.current&&W.current.click()},u=s=>{if(!s.type.match("image.*")){alert("Please select an image file.");return}const a=new FileReader;a.onload=n=>{n.target&&typeof n.target.result=="string"&&Pe(n.target.result,s)},a.readAsDataURL(s)};return me.jsxs("div",{className:`border-2 border-dashed rounded-lg p-4 sm:p-8 text-center cursor-pointer transition-all duration-300 animate-bounce-in shadow-soft
        ${ge?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-blue-300 hover:bg-gray-50/80"}`,onDragOver:k,onDragLeave:y,onDrop:d,onClick:g,children:[me.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:S,ref:W}),me.jsxs("div",{className:"flex flex-col items-center justify-center",children:[me.jsx("div",{className:"mb-3 sm:mb-4 p-3 sm:p-4 rounded-full bg-gradient-to-br from-blue-100 to-indigo-100 text-blue-500 animate-pulse-subtle",children:me.jsx(ed,{className:`${ke?"w-8 h-8":"w-10 h-10"}`})}),me.jsx("h3",{className:`${ke?"text-lg":"text-xl"} font-medium text-gradient mb-1 sm:mb-2`,children:"Drag and drop your image"}),me.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-4 sm:mb-6",children:"Or click to browse files"}),me.jsxs("button",{type:"button",className:"btn btn-primary text-xs sm:text-sm",children:[me.jsx(td,{className:"w-4 h-4 mr-2"}),"Upload Image"]}),me.jsx("p",{className:"mt-3 sm:mt-4 text-xs text-gray-400",children:"Supports PNG, JPG, GIF, and BMP images"})]})]})},nd=({image:Pe,svg:ke,status:ge,progressSteps:A,isMobile:W=!1})=>me.jsxs("div",{className:"panel p-3 sm:p-6 animate-slide-in-bottom",children:[me.jsxs("h2",{className:"text-base sm:text-lg font-semibold text-gradient mb-2 sm:mb-4 flex items-center",children:[me.jsx(zf,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 text-blue-600"}),"Preview"]}),me.jsxs("div",{className:`grid ${W?"grid-cols-1":"sm:grid-cols-2"} gap-4 sm:gap-6`,children:[ge!=="idle"&&ge!=="done"&&me.jsxs("div",{className:`${W?"col-span-1":"sm:col-span-2"} bg-glass border border-gray-200 rounded-xl p-3 sm:p-4 mb-2 animate-fade-in shadow-soft`,children:[me.jsxs("div",{className:"flex items-center space-x-3",children:[me.jsx("div",{className:"animate-spin rounded-full h-4 w-4 sm:h-5 sm:w-5 border-2 border-blue-600 border-t-transparent"}),me.jsx("span",{className:"text-sm sm:text-base text-gray-700 font-medium",children:A[ge]})]}),me.jsx("div",{className:"mt-2 sm:mt-3 h-2 bg-gray-100 rounded-full overflow-hidden",children:me.jsx("div",{className:"h-full bg-gradient-blue transition-all duration-500 ease-out",style:{width:`${ge==="loading"?20:ge==="processing"?40:ge==="analyzing"?60:ge==="tracing"?80:ge==="optimizing"?90:0}%`}})})]}),me.jsxs("div",{children:[me.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium mb-1 sm:mb-2",children:"Original Image:"}),me.jsxs("div",{className:"relative overflow-hidden rounded-lg border border-gray-200 bg-white shadow-soft group",children:[me.jsx("img",{src:Pe,alt:"Original",className:"w-full h-auto object-contain max-h-[200px] sm:max-h-[300px] transition-transform duration-500 group-hover:scale-105"}),me.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]}),me.jsxs("div",{className:"animate-slide-in-right",style:{animationDelay:"0.2s"},children:[me.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium mb-1 sm:mb-2",children:"SVG Output:"}),ke?me.jsx("div",{dangerouslySetInnerHTML:{__html:ke},className:"bg-white border border-gray-200 rounded-lg p-2 sm:p-4 w-full h-auto max-h-[200px] sm:max-h-[300px] overflow-hidden shadow-soft hover:shadow-md transition-all duration-300 svg-preview",style:{filter:"none",colorScheme:"normal"}}):me.jsx("div",{className:"h-[200px] sm:h-[300px] border border-gray-200 rounded-lg bg-white/50 flex items-center justify-center p-2 sm:p-4 text-center shadow-soft",children:me.jsx("span",{className:"text-xs sm:text-sm text-gray-400",children:ge==="idle"?"Upload an image to see the SVG output":"Processing..."})})]})]}),ge==="done"&&me.jsxs("div",{className:"mt-3 sm:mt-4 bg-green-50 border border-green-100 rounded-lg p-2 sm:p-3 text-green-700 text-xs sm:text-sm animate-fade-in",children:[me.jsx("p",{className:"font-medium",children:"Conversion complete!"}),me.jsx("p",{className:"text-xs mt-1 text-green-600",children:"Your SVG is ready to download."})]})]}),id=({potraceParams:Pe,onParamChange:ke,onReset:ge,onClose:A,onApply:W,onApplyComplex:S,isMobile:k=!1,isComplexMode:y=!1,preserveColors:d,colorSteps:g})=>{const u=["black","white","left","right","minority","majority"],{turdSize:s,alphaMax:a,optCurve:n,optTolerance:r,threshold:f,turnPolicy:c,blackOnWhite:o,color:l,background:i,invert:p,highestQuality:m}=Pe,v="w-full h-3 bg-gray-200 rounded-full appearance-none cursor-pointer";return me.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-2 sm:p-4 animate-fade-in overflow-y-auto",children:me.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 sm:p-6 shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[me.jsxs("div",{className:"flex justify-between items-center mb-4",children:[me.jsxs("h3",{className:"font-semibold text-base sm:text-lg flex items-center text-gray-800",children:[me.jsx(Pa,{className:`${k?"w-4 h-4":"w-5 h-5"} mr-2 text-blue-600`}),"Tracing Options",y&&me.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded-full",children:"Complex Mode"})]}),me.jsxs("div",{className:"flex space-x-2",children:[me.jsxs("button",{onClick:S,className:"text-xs px-2 sm:px-3 py-1 sm:py-1.5 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded transition-colors duration-200 flex items-center",title:"Apply optimized settings for complex images with intricate details, geometric patterns, or dense line work",children:[me.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:me.jsx("path",{fillRule:"evenodd",d:"M5 3a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2V5a2 2 0 00-2-2H5zm4.5 14C7.01 17 5 14.99 5 12.5S7.01 8 9.5 8 14 10.01 14 12.5 11.99 17 9.5 17z",clipRule:"evenodd"})}),"Complex Image"]}),me.jsx("button",{onClick:ge,className:"text-xs px-2 sm:px-3 py-1 sm:py-1.5 bg-gray-100 hover:bg-gray-200 rounded transition-colors duration-200",children:"Reset"}),me.jsx("button",{onClick:A,className:"text-xs px-2 sm:px-3 py-1 sm:py-1.5 bg-gray-100 hover:bg-gray-200 rounded transition-colors duration-200",children:"Close"})]})]}),me.jsxs("div",{className:`grid ${k?"grid-cols-1 gap-4":"sm:grid-cols-2 gap-6"}`,children:[me.jsxs("div",{children:[me.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:["Detail Level (turdSize: ",s,")"]}),me.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Lower values keep more details (1-10)"}),me.jsxs("div",{className:"relative pt-1",children:[me.jsx("div",{className:"overflow-hidden h-3 mb-1 text-xs flex rounded-full bg-gray-200",children:me.jsx("div",{style:{width:`${(s-1)/9*100}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-gradient-blue"})}),me.jsx("input",{type:"range",min:"1",max:"10",step:"1",value:s,onChange:_=>ke("turdSize",_.target.value),className:`${v} mt-2`,style:{WebkitAppearance:"none",appearance:"none"}})]})]}),me.jsxs("div",{children:[me.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:["Threshold: ",f]}),me.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Controls black/white cutoff (0-255)"}),me.jsxs("div",{className:"relative pt-1",children:[me.jsx("div",{className:"overflow-hidden h-3 mb-1 text-xs flex rounded-full bg-gray-200",children:me.jsx("div",{style:{width:`${f/255*100}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-gradient-blue"})}),me.jsx("input",{type:"range",min:"0",max:"255",step:"1",value:f,onChange:_=>ke("threshold",_.target.value),className:`${v} mt-2`,style:{WebkitAppearance:"none",appearance:"none"}})]})]}),me.jsxs("div",{children:[me.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:["Corner Threshold (alphaMax: ",a.toFixed(1),")"]}),me.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Higher values make smoother corners (0.1-1.5)"}),me.jsxs("div",{className:"relative pt-1",children:[me.jsx("div",{className:"overflow-hidden h-3 mb-1 text-xs flex rounded-full bg-gray-200",children:me.jsx("div",{style:{width:`${(a-.1)/1.4*100}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-gradient-blue"})}),me.jsx("input",{type:"range",min:"0.1",max:"1.5",step:"0.1",value:a,onChange:_=>ke("alphaMax",_.target.value),className:`${v} mt-2`,style:{WebkitAppearance:"none",appearance:"none"}})]})]}),me.jsxs("div",{children:[me.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:["Optimization Tolerance: ",r.toFixed(1)]}),me.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Higher values allow more deviation (0.1-2.0)"}),me.jsxs("div",{className:"relative pt-1",children:[me.jsx("div",{className:"overflow-hidden h-3 mb-1 text-xs flex rounded-full bg-gray-200",children:me.jsx("div",{style:{width:`${(r-.1)/1.9*100}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-gradient-blue"})}),me.jsx("input",{type:"range",min:"0.1",max:"2.0",step:"0.1",value:r,onChange:_=>ke("optTolerance",_.target.value),className:`${v} mt-2`,style:{WebkitAppearance:"none",appearance:"none"}})]})]}),me.jsx("div",{className:k?"":"sm:col-span-2",children:me.jsxs("div",{className:"flex flex-col gap-2",children:[me.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:"Options"}),me.jsxs("div",{className:"flex items-center",children:[me.jsx("input",{type:"checkbox",id:"optCurve",checked:n,onChange:_=>ke("optCurve",_.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),me.jsx("label",{htmlFor:"optCurve",className:"ml-2 text-xs sm:text-sm text-gray-600",children:"Enable curve optimization"})]}),me.jsxs("div",{className:"flex items-center",children:[me.jsx("input",{type:"checkbox",id:"blackOnWhite",checked:o,onChange:_=>ke("blackOnWhite",_.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),me.jsx("label",{htmlFor:"blackOnWhite",className:"ml-2 text-xs sm:text-sm text-gray-600",children:"Black on white (vs. white on black)"})]}),me.jsxs("div",{className:"flex items-center",children:[me.jsx("input",{type:"checkbox",id:"invert",checked:p,onChange:_=>ke("invert",_.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),me.jsx("label",{htmlFor:"invert",className:"ml-2 text-xs sm:text-sm text-gray-600",children:"Invert colors"})]}),me.jsxs("div",{className:"flex items-center",children:[me.jsx("input",{type:"checkbox",id:"highestQuality",checked:m,onChange:_=>ke("highestQuality",_.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),me.jsx("label",{htmlFor:"highestQuality",className:"ml-2 text-xs sm:text-sm text-gray-600",children:"Highest quality (slower)"})]})]})}),me.jsxs("div",{className:k?"":"sm:col-span-2",children:[me.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Turn Policy:"}),me.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Controls how to resolve ambiguities during tracing"}),me.jsx("div",{className:"grid grid-cols-2 gap-2",children:u.map(_=>me.jsxs("div",{className:"flex items-center",children:[me.jsx("input",{type:"radio",id:`turn-${_}`,name:"turnPolicy",value:_,checked:c===_,onChange:()=>ke("turnPolicy",_),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),me.jsx("label",{htmlFor:`turn-${_}`,className:"ml-2 text-xs sm:text-sm text-gray-600",children:_.charAt(0).toUpperCase()+_.slice(1)})]},_))})]}),me.jsxs("div",{className:k?"":"sm:col-span-2",children:[me.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"SVG Colors:"}),me.jsxs("div",{className:"mt-1 mb-4 bg-blue-50 p-3 rounded-md border border-blue-100",children:[me.jsxs("div",{className:"flex items-center",children:[me.jsx("input",{id:"preserveColors",type:"checkbox",checked:d,onChange:_=>ke("preserveColors",_.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),me.jsxs("label",{htmlFor:"preserveColors",className:"ml-2 block text-xs sm:text-sm font-medium text-gray-700",children:["Extract and preserve original colors",y&&me.jsx("span",{className:"ml-1 text-blue-600 font-medium",children:"(works with complex mode)"})]})]}),d&&me.jsxs("div",{className:"mt-3 pl-6",children:[me.jsxs("label",{htmlFor:"colorSteps",className:"block text-xs sm:text-sm text-gray-600 mb-1",children:["Color levels: ",me.jsx("span",{className:"font-medium",children:g})]}),me.jsx("input",{type:"range",id:"colorSteps",min:"2",max:"6",step:"1",value:g,onChange:_=>ke("colorSteps",parseInt(_.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),me.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[me.jsx("span",{children:"2 (Faster)"}),me.jsx("span",{children:"6 (Better colors)"})]}),me.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"This feature analyzes your image to extract its dominant colors and apply them to the SVG paths. Higher values provide more color detail but increase file size and processing time."})]})]}),me.jsxs("div",{className:`grid grid-cols-1 sm:grid-cols-2 gap-4 ${d?"opacity-50":""}`,children:[me.jsxs("div",{children:[me.jsxs("label",{htmlFor:"color",className:"flex items-center text-xs sm:text-sm text-gray-600 mb-1",children:["Foreground color:",d&&me.jsx("span",{className:"ml-1 text-amber-600 text-xs",children:"(overridden by color preservation)"})]}),me.jsxs("div",{className:"flex",children:[me.jsx("input",{type:"color",id:"color",value:l,onChange:_=>ke("color",_.target.value),className:"h-8 w-8 border border-gray-300 rounded mr-2",disabled:d}),me.jsx("input",{type:"text",value:l,onChange:_=>ke("color",_.target.value),className:"flex-1 border border-gray-300 rounded px-2 text-xs sm:text-sm",placeholder:"#000000",disabled:d})]})]}),me.jsxs("div",{children:[me.jsxs("label",{htmlFor:"background",className:"flex items-center text-xs sm:text-sm text-gray-600 mb-1",children:["Background color:",d&&me.jsx("span",{className:"ml-1 text-amber-600 text-xs",children:"(may be overridden)"})]}),me.jsxs("div",{className:"flex",children:[me.jsx("input",{type:"color",id:"background",value:i==="transparent"?"#ffffff":i,onChange:_=>ke("background",_.target.value),className:"h-8 w-8 border border-gray-300 rounded mr-2",disabled:d&&i!=="transparent"}),me.jsx("input",{type:"text",value:i,onChange:_=>ke("background",_.target.value),className:"flex-1 border border-gray-300 rounded px-2 text-xs sm:text-sm",placeholder:"transparent or #hex",disabled:d&&i!=="transparent"})]})]})]})]})]}),W&&me.jsx("div",{className:"mt-4 sm:mt-6 pt-3 sm:pt-4 border-t border-gray-200",children:me.jsx("button",{onClick:W,className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-md text-xs sm:text-sm transition-colors duration-200 font-medium flex items-center justify-center",children:"Apply Changes"})})]})})},ad=({svg:Pe,filename:ke,isMobile:ge=!1})=>{const A=()=>{if(!Pe)return;let S=Pe;S.startsWith("<?xml")||(S=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
`+S),S.includes("xmlns=")||(S=S.replace("<svg",'<svg xmlns="http://www.w3.org/2000/svg"')),S.includes("xmlns:xlink=")||(S=S.replace("<svg",'<svg xmlns:xlink="http://www.w3.org/1999/xlink"'));const k=new Blob([S],{type:"image/svg+xml;charset=utf-8"}),y=URL.createObjectURL(k),d=document.createElement("a");d.href=y,d.download=`${ke}.svg`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(y)},W=()=>ge?"fixed bottom-16 left-0 right-0 p-2 flex justify-center z-20 animate-slide-in-bottom":"fixed bottom-0 left-0 right-0 p-4 flex justify-center z-20 animate-slide-in-bottom";return me.jsxs("div",{className:W(),style:{animationDelay:"0.5s"},children:[me.jsxs("button",{onClick:A,disabled:!Pe,className:`flex items-center justify-center px-4 sm:px-6 py-2 sm:py-3 rounded-full shadow-soft transition-all duration-300 ${Pe?"bg-gradient-blue text-white hover:shadow-lg hover:scale-105 active:scale-95":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,title:"Download SVG",children:[me.jsx($c,{className:`${ge?"w-4 h-4":"w-5 h-5"} mr-2`}),me.jsx("span",{className:`${ge?"text-xs":"text-sm"} font-medium`,children:"Download SVG"})]}),ge?null:me.jsxs("div",{className:"absolute bottom-full w-full max-w-xs mb-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-4 py-2 rounded-lg text-sm animate-bounce-in",style:{left:"50%",transform:"translateX(-50%)"},children:[me.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-4 h-4 rotate-45 bg-indigo-600"}),me.jsx("p",{className:"text-center font-medium",children:"Your SVG is ready for download!"})]})]})};async function od(){const Pe=window.location.port||"3000";try{const ke=await fetch("/api/network-info");if(ke.ok)return await ke.json()}catch(ke){console.error("Error fetching network info:",ke)}return{localUrl:`http://localhost:${Pe}`,networkUrls:[`http://localhost:${Pe}`,`http://172.18.240.1:${Pe}`,`http://192.168.1.99:${Pe}`,`http://192.168.1.130:${Pe}`]}}const sd=({isMobile:Pe=!1})=>{const ke=window.location.port||"3000",[ge,A]=ct.useState({localUrl:`http://localhost:${ke}`,networkUrls:[]}),[W,S]=ct.useState(!1),[k,y]=ct.useState(null);ct.useEffect(()=>{async function g(){try{const s=await od();A(s)}catch(s){console.error("Failed to get network URLs:",s),A({localUrl:`http://localhost:${ke}`,networkUrls:[`http://localhost:${ke}`,`http://172.18.240.1:${ke}`,`http://192.168.1.99:${ke}`,`http://192.168.1.130:${ke}`]})}}g();const u=setInterval(g,3e4);return()=>clearInterval(u)},[ke]);const d=g=>{navigator.clipboard.writeText(g).then(()=>{y(g),setTimeout(()=>y(null),2e3)})};return W?me.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:me.jsxs("div",{className:`relative bg-white rounded-lg shadow-xl ${Pe?"w-full max-w-sm":"max-w-md"} p-4`,children:[me.jsxs("div",{className:"flex items-center justify-between mb-3",children:[me.jsxs("h3",{className:`${Pe?"text-sm":"text-base"} font-medium flex items-center`,children:[me.jsx(_f,{className:`${Pe?"w-4 h-4":"w-5 h-5"} text-blue-500 mr-2`}),"Network Access"]}),me.jsx("button",{onClick:()=>S(!1),className:"text-gray-500 hover:text-gray-700",children:me.jsx(Pa,{className:`${Pe?"w-4 h-4":"w-5 h-5"}`})})]}),me.jsxs("div",{className:"mt-2 space-y-2",children:[me.jsx("div",{className:"text-xs text-gray-600 font-medium",children:"Access this app from other devices on your network:"}),(ge.networkUrls.length===0?[`http://localhost:${ke}`,`http://172.18.240.1:${ke}`,`http://192.168.1.99:${ke}`,`http://192.168.1.130:${ke}`]:ge.networkUrls).map((g,u)=>me.jsxs("div",{className:"flex items-center bg-gray-50 p-1.5 rounded",children:[me.jsx("span",{className:`${Pe?"text-xs":"text-sm"} font-mono text-gray-800 flex-1 truncate`,children:g}),me.jsx("button",{onClick:()=>d(g),className:"ml-2 p-1 text-gray-500 hover:text-blue-500 focus:outline-none",title:"Copy to clipboard",children:k===g?me.jsx(Zc,{className:`${Pe?"w-3.5 h-3.5":"w-4 h-4"} text-green-500`}):me.jsx(Vc,{className:`${Pe?"w-3.5 h-3.5":"w-4 h-4"}`})})]},u))]})]})}):me.jsx("button",{onClick:()=>S(!0),className:`fixed top-4 right-4 z-50 ${Pe?"p-2":"p-3"} rounded-full bg-blue-500 text-white shadow-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300`,title:"Network Access",children:me.jsx(_f,{className:`${Pe?"w-3.5 h-3.5":"w-4 h-4"}`})})},ld=({logs:Pe,visible:ke,onClose:ge})=>{const A=ct.useRef(null),[W,S]=ct.useState("all");if(ct.useEffect(()=>{A.current&&A.current.scrollIntoView({behavior:"smooth"})},[Pe]),!ke)return null;const k=Pe.length,y=Pe.filter(a=>a.isError).length,d=Pe.filter(a=>a.step.includes("COLOR")).length,g=W==="all"?Pe:W==="errors"?Pe.filter(a=>a.isError):W==="color"?Pe.filter(a=>a.step.includes("COLOR")):Pe,u=a=>a.includes("COLOR")||a.includes("PATH")?"color":a.includes("NETWORK")?"network":a.includes("ERROR")?"error":a.includes("ANALYZE")?"analyze":a.includes("DOWNSCALE")||a.includes("OPTIMIZE")?"optimize":a.includes("TRACE")?"trace":"general",s=a=>{if(a.isError)return"text-red-600";switch(u(a.step)){case"color":return"text-purple-600";case"network":return"text-amber-600";case"analyze":return"text-green-600";case"optimize":return"text-blue-600";case"trace":return"text-indigo-600";default:return""}};return me.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:me.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-4xl h-[80vh] flex flex-col",children:[me.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[me.jsx("h3",{className:"text-lg font-medium",children:"Processing Logs"}),me.jsxs("div",{className:"flex space-x-2",children:[me.jsxs("div",{className:"flex rounded-md shadow-sm border overflow-hidden",children:[me.jsxs("button",{onClick:()=>S("all"),className:`px-3 py-1 text-xs font-medium ${W==="all"?"bg-blue-50 text-blue-700":"bg-white text-gray-700"}`,children:["All (",k,")"]}),me.jsxs("button",{onClick:()=>S("color"),className:`px-3 py-1 text-xs font-medium ${W==="color"?"bg-purple-50 text-purple-700":"bg-white text-gray-700"}`,children:["Color (",d,")"]}),me.jsxs("button",{onClick:()=>S("errors"),className:`px-3 py-1 text-xs font-medium ${W==="errors"?"bg-red-50 text-red-700":"bg-white text-gray-700"}`,children:["Errors (",y,")"]})]}),me.jsx("button",{onClick:ge,className:"text-gray-500 hover:text-gray-700 p-1",children:me.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[me.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),me.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),me.jsxs("div",{className:"flex-1 overflow-y-auto p-3 font-mono text-sm bg-gray-50",children:[g.length===0?me.jsx("div",{className:"text-gray-500 text-center py-4",children:W==="all"?"No logs to display yet":W==="errors"?"No errors found in logs":"No color-related logs found"}):g.map((a,n)=>me.jsxs("div",{className:`mb-1 ${s(a)}`,children:[me.jsxs("span",{className:"text-gray-400",children:["[",a.timestamp,"]"]})," ",me.jsxs("span",{className:`font-bold ${a.isError?"text-red-600":"text-blue-600"}`,children:["[",a.step,"]"]})," ",a.message.includes("#")?me.jsx("span",{children:a.message.split(/(#[0-9A-Fa-f]{6})/).map((r,f)=>r.match(/#[0-9A-Fa-f]{6}/)?me.jsxs("span",{className:"inline-flex items-center",children:[me.jsx("span",{className:"inline-block w-3 h-3 mr-1 border border-gray-300",style:{backgroundColor:r}}),r]},f):r)}):me.jsx("span",{children:a.message})]},n)),me.jsx("div",{ref:A})]}),me.jsxs("div",{className:"p-3 border-t bg-gray-100 flex justify-between items-center",children:[me.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",g.length," of ",Pe.length," log entries"]}),me.jsx("button",{onClick:ge,className:"px-4 py-1.5 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Close"})]})]})})},ud=({potraceParams:Pe,onClose:ke,processImage:ge})=>{const[A,W]=ct.useState(null),[S,k]=ct.useState(null),[y,d]=ct.useState(!1),[g,u]=ct.useState([]),[s,a]=ct.useState({total:0,completed:0,failed:0,inProgress:0}),[n,r]=ct.useState(-1),[f,c]=ct.useState(!1),[o,l]=ct.useState(null),[i,p]=ct.useState({enabled:!1,width:512,height:512,maintainAspectRatio:!0}),[m,v]=ct.useState(!1);ct.useEffect(()=>{(()=>{const U=!!window.electronAPI;console.log("Electron environment detected:",U),c(U),U||l("Batch conversion requires the Electron app. Please run SVG-X as a desktop application to use this feature.")})()},[]);const _=async()=>{if(!f||!window.electronAPI){l("Cannot access file system in browser mode. Please run with 'npm run electron:dev'.");return}try{const T=await window.electronAPI.selectInputDirectory();if(T){W(T),l(null);const U=await window.electronAPI.readDirectory(T);if(Array.isArray(U)){const H=new Map;U.forEach(P=>{const B=P.split(/[/\\]/).pop()||"";/\.(jpe?g|png|gif|bmp)$/i.test(B)&&H.set(B,{filePath:P,fileName:B,status:"pending"})});const D=Array.from(H.values());if(D.length===0){l("No image files found in the selected directory. Please select a directory containing image files.");return}console.log(`Found ${D.length} unique image files to process`),u(D),a({total:D.length,completed:0,failed:0,inProgress:0})}else console.error("Error reading directory:",U.error),l(`Error reading directory: ${U.error}`)}}catch(T){console.error("Error selecting input directory:",T),l(`Error selecting directory: ${T instanceof Error?T.message:String(T)}`)}},b=async()=>{if(!f||!window.electronAPI){l("Cannot access file system in browser mode. Please run with 'npm run electron:dev'.");return}try{const T=await window.electronAPI.selectOutputDirectory();T&&k(T)}catch(T){console.error("Error selecting output directory:",T),l(`Error selecting directory: ${T instanceof Error?T.message:String(T)}`)}},E=async()=>{!A||!S||g.length===0||!window.confirm(`You are about to process ${g.length} image files from:
${A}

SVG files will be saved to:
${S}

Do you want to continue?`)||(a({total:g.length,completed:0,failed:0,inProgress:0}),u(U=>U.map(H=>({...H,status:"pending",error:void 0}))),d(!0),r(0))};ct.useEffect(()=>{if(!y||n<0||n>=g.length||!window.electronAPI)return;const T=async()=>{const H=g[n];if(H.status!=="pending"){n<g.length-1?r(D=>D+1):(d(!1),r(-1));return}console.log(`Processing file ${n+1}/${g.length}: ${H.fileName}`),u(D=>D.map((P,B)=>B===n?{...P,status:"processing"}:P)),a(D=>({...D,inProgress:1}));try{const D=await x(H.filePath),P=await ge(D,Pe),B=H.fileName.split(".").slice(0,-1).join(".")||H.fileName;if(!window.electronAPI)throw new Error("Electron API is not available");const X=M(S,`${B}.svg`),V=await window.electronAPI.saveSvg({svgData:P,outputPath:X});if("success"in V&&V.success)u(q=>q.map((ee,Z)=>Z===n?{...ee,status:"completed"}:ee)),a(q=>({...q,completed:q.completed+1,inProgress:0}));else throw new Error("error"in V?V.error:"Failed to save SVG")}catch(D){console.error(`Error processing ${H.fileName}:`,D),u(P=>P.map((B,X)=>X===n?{...B,status:"failed",error:D instanceof Error?D.message:"Unknown error"}:B)),a(P=>({...P,failed:P.failed+1,inProgress:0}))}n<g.length-1?r(D=>D+1):(d(!1),r(-1))},U=setTimeout(()=>{T()},100);return()=>clearTimeout(U)},[y,n,S,Pe,ge]);const x=async T=>{if(!window.electronAPI)throw new Error("Electron API is not available");try{let U=await window.electronAPI.readImageFile(T);if(typeof U!="string")throw new Error(U.error||"Failed to read image file");if(i.enabled&&window.electronAPI&&window.electronAPI.resizeImage){console.log(`Resizing image to ${i.width}x${i.height}`);try{const H=await window.electronAPI.resizeImage({imageData:U,width:i.width,height:i.height});if(typeof H!="string")throw new Error(H.error||"Failed to resize image");U=H}catch(H){console.error("Error resizing image:",H)}}return U}catch(U){throw console.error(`Error reading file ${T}:`,U),U}},M=(T,U)=>{const H=T.replace(/[/\\]$/,""),D=U.replace(/^[/\\]/,"");return`${H}/${D}`},O=()=>{const T=s.total>0?Math.round((s.completed+s.failed)/s.total*100):0;return me.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-4",children:me.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${T}%`}})})},j=()=>me.jsxs("div",{className:"border rounded-lg p-4 mb-4 bg-gray-50",children:[me.jsxs("div",{className:"flex items-center justify-between mb-3",children:[me.jsx("h3",{className:"font-medium text-gray-800",children:"Image Resize Options"}),me.jsx("button",{onClick:()=>v(!1),className:"p-1 rounded-full hover:bg-gray-200 transition-colors",children:me.jsx(Pa,{className:"w-4 h-4"})})]}),me.jsxs("div",{className:"space-y-3",children:[me.jsxs("div",{className:"flex items-center",children:[me.jsx("input",{type:"checkbox",id:"resize-enabled",checked:i.enabled,onChange:T=>p(U=>({...U,enabled:T.target.checked})),className:"mr-2"}),me.jsx("label",{htmlFor:"resize-enabled",className:"text-sm",children:"Enable image resizing"})]}),me.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[me.jsxs("div",{children:[me.jsx("label",{htmlFor:"resize-width",className:"block text-sm mb-1",children:"Width (px)"}),me.jsx("input",{type:"number",id:"resize-width",value:i.width,onChange:T=>p(U=>({...U,width:Math.max(1,parseInt(T.target.value)||1)})),disabled:!i.enabled,className:"w-full px-3 py-2 border rounded text-sm"})]}),me.jsxs("div",{children:[me.jsx("label",{htmlFor:"resize-height",className:"block text-sm mb-1",children:"Height (px)"}),me.jsx("input",{type:"number",id:"resize-height",value:i.height,onChange:T=>p(U=>({...U,height:Math.max(1,parseInt(T.target.value)||1)})),disabled:!i.enabled,className:"w-full px-3 py-2 border rounded text-sm"})]})]}),me.jsxs("div",{className:"flex items-center",children:[me.jsx("input",{type:"checkbox",id:"maintain-aspect",checked:i.maintainAspectRatio,onChange:T=>p(U=>({...U,maintainAspectRatio:T.target.checked})),disabled:!i.enabled,className:"mr-2"}),me.jsx("label",{htmlFor:"maintain-aspect",className:"text-sm",children:"Maintain aspect ratio"})]})]})]});return me.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:me.jsxs("div",{className:"bg-white rounded-lg w-full max-w-3xl max-h-[80vh] overflow-y-auto p-4 sm:p-6 shadow-xl",children:[me.jsxs("div",{className:"flex justify-between items-center mb-6",children:[me.jsx("h2",{className:"text-xl font-bold",children:"Batch Conversion"}),me.jsx("button",{onClick:ke,disabled:y,className:"p-1 rounded-full hover:bg-gray-200 transition-colors",children:me.jsx(Pa,{className:"w-5 h-5"})})]}),o&&me.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md",children:me.jsxs("div",{className:"flex items-start",children:[me.jsx(vf,{className:"w-5 h-5 mr-2 mt-0.5 flex-shrink-0"}),me.jsxs("div",{children:[me.jsx("p",{className:"font-medium mb-1",children:"Electron Environment Required"}),me.jsx("p",{className:"mb-2",children:o}),!f&&me.jsx("div",{className:"mt-2 p-2 bg-gray-100 rounded text-gray-800 font-mono text-sm",children:"npm run electron:dev"})]})]})}),me.jsxs("div",{className:"space-y-6",children:[me.jsx("div",{className:"flex justify-end",children:me.jsxs("button",{onClick:()=>v(!m),className:"btn btn-secondary flex items-center gap-2",disabled:y,children:[me.jsx(zf,{className:"w-4 h-4"}),me.jsx("span",{children:"Image Resize Options"})]})}),m&&me.jsx(j,{}),me.jsxs("div",{className:"space-y-4",children:[me.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[me.jsxs("button",{onClick:_,disabled:y,className:"btn btn-primary flex items-center gap-2",children:[me.jsx(Yc,{className:"w-4 h-4"}),me.jsx("span",{children:"Select Input Directory"})]}),A&&me.jsxs("div",{className:"text-sm truncate max-w-xs",children:[me.jsx("span",{className:"font-medium",children:"Selected:"})," ",A]})]}),me.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[me.jsxs("button",{onClick:b,disabled:y,className:"btn btn-primary flex items-center gap-2",children:[me.jsx(Xc,{className:"w-4 h-4"}),me.jsx("span",{children:"Select Output Directory"})]}),S&&me.jsxs("div",{className:"text-sm truncate max-w-xs",children:[me.jsx("span",{className:"font-medium",children:"Selected:"})," ",S]})]})]}),g.length>0&&me.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[me.jsxs("div",{className:"p-3 bg-gray-50 border-b",children:[me.jsxs("div",{className:"font-medium",children:["Files to process: ",s.total]}),O(),me.jsxs("div",{className:"flex justify-between text-sm",children:[me.jsxs("div",{children:["Completed: ",me.jsx("span",{className:"text-green-600",children:s.completed})]}),me.jsxs("div",{children:["Failed: ",me.jsx("span",{className:"text-red-600",children:s.failed})]}),me.jsxs("div",{children:["Remaining: ",me.jsx("span",{className:"text-blue-600",children:Math.max(0,s.total-s.completed-s.failed)})]})]})]}),me.jsx("div",{className:"max-h-60 overflow-y-auto",children:g.map((T,U)=>me.jsxs("div",{className:`flex justify-between items-center p-2 text-sm ${U%2===0?"bg-white":"bg-gray-50"} ${U===n?"bg-blue-50":""}`,children:[me.jsx("div",{className:"truncate max-w-xs",children:T.fileName}),me.jsxs("div",{className:"flex items-center",children:[T.status==="pending"&&me.jsx("span",{className:"text-gray-500",children:"Pending"}),T.status==="processing"&&me.jsxs("span",{className:"flex items-center text-blue-600",children:[me.jsx(yf,{className:"w-4 h-4 mr-1 animate-spin"}),"Processing"]}),T.status==="completed"&&me.jsxs("span",{className:"flex items-center text-green-600",children:[me.jsx(Wc,{className:"w-4 h-4 mr-1"}),"Completed"]}),T.status==="failed"&&me.jsxs("span",{className:"flex items-center text-red-600",children:[me.jsx(vf,{className:"w-4 h-4 mr-1"}),"Failed"]})]})]},`${T.filePath}-${U}`))})]}),me.jsx("div",{className:"flex justify-end",children:me.jsx("button",{onClick:E,disabled:!A||!S||g.length===0||y,className:`btn ${y?"btn-disabled":"btn-primary"} flex items-center gap-2`,children:y?me.jsxs(me.Fragment,{children:[me.jsx(yf,{className:"w-4 h-4 animate-spin"}),me.jsx("span",{children:"Processing..."})]}):me.jsxs(me.Fragment,{children:[me.jsx(Kc,{className:"w-4 h-4"}),me.jsx("span",{children:"Start Batch Processing"})]})})})]})]})})};function Ma(Pe){throw new Error('Could not dynamically require "'+Pe+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ws={exports:{}},wf;function jf(){return wf||(wf=1,function(Pe,ke){if((typeof ge>"u"||!ge)&&typeof self<"u")var ge=self;(function(A){Pe.exports=A()})(function(){return function(){function A(W,S,k){function y(u,s){if(!S[u]){if(!W[u]){var a=typeof Ma=="function"&&Ma;if(!s&&a)return a(u,!0);if(d)return d(u,!0);var n=new Error("Cannot find module '"+u+"'");throw n.code="MODULE_NOT_FOUND",n}var r=S[u]={exports:{}};W[u][0].call(r.exports,function(f){var c=W[u][1][f];return y(c||f)},r,r.exports,A,W,S,k)}return S[u].exports}for(var d=typeof Ma=="function"&&Ma,g=0;g<k.length;g++)y(k[g]);return y}return A}()({1:[function(A,W,S){function k(y){if(Array.isArray(y))return y}W.exports=k},{}],2:[function(A,W,S){function k(y){if(Array.isArray(y)){for(var d=0,g=new Array(y.length);d<y.length;d++)g[d]=y[d];return g}}W.exports=k},{}],3:[function(A,W,S){function k(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}W.exports=k},{}],4:[function(A,W,S){function k(y,d){if(!(y instanceof d))throw new TypeError("Cannot call a class as a function")}W.exports=k},{}],5:[function(A,W,S){var k=A("./setPrototypeOf");function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function d(g,u,s){return y()?W.exports=d=Reflect.construct:W.exports=d=function(n,r,f){var c=[null];c.push.apply(c,r);var o=Function.bind.apply(n,c),l=new o;return f&&k(l,f.prototype),l},d.apply(null,arguments)}W.exports=d},{"./setPrototypeOf":18}],6:[function(A,W,S){function k(d,g){for(var u=0;u<g.length;u++){var s=g[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(d,s.key,s)}}function y(d,g,u){return g&&k(d.prototype,g),u&&k(d,u),d}W.exports=y},{}],7:[function(A,W,S){function k(y,d,g){return d in y?Object.defineProperty(y,d,{value:g,enumerable:!0,configurable:!0,writable:!0}):y[d]=g,y}W.exports=k},{}],8:[function(A,W,S){function k(){return W.exports=k=Object.assign||function(y){for(var d=1;d<arguments.length;d++){var g=arguments[d];for(var u in g)Object.prototype.hasOwnProperty.call(g,u)&&(y[u]=g[u])}return y},k.apply(this,arguments)}W.exports=k},{}],9:[function(A,W,S){function k(y){return W.exports=k=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},k(y)}W.exports=k},{}],10:[function(A,W,S){var k=A("./setPrototypeOf");function y(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),g&&k(d,g)}W.exports=y},{"./setPrototypeOf":18}],11:[function(A,W,S){function k(y){return y&&y.__esModule?y:{default:y}}W.exports=k},{}],12:[function(A,W,S){var k=A("../helpers/typeof");function y(){if(typeof WeakMap!="function")return null;var g=new WeakMap;return y=function(){return g},g}function d(g){if(g&&g.__esModule)return g;if(g===null||k(g)!=="object"&&typeof g!="function")return{default:g};var u=y();if(u&&u.has(g))return u.get(g);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in g)if(Object.prototype.hasOwnProperty.call(g,n)){var r=a?Object.getOwnPropertyDescriptor(g,n):null;r&&(r.get||r.set)?Object.defineProperty(s,n,r):s[n]=g[n]}return s.default=g,u&&u.set(g,s),s}W.exports=d},{"../helpers/typeof":21}],13:[function(A,W,S){function k(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}W.exports=k},{}],14:[function(A,W,S){function k(y,d){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]"){var g=[],u=!0,s=!1,a=void 0;try{for(var n=y[Symbol.iterator](),r;!(u=(r=n.next()).done)&&(g.push(r.value),!(d&&g.length===d));u=!0);}catch(f){s=!0,a=f}finally{try{!u&&n.return!=null&&n.return()}finally{if(s)throw a}}return g}}W.exports=k},{}],15:[function(A,W,S){function k(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}W.exports=k},{}],16:[function(A,W,S){function k(){throw new TypeError("Invalid attempt to spread non-iterable instance")}W.exports=k},{}],17:[function(A,W,S){var k=A("../helpers/typeof"),y=A("./assertThisInitialized");function d(g,u){return u&&(k(u)==="object"||typeof u=="function")?u:y(g)}W.exports=d},{"../helpers/typeof":21,"./assertThisInitialized":3}],18:[function(A,W,S){function k(y,d){return W.exports=k=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},k(y,d)}W.exports=k},{}],19:[function(A,W,S){var k=A("./arrayWithHoles"),y=A("./iterableToArrayLimit"),d=A("./nonIterableRest");function g(u,s){return k(u)||y(u,s)||d()}W.exports=g},{"./arrayWithHoles":1,"./iterableToArrayLimit":14,"./nonIterableRest":15}],20:[function(A,W,S){var k=A("./arrayWithoutHoles"),y=A("./iterableToArray"),d=A("./nonIterableSpread");function g(u){return k(u)||y(u)||d()}W.exports=g},{"./arrayWithoutHoles":2,"./iterableToArray":13,"./nonIterableSpread":16}],21:[function(A,W,S){function k(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?k=function(u){return typeof u}:k=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},k(d)}function y(d){return typeof Symbol=="function"&&k(Symbol.iterator)==="symbol"?W.exports=y=function(u){return k(u)}:W.exports=y=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":k(u)},y(d)}W.exports=y},{}],22:[function(A,W,S){W.exports=A("regenerator-runtime")},{"regenerator-runtime":153}],23:[function(A,W,S){var k=A("./src/converter");function y(d,g){var u=new k(d,g);return function(s){return u.convert(s)}}y.BIN="01",y.OCT="01234567",y.DEC="0123456789",y.HEX="0123456789abcdef",W.exports=y},{"./src/converter":24}],24:[function(A,W,S){function k(y,d){if(!y||!d||!y.length||!d.length)throw new Error("Bad alphabet");this.srcAlphabet=y,this.dstAlphabet=d}k.prototype.convert=function(y){var d,g,u,s={},a=this.srcAlphabet.length,n=this.dstAlphabet.length,r=y.length,f=typeof y=="string"?"":[];if(!this.isValid(y))throw new Error('Number "'+y+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return y;for(d=0;d<r;d++)s[d]=this.srcAlphabet.indexOf(y[d]);do{for(g=0,u=0,d=0;d<r;d++)g=g*a+s[d],g>=n?(s[u++]=parseInt(g/n,10),g=g%n):u>0&&(s[u++]=0);r=u,f=this.dstAlphabet.slice(g,g+1).concat(f)}while(u!==0);return f},k.prototype.isValid=function(y){for(var d=0;d<y.length;++d)if(this.srcAlphabet.indexOf(y[d])===-1)return!1;return!0},W.exports=k},{}],25:[function(A,W,S){(function(k){var y=A("object-assign");/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function d(D,P){if(D===P)return 0;for(var B=D.length,X=P.length,V=0,q=Math.min(B,X);V<q;++V)if(D[V]!==P[V]){B=D[V],X=P[V];break}return B<X?-1:X<B?1:0}function g(D){return k.Buffer&&typeof k.Buffer.isBuffer=="function"?k.Buffer.isBuffer(D):!!(D!=null&&D._isBuffer)}var u=A("util/"),s=Object.prototype.hasOwnProperty,a=Array.prototype.slice,n=function(){return(function(){}).name==="foo"}();function r(D){return Object.prototype.toString.call(D)}function f(D){return g(D)||typeof k.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(D):D?!!(D instanceof DataView||D.buffer&&D.buffer instanceof ArrayBuffer):!1}var c=W.exports=_,o=/\s*function\s+([^\(\s]*)\s*/;function l(D){if(u.isFunction(D)){if(n)return D.name;var P=D.toString(),B=P.match(o);return B&&B[1]}}c.AssertionError=function(P){this.name="AssertionError",this.actual=P.actual,this.expected=P.expected,this.operator=P.operator,P.message?(this.message=P.message,this.generatedMessage=!1):(this.message=m(this),this.generatedMessage=!0);var B=P.stackStartFunction||v;if(Error.captureStackTrace)Error.captureStackTrace(this,B);else{var X=new Error;if(X.stack){var V=X.stack,q=l(B),ee=V.indexOf(`
`+q);if(ee>=0){var Z=V.indexOf(`
`,ee+1);V=V.substring(Z+1)}this.stack=V}}},u.inherits(c.AssertionError,Error);function i(D,P){return typeof D=="string"?D.length<P?D:D.slice(0,P):D}function p(D){if(n||!u.isFunction(D))return u.inspect(D);var P=l(D),B=P?": "+P:"";return"[Function"+B+"]"}function m(D){return i(p(D.actual),128)+" "+D.operator+" "+i(p(D.expected),128)}function v(D,P,B,X,V){throw new c.AssertionError({message:B,actual:D,expected:P,operator:X,stackStartFunction:V})}c.fail=v;function _(D,P){D||v(D,!0,P,"==",c.ok)}c.ok=_,c.equal=function(P,B,X){P!=B&&v(P,B,X,"==",c.equal)},c.notEqual=function(P,B,X){P==B&&v(P,B,X,"!=",c.notEqual)},c.deepEqual=function(P,B,X){b(P,B,!1)||v(P,B,X,"deepEqual",c.deepEqual)},c.deepStrictEqual=function(P,B,X){b(P,B,!0)||v(P,B,X,"deepStrictEqual",c.deepStrictEqual)};function b(D,P,B,X){if(D===P)return!0;if(g(D)&&g(P))return d(D,P)===0;if(u.isDate(D)&&u.isDate(P))return D.getTime()===P.getTime();if(u.isRegExp(D)&&u.isRegExp(P))return D.source===P.source&&D.global===P.global&&D.multiline===P.multiline&&D.lastIndex===P.lastIndex&&D.ignoreCase===P.ignoreCase;if((D===null||typeof D!="object")&&(P===null||typeof P!="object"))return B?D===P:D==P;if(f(D)&&f(P)&&r(D)===r(P)&&!(D instanceof Float32Array||D instanceof Float64Array))return d(new Uint8Array(D.buffer),new Uint8Array(P.buffer))===0;if(g(D)!==g(P))return!1;X=X||{actual:[],expected:[]};var V=X.actual.indexOf(D);return V!==-1&&V===X.expected.indexOf(P)?!0:(X.actual.push(D),X.expected.push(P),x(D,P,B,X))}function E(D){return Object.prototype.toString.call(D)=="[object Arguments]"}function x(D,P,B,X){if(D==null||P===null||P===void 0)return!1;if(u.isPrimitive(D)||u.isPrimitive(P))return D===P;if(B&&Object.getPrototypeOf(D)!==Object.getPrototypeOf(P))return!1;var V=E(D),q=E(P);if(V&&!q||!V&&q)return!1;if(V)return D=a.call(D),P=a.call(P),b(D,P,B);var ee=H(D),Z=H(P),J,K;if(ee.length!==Z.length)return!1;for(ee.sort(),Z.sort(),K=ee.length-1;K>=0;K--)if(ee[K]!==Z[K])return!1;for(K=ee.length-1;K>=0;K--)if(J=ee[K],!b(D[J],P[J],B,X))return!1;return!0}c.notDeepEqual=function(P,B,X){b(P,B,!1)&&v(P,B,X,"notDeepEqual",c.notDeepEqual)},c.notDeepStrictEqual=M;function M(D,P,B){b(D,P,!0)&&v(D,P,B,"notDeepStrictEqual",M)}c.strictEqual=function(P,B,X){P!==B&&v(P,B,X,"===",c.strictEqual)},c.notStrictEqual=function(P,B,X){P===B&&v(P,B,X,"!==",c.notStrictEqual)};function O(D,P){if(!D||!P)return!1;if(Object.prototype.toString.call(P)=="[object RegExp]")return P.test(D);try{if(D instanceof P)return!0}catch{}return Error.isPrototypeOf(P)?!1:P.call({},D)===!0}function j(D){var P;try{D()}catch(B){P=B}return P}function T(D,P,B,X){var V;if(typeof P!="function")throw new TypeError('"block" argument must be a function');typeof B=="string"&&(X=B,B=null),V=j(P),X=(B&&B.name?" ("+B.name+").":".")+(X?" "+X:"."),D&&!V&&v(V,B,"Missing expected exception"+X);var q=typeof X=="string",ee=!D&&u.isError(V),Z=!D&&V&&!B;if((ee&&q&&O(V,B)||Z)&&v(V,B,"Got unwanted exception"+X),D&&V&&B&&!O(V,B)||!D&&V)throw V}c.throws=function(D,P,B){T(!0,D,P,B)},c.doesNotThrow=function(D,P,B){T(!1,D,P,B)},c.ifError=function(D){if(D)throw D};function U(D,P){D||v(D,!0,P,"==",U)}c.strict=y(U,c,{equal:c.strictEqual,deepEqual:c.deepStrictEqual,notEqual:c.notStrictEqual,notDeepEqual:c.notDeepStrictEqual}),c.strict.strict=c.strict;var H=Object.keys||function(D){var P=[];for(var B in D)s.call(D,B)&&P.push(B);return P}}).call(this,typeof wt<"u"?wt:typeof self<"u"?self:typeof ge<"u"?ge:{})},{"object-assign":84,"util/":28}],26:[function(A,W,S){typeof Object.create=="function"?W.exports=function(y,d){y.super_=d,y.prototype=Object.create(d.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}})}:W.exports=function(y,d){y.super_=d;var g=function(){};g.prototype=d.prototype,y.prototype=new g,y.prototype.constructor=y}},{}],27:[function(A,W,S){W.exports=function(y){return y&&typeof y=="object"&&typeof y.copy=="function"&&typeof y.fill=="function"&&typeof y.readUInt8=="function"}},{}],28:[function(A,W,S){(function(k,y){var d=/%[sdj%]/g;S.format=function(Z){if(!x(Z)){for(var J=[],K=0;K<arguments.length;K++)J.push(s(arguments[K]));return J.join(" ")}for(var K=1,re=arguments,ue=re.length,ce=String(Z).replace(d,function(_e){if(_e==="%%")return"%";if(K>=ue)return _e;switch(_e){case"%s":return String(re[K++]);case"%d":return Number(re[K++]);case"%j":try{return JSON.stringify(re[K++])}catch{return"[Circular]"}default:return _e}}),ve=re[K];K<ue;ve=re[++K])_(ve)||!T(ve)?ce+=" "+ve:ce+=" "+s(ve);return ce},S.deprecate=function(Z,J){if(O(y.process))return function(){return S.deprecate(Z,J).apply(this,arguments)};if(k.noDeprecation===!0)return Z;var K=!1;function re(){if(!K){if(k.throwDeprecation)throw new Error(J);k.traceDeprecation?console.trace(J):console.error(J),K=!0}return Z.apply(this,arguments)}return re};var g={},u;S.debuglog=function(Z){if(O(u)&&(u=k.env.NODE_DEBUG||""),Z=Z.toUpperCase(),!g[Z])if(new RegExp("\\b"+Z+"\\b","i").test(u)){var J=k.pid;g[Z]=function(){var K=S.format.apply(S,arguments);console.error("%s %d: %s",Z,J,K)}}else g[Z]=function(){};return g[Z]};function s(Z,J){var K={seen:[],stylize:n};return arguments.length>=3&&(K.depth=arguments[2]),arguments.length>=4&&(K.colors=arguments[3]),v(J)?K.showHidden=J:J&&S._extend(K,J),O(K.showHidden)&&(K.showHidden=!1),O(K.depth)&&(K.depth=2),O(K.colors)&&(K.colors=!1),O(K.customInspect)&&(K.customInspect=!0),K.colors&&(K.stylize=a),f(K,Z,K.depth)}S.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(Z,J){var K=s.styles[J];return K?"\x1B["+s.colors[K][0]+"m"+Z+"\x1B["+s.colors[K][1]+"m":Z}function n(Z,J){return Z}function r(Z){var J={};return Z.forEach(function(K,re){J[K]=!0}),J}function f(Z,J,K){if(Z.customInspect&&J&&D(J.inspect)&&J.inspect!==S.inspect&&!(J.constructor&&J.constructor.prototype===J)){var re=J.inspect(K,Z);return x(re)||(re=f(Z,re,K)),re}var ue=c(Z,J);if(ue)return ue;var ce=Object.keys(J),ve=r(ce);if(Z.showHidden&&(ce=Object.getOwnPropertyNames(J)),H(J)&&(ce.indexOf("message")>=0||ce.indexOf("description")>=0))return o(J);if(ce.length===0){if(D(J)){var _e=J.name?": "+J.name:"";return Z.stylize("[Function"+_e+"]","special")}if(j(J))return Z.stylize(RegExp.prototype.toString.call(J),"regexp");if(U(J))return Z.stylize(Date.prototype.toString.call(J),"date");if(H(J))return o(J)}var Re="",he=!1,fe=["{","}"];if(m(J)&&(he=!0,fe=["[","]"]),D(J)){var ne=J.name?": "+J.name:"";Re=" [Function"+ne+"]"}if(j(J)&&(Re=" "+RegExp.prototype.toString.call(J)),U(J)&&(Re=" "+Date.prototype.toUTCString.call(J)),H(J)&&(Re=" "+o(J)),ce.length===0&&(!he||J.length==0))return fe[0]+Re+fe[1];if(K<0)return j(J)?Z.stylize(RegExp.prototype.toString.call(J),"regexp"):Z.stylize("[Object]","special");Z.seen.push(J);var se;return he?se=l(Z,J,K,ve,ce):se=ce.map(function(oe){return i(Z,J,K,ve,oe,he)}),Z.seen.pop(),p(se,Re,fe)}function c(Z,J){if(O(J))return Z.stylize("undefined","undefined");if(x(J)){var K="'"+JSON.stringify(J).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Z.stylize(K,"string")}if(E(J))return Z.stylize(""+J,"number");if(v(J))return Z.stylize(""+J,"boolean");if(_(J))return Z.stylize("null","null")}function o(Z){return"["+Error.prototype.toString.call(Z)+"]"}function l(Z,J,K,re,ue){for(var ce=[],ve=0,_e=J.length;ve<_e;++ve)ee(J,String(ve))?ce.push(i(Z,J,K,re,String(ve),!0)):ce.push("");return ue.forEach(function(Re){Re.match(/^\d+$/)||ce.push(i(Z,J,K,re,Re,!0))}),ce}function i(Z,J,K,re,ue,ce){var ve,_e,Re;if(Re=Object.getOwnPropertyDescriptor(J,ue)||{value:J[ue]},Re.get?Re.set?_e=Z.stylize("[Getter/Setter]","special"):_e=Z.stylize("[Getter]","special"):Re.set&&(_e=Z.stylize("[Setter]","special")),ee(re,ue)||(ve="["+ue+"]"),_e||(Z.seen.indexOf(Re.value)<0?(_(K)?_e=f(Z,Re.value,null):_e=f(Z,Re.value,K-1),_e.indexOf(`
`)>-1&&(ce?_e=_e.split(`
`).map(function(he){return"  "+he}).join(`
`).substr(2):_e=`
`+_e.split(`
`).map(function(he){return"   "+he}).join(`
`))):_e=Z.stylize("[Circular]","special")),O(ve)){if(ce&&ue.match(/^\d+$/))return _e;ve=JSON.stringify(""+ue),ve.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ve=ve.substr(1,ve.length-2),ve=Z.stylize(ve,"name")):(ve=ve.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ve=Z.stylize(ve,"string"))}return ve+": "+_e}function p(Z,J,K){var re=Z.reduce(function(ue,ce){return ce.indexOf(`
`)>=0,ue+ce.replace(/\u001b\[\d\d?m/g,"").length+1},0);return re>60?K[0]+(J===""?"":J+`
 `)+" "+Z.join(`,
  `)+" "+K[1]:K[0]+J+" "+Z.join(", ")+" "+K[1]}function m(Z){return Array.isArray(Z)}S.isArray=m;function v(Z){return typeof Z=="boolean"}S.isBoolean=v;function _(Z){return Z===null}S.isNull=_;function b(Z){return Z==null}S.isNullOrUndefined=b;function E(Z){return typeof Z=="number"}S.isNumber=E;function x(Z){return typeof Z=="string"}S.isString=x;function M(Z){return typeof Z=="symbol"}S.isSymbol=M;function O(Z){return Z===void 0}S.isUndefined=O;function j(Z){return T(Z)&&B(Z)==="[object RegExp]"}S.isRegExp=j;function T(Z){return typeof Z=="object"&&Z!==null}S.isObject=T;function U(Z){return T(Z)&&B(Z)==="[object Date]"}S.isDate=U;function H(Z){return T(Z)&&(B(Z)==="[object Error]"||Z instanceof Error)}S.isError=H;function D(Z){return typeof Z=="function"}S.isFunction=D;function P(Z){return Z===null||typeof Z=="boolean"||typeof Z=="number"||typeof Z=="string"||typeof Z=="symbol"||typeof Z>"u"}S.isPrimitive=P,S.isBuffer=A("./support/isBuffer");function B(Z){return Object.prototype.toString.call(Z)}function X(Z){return Z<10?"0"+Z.toString(10):Z.toString(10)}var V=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function q(){var Z=new Date,J=[X(Z.getHours()),X(Z.getMinutes()),X(Z.getSeconds())].join(":");return[Z.getDate(),V[Z.getMonth()],J].join(" ")}S.log=function(){console.log("%s - %s",q(),S.format.apply(S,arguments))},S.inherits=A("inherits"),S._extend=function(Z,J){if(!J||!T(J))return Z;for(var K=Object.keys(J),re=K.length;re--;)Z[K[re]]=J[K[re]];return Z};function ee(Z,J){return Object.prototype.hasOwnProperty.call(Z,J)}}).call(this,A("_process"),typeof wt<"u"?wt:typeof self<"u"?self:typeof ge<"u"?ge:{})},{"./support/isBuffer":27,_process:133,inherits:26}],29:[function(A,W,S){S.byteLength=n,S.toByteArray=f,S.fromByteArray=l;for(var k=[],y=[],d=typeof Uint8Array<"u"?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,s=g.length;u<s;++u)k[u]=g[u],y[g.charCodeAt(u)]=u;y[45]=62,y[95]=63;function a(i){var p=i.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=i.indexOf("=");m===-1&&(m=p);var v=m===p?0:4-m%4;return[m,v]}function n(i){var p=a(i),m=p[0],v=p[1];return(m+v)*3/4-v}function r(i,p,m){return(p+m)*3/4-m}function f(i){var p,m=a(i),v=m[0],_=m[1],b=new d(r(i,v,_)),E=0,x=_>0?v-4:v,M;for(M=0;M<x;M+=4)p=y[i.charCodeAt(M)]<<18|y[i.charCodeAt(M+1)]<<12|y[i.charCodeAt(M+2)]<<6|y[i.charCodeAt(M+3)],b[E++]=p>>16&255,b[E++]=p>>8&255,b[E++]=p&255;return _===2&&(p=y[i.charCodeAt(M)]<<2|y[i.charCodeAt(M+1)]>>4,b[E++]=p&255),_===1&&(p=y[i.charCodeAt(M)]<<10|y[i.charCodeAt(M+1)]<<4|y[i.charCodeAt(M+2)]>>2,b[E++]=p>>8&255,b[E++]=p&255),b}function c(i){return k[i>>18&63]+k[i>>12&63]+k[i>>6&63]+k[i&63]}function o(i,p,m){for(var v,_=[],b=p;b<m;b+=3)v=(i[b]<<16&16711680)+(i[b+1]<<8&65280)+(i[b+2]&255),_.push(c(v));return _.join("")}function l(i){for(var p,m=i.length,v=m%3,_=[],b=16383,E=0,x=m-v;E<x;E+=b)_.push(o(i,E,E+b>x?x:E+b));return v===1?(p=i[m-1],_.push(k[p>>2]+k[p<<4&63]+"==")):v===2&&(p=(i[m-2]<<8)+i[m-1],_.push(k[p>>10]+k[p>>4&63]+k[p<<2&63]+"=")),_.join("")}},{}],30:[function(A,W,S){var k=A("./lib/encoder"),y=A("./lib/decoder");W.exports={encode:k,decode:y}},{"./lib/decoder":31,"./lib/encoder":32}],31:[function(A,W,S){(function(k){function y(d,g){if(this.pos=0,this.buffer=d,this.is_with_alpha=!!g,this.bottom_up=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),this.flag!="BM")throw new Error("Invalid BMP File");this.parseHeader(),this.parseRGBA()}y.prototype.parseHeader=function(){if(this.fileSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.reserved=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.offset=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.headerSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.width=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.height=this.buffer.readInt32LE(this.pos),this.pos+=4,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compress=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.rawSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.hr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.vr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.colors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.importantColors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var d=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(d);for(var g=0;g<d;g++){var u=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++);this.palette[g]={red:a,green:s,blue:u,quad:n}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},y.prototype.parseRGBA=function(){var d="bit"+this.bitPP,g=this.width*this.height*4;this.data=new k(g),this[d]()},y.prototype.bit1=function(){for(var d=Math.ceil(this.width/8),g=d%4,u=this.height>=0?this.height-1:-this.height,u=this.height-1;u>=0;u--){for(var s=this.bottom_up?u:this.height-1-u,a=0;a<d;a++)for(var n=this.buffer.readUInt8(this.pos++),r=s*this.width*4+a*8*4,f=0;f<8&&a*8+f<this.width;f++){var c=this.palette[n>>7-f&1];this.data[r+f*4]=0,this.data[r+f*4+1]=c.blue,this.data[r+f*4+2]=c.green,this.data[r+f*4+3]=c.red}g!=0&&(this.pos+=4-g)}},y.prototype.bit4=function(){if(this.compress==2){let _=function(b){var E=this.palette[b];this.data[d]=0,this.data[d+1]=E.blue,this.data[d+2]=E.green,this.data[d+3]=E.red,d+=4};this.data.fill(255);for(var d=0,g=this.bottom_up?this.height-1:0,u=!1;d<this.data.length;){var s=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);if(s==0)if(a==0){this.bottom_up?g--:g++,d=g*this.width*4,u=!1;continue}else{if(a==1)break;if(a==2){var n=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++);this.bottom_up?g-=r:g+=r,d+=r*this.width*4+n*4}else{for(var f=this.buffer.readUInt8(this.pos++),c=0;c<a;c++)u?_.call(this,f&15):_.call(this,(f&240)>>4),c&1&&c+1<a&&(f=this.buffer.readUInt8(this.pos++)),u=!u;(a+1>>1&1)==1&&this.pos++}}else for(var c=0;c<s;c++)u?_.call(this,a&15):_.call(this,(a&240)>>4),u=!u}}else for(var o=Math.ceil(this.width/2),l=o%4,r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,n=0;n<o;n++){var a=this.buffer.readUInt8(this.pos++),d=i*this.width*4+n*2*4,p=a>>4,m=a&15,v=this.palette[p];if(this.data[d]=0,this.data[d+1]=v.blue,this.data[d+2]=v.green,this.data[d+3]=v.red,n*2+1>=this.width)break;v=this.palette[m],this.data[d+4]=0,this.data[d+4+1]=v.blue,this.data[d+4+2]=v.green,this.data[d+4+3]=v.red}l!=0&&(this.pos+=4-l)}},y.prototype.bit8=function(){if(this.compress==1){let i=function(p){var m=this.palette[p];this.data[d]=0,this.data[d+1]=m.blue,this.data[d+2]=m.green,this.data[d+3]=m.red,d+=4};this.data.fill(255);for(var d=0,g=this.bottom_up?this.height-1:0;d<this.data.length;){var u=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++);if(u==0)if(s==0){this.bottom_up?g--:g++,d=g*this.width*4;continue}else{if(s==1)break;if(s==2){var a=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++);this.bottom_up?g-=n:g+=n,d+=n*this.width*4+a*4}else{for(var r=0;r<s;r++){var f=this.buffer.readUInt8(this.pos++);i.call(this,f)}s&!0&&this.pos++}}else for(var r=0;r<u;r++)i.call(this,s)}}else for(var c=this.width%4,n=this.height-1;n>=0;n--){for(var o=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.buffer.readUInt8(this.pos++),d=o*this.width*4+a*4;if(s<this.palette.length){var l=this.palette[s];this.data[d]=0,this.data[d+1]=l.blue,this.data[d+2]=l.green,this.data[d+3]=l.red}else this.data[d]=0,this.data[d+1]=255,this.data[d+2]=255,this.data[d+3]=255}c!=0&&(this.pos+=4-c)}},y.prototype.bit15=function(){for(var d=this.width%3,g=parseInt("11111",2),u=g,s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,n=0;n<this.width;n++){var r=this.buffer.readUInt16LE(this.pos);this.pos+=2;var f=(r&u)/u*255|0,c=(r>>5&u)/u*255|0,o=(r>>10&u)/u*255|0,l=r>>15?255:0,i=a*this.width*4+n*4;this.data[i]=l,this.data[i+1]=f,this.data[i+2]=c,this.data[i+3]=o}this.pos+=d}},y.prototype.bit16=function(){var d=this.width%2*2;this.maskRed=31744,this.maskGreen=992,this.maskBlue=31,this.mask0=0,this.compress==3&&(this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4);for(var g=[0,0,0],u=0;u<16;u++)this.maskRed>>u&1&&g[0]++,this.maskGreen>>u&1&&g[1]++,this.maskBlue>>u&1&&g[2]++;g[1]+=g[0],g[2]+=g[1],g[0]=8-g[0],g[1]-=8,g[2]-=8;for(var s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,n=0;n<this.width;n++){var r=this.buffer.readUInt16LE(this.pos);this.pos+=2;var f=(r&this.maskBlue)<<g[0],c=(r&this.maskGreen)>>g[1],o=(r&this.maskRed)>>g[2],l=a*this.width*4+n*4;this.data[l]=0,this.data[l+1]=f,this.data[l+2]=c,this.data[l+3]=o}this.pos+=d}},y.prototype.bit24=function(){for(var d=this.height-1;d>=0;d--){for(var g=this.bottom_up?d:this.height-1-d,u=0;u<this.width;u++){var s=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++),r=g*this.width*4+u*4;this.data[r]=0,this.data[r+1]=s,this.data[r+2]=a,this.data[r+3]=n}this.pos+=this.width%4}},y.prototype.bit32=function(){if(this.compress==3){this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4;for(var d=this.height-1;d>=0;d--)for(var g=this.bottom_up?d:this.height-1-d,u=0;u<this.width;u++){var s=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),f=g*this.width*4+u*4;this.data[f]=s,this.data[f+1]=a,this.data[f+2]=n,this.data[f+3]=r}}else for(var d=this.height-1;d>=0;d--)for(var g=this.bottom_up?d:this.height-1-d,u=0;u<this.width;u++){var a=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++),f=g*this.width*4+u*4;this.data[f]=s,this.data[f+1]=a,this.data[f+2]=n,this.data[f+3]=r}},y.prototype.getData=function(){return this.data},W.exports=function(d){var g=new y(d);return g}}).call(this,A("buffer").Buffer)},{buffer:48}],32:[function(A,W,S){(function(k){function y(d){this.buffer=d.data,this.width=d.width,this.height=d.height,this.extraBytes=this.width%4,this.rgbSize=this.height*(3*this.width+this.extraBytes),this.headerInfoSize=40,this.data=[],this.flag="BM",this.reserved=0,this.offset=54,this.fileSize=this.rgbSize+this.offset,this.planes=1,this.bitPP=24,this.compress=0,this.hr=0,this.vr=0,this.colors=0,this.importantColors=0}y.prototype.encode=function(){var d=new k(this.offset+this.rgbSize);this.pos=0,d.write(this.flag,this.pos,2),this.pos+=2,d.writeUInt32LE(this.fileSize,this.pos),this.pos+=4,d.writeUInt32LE(this.reserved,this.pos),this.pos+=4,d.writeUInt32LE(this.offset,this.pos),this.pos+=4,d.writeUInt32LE(this.headerInfoSize,this.pos),this.pos+=4,d.writeUInt32LE(this.width,this.pos),this.pos+=4,d.writeInt32LE(-this.height,this.pos),this.pos+=4,d.writeUInt16LE(this.planes,this.pos),this.pos+=2,d.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,d.writeUInt32LE(this.compress,this.pos),this.pos+=4,d.writeUInt32LE(this.rgbSize,this.pos),this.pos+=4,d.writeUInt32LE(this.hr,this.pos),this.pos+=4,d.writeUInt32LE(this.vr,this.pos),this.pos+=4,d.writeUInt32LE(this.colors,this.pos),this.pos+=4,d.writeUInt32LE(this.importantColors,this.pos),this.pos+=4;for(var g=0,u=3*this.width+this.extraBytes,s=0;s<this.height;s++){for(var a=0;a<this.width;a++){var n=this.pos+s*u+a*3;g++,d[n]=this.buffer[g++],d[n+1]=this.buffer[g++],d[n+2]=this.buffer[g++]}if(this.extraBytes>0){var r=this.pos+s*u+this.width*3;d.fill(0,r,r+this.extraBytes)}}return d},W.exports=function(d,g){var u=new y(d),s=u.encode();return{data:s,width:d.width,height:d.height}}}).call(this,A("buffer").Buffer)},{buffer:48}],33:[function(A,W,S){},{}],34:[function(A,W,S){(function(k,y){var d=A("assert"),g=A("pako/lib/zlib/zstream"),u=A("pako/lib/zlib/deflate.js"),s=A("pako/lib/zlib/inflate.js"),a=A("pako/lib/zlib/constants");for(var n in a)S[n]=a[n];S.NONE=0,S.DEFLATE=1,S.INFLATE=2,S.GZIP=3,S.GUNZIP=4,S.DEFLATERAW=5,S.INFLATERAW=6,S.UNZIP=7;var r=31,f=139;function c(o){if(typeof o!="number"||o<S.DEFLATE||o>S.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=o,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}c.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,d(this.init_done,"close before init"),d(this.mode<=S.UNZIP),this.mode===S.DEFLATE||this.mode===S.GZIP||this.mode===S.DEFLATERAW?u.deflateEnd(this.strm):(this.mode===S.INFLATE||this.mode===S.GUNZIP||this.mode===S.INFLATERAW||this.mode===S.UNZIP)&&s.inflateEnd(this.strm),this.mode=S.NONE,this.dictionary=null},c.prototype.write=function(o,l,i,p,m,v,_){return this._write(!0,o,l,i,p,m,v,_)},c.prototype.writeSync=function(o,l,i,p,m,v,_){return this._write(!1,o,l,i,p,m,v,_)},c.prototype._write=function(o,l,i,p,m,v,_,b){if(d.equal(arguments.length,8),d(this.init_done,"write before init"),d(this.mode!==S.NONE,"already finalized"),d.equal(!1,this.write_in_progress,"write already in progress"),d.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,d.equal(!1,l===void 0,"must provide flush value"),this.write_in_progress=!0,l!==S.Z_NO_FLUSH&&l!==S.Z_PARTIAL_FLUSH&&l!==S.Z_SYNC_FLUSH&&l!==S.Z_FULL_FLUSH&&l!==S.Z_FINISH&&l!==S.Z_BLOCK)throw new Error("Invalid flush value");if(i==null&&(i=y.alloc(0),m=0,p=0),this.strm.avail_in=m,this.strm.input=i,this.strm.next_in=p,this.strm.avail_out=b,this.strm.output=v,this.strm.next_out=_,this.flush=l,!o)return this._process(),this._checkError()?this._afterSync():void 0;var E=this;return k.nextTick(function(){E._process(),E._after()}),this},c.prototype._afterSync=function(){var o=this.strm.avail_out,l=this.strm.avail_in;return this.write_in_progress=!1,[l,o]},c.prototype._process=function(){var o=null;switch(this.mode){case S.DEFLATE:case S.GZIP:case S.DEFLATERAW:this.err=u.deflate(this.strm,this.flush);break;case S.UNZIP:switch(this.strm.avail_in>0&&(o=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(o===null)break;if(this.strm.input[o]===r){if(this.gzip_id_bytes_read=1,o++,this.strm.avail_in===1)break}else{this.mode=S.INFLATE;break}case 1:if(o===null)break;this.strm.input[o]===f?(this.gzip_id_bytes_read=2,this.mode=S.GUNZIP):this.mode=S.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case S.INFLATE:case S.GUNZIP:case S.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===S.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===S.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===S.Z_DATA_ERROR&&(this.err=S.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===S.GUNZIP&&this.err===S.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},c.prototype._checkError=function(){switch(this.err){case S.Z_OK:case S.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===S.Z_FINISH)return this._error("unexpected end of file"),!1;break;case S.Z_STREAM_END:break;case S.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},c.prototype._after=function(){if(this._checkError()){var o=this.strm.avail_out,l=this.strm.avail_in;this.write_in_progress=!1,this.callback(l,o),this.pending_close&&this.close()}},c.prototype._error=function(o){this.strm.msg&&(o=this.strm.msg),this.onerror(o,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},c.prototype.init=function(o,l,i,p,m){d(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),d(o>=8&&o<=15,"invalid windowBits"),d(l>=-1&&l<=9,"invalid compression level"),d(i>=1&&i<=9,"invalid memlevel"),d(p===S.Z_FILTERED||p===S.Z_HUFFMAN_ONLY||p===S.Z_RLE||p===S.Z_FIXED||p===S.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(l,o,i,p,m),this._setDictionary()},c.prototype.params=function(){throw new Error("deflateParams Not supported")},c.prototype.reset=function(){this._reset(),this._setDictionary()},c.prototype._init=function(o,l,i,p,m){switch(this.level=o,this.windowBits=l,this.memLevel=i,this.strategy=p,this.flush=S.Z_NO_FLUSH,this.err=S.Z_OK,(this.mode===S.GZIP||this.mode===S.GUNZIP)&&(this.windowBits+=16),this.mode===S.UNZIP&&(this.windowBits+=32),(this.mode===S.DEFLATERAW||this.mode===S.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new g,this.mode){case S.DEFLATE:case S.GZIP:case S.DEFLATERAW:this.err=u.deflateInit2(this.strm,this.level,S.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case S.INFLATE:case S.GUNZIP:case S.INFLATERAW:case S.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==S.Z_OK&&this._error("Init error"),this.dictionary=m,this.write_in_progress=!1,this.init_done=!0},c.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=S.Z_OK,this.mode){case S.DEFLATE:case S.DEFLATERAW:this.err=u.deflateSetDictionary(this.strm,this.dictionary);break}this.err!==S.Z_OK&&this._error("Failed to set dictionary")}},c.prototype._reset=function(){switch(this.err=S.Z_OK,this.mode){case S.DEFLATE:case S.DEFLATERAW:case S.GZIP:this.err=u.deflateReset(this.strm);break;case S.INFLATE:case S.INFLATERAW:case S.GUNZIP:this.err=s.inflateReset(this.strm);break}this.err!==S.Z_OK&&this._error("Failed to reset stream")},S.Zlib=c}).call(this,A("_process"),A("buffer").Buffer)},{_process:133,assert:25,buffer:48,"pako/lib/zlib/constants":38,"pako/lib/zlib/deflate.js":40,"pako/lib/zlib/inflate.js":42,"pako/lib/zlib/zstream":46}],35:[function(A,W,S){(function(k){var y=A("buffer").Buffer,d=A("stream").Transform,g=A("./binding"),u=A("util"),s=A("assert").ok,a=A("buffer").kMaxLength,n="Cannot create final Buffer. It would be larger than 0x"+a.toString(16)+" bytes";g.Z_MIN_WINDOWBITS=8,g.Z_MAX_WINDOWBITS=15,g.Z_DEFAULT_WINDOWBITS=15,g.Z_MIN_CHUNK=64,g.Z_MAX_CHUNK=1/0,g.Z_DEFAULT_CHUNK=16*1024,g.Z_MIN_MEMLEVEL=1,g.Z_MAX_MEMLEVEL=9,g.Z_DEFAULT_MEMLEVEL=8,g.Z_MIN_LEVEL=-1,g.Z_MAX_LEVEL=9,g.Z_DEFAULT_LEVEL=g.Z_DEFAULT_COMPRESSION;for(var r=Object.keys(g),f=0;f<r.length;f++){var c=r[f];c.match(/^Z/)&&Object.defineProperty(S,c,{enumerable:!0,value:g[c],writable:!1})}for(var o={Z_OK:g.Z_OK,Z_STREAM_END:g.Z_STREAM_END,Z_NEED_DICT:g.Z_NEED_DICT,Z_ERRNO:g.Z_ERRNO,Z_STREAM_ERROR:g.Z_STREAM_ERROR,Z_DATA_ERROR:g.Z_DATA_ERROR,Z_MEM_ERROR:g.Z_MEM_ERROR,Z_BUF_ERROR:g.Z_BUF_ERROR,Z_VERSION_ERROR:g.Z_VERSION_ERROR},l=Object.keys(o),i=0;i<l.length;i++){var p=l[i];o[o[p]]=p}Object.defineProperty(S,"codes",{enumerable:!0,value:Object.freeze(o),writable:!1}),S.Deflate=_,S.Inflate=b,S.Gzip=E,S.Gunzip=x,S.DeflateRaw=M,S.InflateRaw=O,S.Unzip=j,S.createDeflate=function(P){return new _(P)},S.createInflate=function(P){return new b(P)},S.createDeflateRaw=function(P){return new M(P)},S.createInflateRaw=function(P){return new O(P)},S.createGzip=function(P){return new E(P)},S.createGunzip=function(P){return new x(P)},S.createUnzip=function(P){return new j(P)},S.deflate=function(P,B,X){return typeof B=="function"&&(X=B,B={}),m(new _(B),P,X)},S.deflateSync=function(P,B){return v(new _(B),P)},S.gzip=function(P,B,X){return typeof B=="function"&&(X=B,B={}),m(new E(B),P,X)},S.gzipSync=function(P,B){return v(new E(B),P)},S.deflateRaw=function(P,B,X){return typeof B=="function"&&(X=B,B={}),m(new M(B),P,X)},S.deflateRawSync=function(P,B){return v(new M(B),P)},S.unzip=function(P,B,X){return typeof B=="function"&&(X=B,B={}),m(new j(B),P,X)},S.unzipSync=function(P,B){return v(new j(B),P)},S.inflate=function(P,B,X){return typeof B=="function"&&(X=B,B={}),m(new b(B),P,X)},S.inflateSync=function(P,B){return v(new b(B),P)},S.gunzip=function(P,B,X){return typeof B=="function"&&(X=B,B={}),m(new x(B),P,X)},S.gunzipSync=function(P,B){return v(new x(B),P)},S.inflateRaw=function(P,B,X){return typeof B=="function"&&(X=B,B={}),m(new O(B),P,X)},S.inflateRawSync=function(P,B){return v(new O(B),P)};function m(P,B,X){var V=[],q=0;P.on("error",Z),P.on("end",J),P.end(B),ee();function ee(){for(var K;(K=P.read())!==null;)V.push(K),q+=K.length;P.once("readable",ee)}function Z(K){P.removeListener("end",J),P.removeListener("readable",ee),X(K)}function J(){var K,re=null;q>=a?re=new RangeError(n):K=y.concat(V,q),V=[],P.close(),X(re,K)}}function v(P,B){if(typeof B=="string"&&(B=y.from(B)),!y.isBuffer(B))throw new TypeError("Not a string or buffer");var X=P._finishFlushFlag;return P._processChunk(B,X)}function _(P){if(!(this instanceof _))return new _(P);U.call(this,P,g.DEFLATE)}function b(P){if(!(this instanceof b))return new b(P);U.call(this,P,g.INFLATE)}function E(P){if(!(this instanceof E))return new E(P);U.call(this,P,g.GZIP)}function x(P){if(!(this instanceof x))return new x(P);U.call(this,P,g.GUNZIP)}function M(P){if(!(this instanceof M))return new M(P);U.call(this,P,g.DEFLATERAW)}function O(P){if(!(this instanceof O))return new O(P);U.call(this,P,g.INFLATERAW)}function j(P){if(!(this instanceof j))return new j(P);U.call(this,P,g.UNZIP)}function T(P){return P===g.Z_NO_FLUSH||P===g.Z_PARTIAL_FLUSH||P===g.Z_SYNC_FLUSH||P===g.Z_FULL_FLUSH||P===g.Z_FINISH||P===g.Z_BLOCK}function U(P,B){var X=this;if(this._opts=P=P||{},this._chunkSize=P.chunkSize||S.Z_DEFAULT_CHUNK,d.call(this,P),P.flush&&!T(P.flush))throw new Error("Invalid flush flag: "+P.flush);if(P.finishFlush&&!T(P.finishFlush))throw new Error("Invalid flush flag: "+P.finishFlush);if(this._flushFlag=P.flush||g.Z_NO_FLUSH,this._finishFlushFlag=typeof P.finishFlush<"u"?P.finishFlush:g.Z_FINISH,P.chunkSize&&(P.chunkSize<S.Z_MIN_CHUNK||P.chunkSize>S.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+P.chunkSize);if(P.windowBits&&(P.windowBits<S.Z_MIN_WINDOWBITS||P.windowBits>S.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+P.windowBits);if(P.level&&(P.level<S.Z_MIN_LEVEL||P.level>S.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+P.level);if(P.memLevel&&(P.memLevel<S.Z_MIN_MEMLEVEL||P.memLevel>S.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+P.memLevel);if(P.strategy&&P.strategy!=S.Z_FILTERED&&P.strategy!=S.Z_HUFFMAN_ONLY&&P.strategy!=S.Z_RLE&&P.strategy!=S.Z_FIXED&&P.strategy!=S.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+P.strategy);if(P.dictionary&&!y.isBuffer(P.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new g.Zlib(B);var V=this;this._hadError=!1,this._handle.onerror=function(Z,J){H(V),V._hadError=!0;var K=new Error(Z);K.errno=J,K.code=S.codes[J],V.emit("error",K)};var q=S.Z_DEFAULT_COMPRESSION;typeof P.level=="number"&&(q=P.level);var ee=S.Z_DEFAULT_STRATEGY;typeof P.strategy=="number"&&(ee=P.strategy),this._handle.init(P.windowBits||S.Z_DEFAULT_WINDOWBITS,q,P.memLevel||S.Z_DEFAULT_MEMLEVEL,ee,P.dictionary),this._buffer=y.allocUnsafe(this._chunkSize),this._offset=0,this._level=q,this._strategy=ee,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!X._handle},configurable:!0,enumerable:!0})}u.inherits(U,d),U.prototype.params=function(P,B,X){if(P<S.Z_MIN_LEVEL||P>S.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+P);if(B!=S.Z_FILTERED&&B!=S.Z_HUFFMAN_ONLY&&B!=S.Z_RLE&&B!=S.Z_FIXED&&B!=S.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+B);if(this._level!==P||this._strategy!==B){var V=this;this.flush(g.Z_SYNC_FLUSH,function(){s(V._handle,"zlib binding closed"),V._handle.params(P,B),V._hadError||(V._level=P,V._strategy=B,X&&X())})}else k.nextTick(X)},U.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},U.prototype._flush=function(P){this._transform(y.alloc(0),"",P)},U.prototype.flush=function(P,B){var X=this,V=this._writableState;(typeof P=="function"||P===void 0&&!B)&&(B=P,P=g.Z_FULL_FLUSH),V.ended?B&&k.nextTick(B):V.ending?B&&this.once("end",B):V.needDrain?B&&this.once("drain",function(){return X.flush(P,B)}):(this._flushFlag=P,this.write(y.alloc(0),"",B))},U.prototype.close=function(P){H(this,P),k.nextTick(D,this)};function H(P,B){B&&k.nextTick(B),P._handle&&(P._handle.close(),P._handle=null)}function D(P){P.emit("close")}U.prototype._transform=function(P,B,X){var V,q=this._writableState,ee=q.ending||q.ended,Z=ee&&(!P||q.length===P.length);if(P!==null&&!y.isBuffer(P))return X(new Error("invalid input"));if(!this._handle)return X(new Error("zlib binding closed"));Z?V=this._finishFlushFlag:(V=this._flushFlag,P.length>=q.length&&(this._flushFlag=this._opts.flush||g.Z_NO_FLUSH)),this._processChunk(P,V,X)},U.prototype._processChunk=function(P,B,X){var V=P&&P.length,q=this._chunkSize-this._offset,ee=0,Z=this,J=typeof X=="function";if(!J){var K=[],re=0,ue;this.on("error",function(he){ue=he}),s(this._handle,"zlib binding closed");do var ce=this._handle.writeSync(B,P,ee,V,this._buffer,this._offset,q);while(!this._hadError&&Re(ce[0],ce[1]));if(this._hadError)throw ue;if(re>=a)throw H(this),new RangeError(n);var ve=y.concat(K,re);return H(this),ve}s(this._handle,"zlib binding closed");var _e=this._handle.write(B,P,ee,V,this._buffer,this._offset,q);_e.buffer=P,_e.callback=Re;function Re(he,fe){if(this&&(this.buffer=null,this.callback=null),!Z._hadError){var ne=q-fe;if(s(ne>=0,"have should not go down"),ne>0){var se=Z._buffer.slice(Z._offset,Z._offset+ne);Z._offset+=ne,J?Z.push(se):(K.push(se),re+=se.length)}if((fe===0||Z._offset>=Z._chunkSize)&&(q=Z._chunkSize,Z._offset=0,Z._buffer=y.allocUnsafe(Z._chunkSize)),fe===0){if(ee+=V-he,V=he,!J)return!0;var oe=Z._handle.write(B,P,ee,V,Z._buffer,Z._offset,Z._chunkSize);oe.callback=Re,oe.buffer=P;return}if(!J)return!1;X()}}},u.inherits(_,U),u.inherits(b,U),u.inherits(E,U),u.inherits(x,U),u.inherits(M,U),u.inherits(O,U),u.inherits(j,U)}).call(this,A("_process"))},{"./binding":34,_process:133,assert:25,buffer:48,stream:155,util:186}],36:[function(A,W,S){var k=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function y(u,s){return Object.prototype.hasOwnProperty.call(u,s)}S.assign=function(u){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var a=s.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(var n in a)y(a,n)&&(u[n]=a[n])}}return u},S.shrinkBuf=function(u,s){return u.length===s?u:u.subarray?u.subarray(0,s):(u.length=s,u)};var d={arraySet:function(u,s,a,n,r){if(s.subarray&&u.subarray){u.set(s.subarray(a,a+n),r);return}for(var f=0;f<n;f++)u[r+f]=s[a+f]},flattenChunks:function(u){var s,a,n,r,f,c;for(n=0,s=0,a=u.length;s<a;s++)n+=u[s].length;for(c=new Uint8Array(n),r=0,s=0,a=u.length;s<a;s++)f=u[s],c.set(f,r),r+=f.length;return c}},g={arraySet:function(u,s,a,n,r){for(var f=0;f<n;f++)u[r+f]=s[a+f]},flattenChunks:function(u){return[].concat.apply([],u)}};S.setTyped=function(u){u?(S.Buf8=Uint8Array,S.Buf16=Uint16Array,S.Buf32=Int32Array,S.assign(S,d)):(S.Buf8=Array,S.Buf16=Array,S.Buf32=Array,S.assign(S,g))},S.setTyped(k)},{}],37:[function(A,W,S){function k(y,d,g,u){for(var s=y&65535|0,a=y>>>16&65535|0,n=0;g!==0;){n=g>2e3?2e3:g,g-=n;do s=s+d[u++]|0,a=a+s|0;while(--n);s%=65521,a%=65521}return s|a<<16|0}W.exports=k},{}],38:[function(A,W,S){W.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],39:[function(A,W,S){function k(){for(var g,u=[],s=0;s<256;s++){g=s;for(var a=0;a<8;a++)g=g&1?3988292384^g>>>1:g>>>1;u[s]=g}return u}var y=k();function d(g,u,s,a){var n=y,r=a+s;g^=-1;for(var f=a;f<r;f++)g=g>>>8^n[(g^u[f])&255];return g^-1}W.exports=d},{}],40:[function(A,W,S){var k=A("../utils/common"),y=A("./trees"),d=A("./adler32"),g=A("./crc32"),u=A("./messages"),s=0,a=1,n=3,r=4,f=5,c=0,o=1,l=-2,i=-3,p=-5,m=-1,v=1,_=2,b=3,E=4,x=0,M=2,O=8,j=9,T=15,U=8,H=29,D=256,P=D+1+H,B=30,X=19,V=2*P+1,q=15,ee=3,Z=258,J=Z+ee+1,K=32,re=42,ue=69,ce=73,ve=91,_e=103,Re=113,he=666,fe=1,ne=2,se=3,oe=4,Q=3;function I(w,ye){return w.msg=u[ye],ye}function L(w){return(w<<1)-(w>4?9:0)}function te(w){for(var ye=w.length;--ye>=0;)w[ye]=0}function $(w){var ye=w.state,Ae=ye.pending;Ae>w.avail_out&&(Ae=w.avail_out),Ae!==0&&(k.arraySet(w.output,ye.pending_buf,ye.pending_out,Ae,w.next_out),w.next_out+=Ae,ye.pending_out+=Ae,w.total_out+=Ae,w.avail_out-=Ae,ye.pending-=Ae,ye.pending===0&&(ye.pending_out=0))}function N(w,ye){y._tr_flush_block(w,w.block_start>=0?w.block_start:-1,w.strstart-w.block_start,ye),w.block_start=w.strstart,$(w.strm)}function C(w,ye){w.pending_buf[w.pending++]=ye}function ie(w,ye){w.pending_buf[w.pending++]=ye>>>8&255,w.pending_buf[w.pending++]=ye&255}function de(w,ye,Ae,F){var pe=w.avail_in;return pe>F&&(pe=F),pe===0?0:(w.avail_in-=pe,k.arraySet(ye,w.input,w.next_in,pe,Ae),w.state.wrap===1?w.adler=d(w.adler,ye,pe,Ae):w.state.wrap===2&&(w.adler=g(w.adler,ye,pe,Ae)),w.next_in+=pe,w.total_in+=pe,pe)}function xe(w,ye){var Ae=w.max_chain_length,F=w.strstart,pe,Oe,Ge=w.prev_length,Fe=w.nice_match,Je=w.strstart>w.w_size-J?w.strstart-(w.w_size-J):0,tt=w.window,Tt=w.w_mask,vt=w.prev,ht=w.strstart+Z,_t=tt[F+Ge-1],xt=tt[F+Ge];w.prev_length>=w.good_match&&(Ae>>=2),Fe>w.lookahead&&(Fe=w.lookahead);do if(pe=ye,!(tt[pe+Ge]!==xt||tt[pe+Ge-1]!==_t||tt[pe]!==tt[F]||tt[++pe]!==tt[F+1])){F+=2,pe++;do;while(tt[++F]===tt[++pe]&&tt[++F]===tt[++pe]&&tt[++F]===tt[++pe]&&tt[++F]===tt[++pe]&&tt[++F]===tt[++pe]&&tt[++F]===tt[++pe]&&tt[++F]===tt[++pe]&&tt[++F]===tt[++pe]&&F<ht);if(Oe=Z-(ht-F),F=ht-Z,Oe>Ge){if(w.match_start=ye,Ge=Oe,Oe>=Fe)break;_t=tt[F+Ge-1],xt=tt[F+Ge]}}while((ye=vt[ye&Tt])>Je&&--Ae!==0);return Ge<=w.lookahead?Ge:w.lookahead}function Me(w){var ye=w.w_size,Ae,F,pe,Oe,Ge;do{if(Oe=w.window_size-w.lookahead-w.strstart,w.strstart>=ye+(ye-J)){k.arraySet(w.window,w.window,ye,ye,0),w.match_start-=ye,w.strstart-=ye,w.block_start-=ye,F=w.hash_size,Ae=F;do pe=w.head[--Ae],w.head[Ae]=pe>=ye?pe-ye:0;while(--F);F=ye,Ae=F;do pe=w.prev[--Ae],w.prev[Ae]=pe>=ye?pe-ye:0;while(--F);Oe+=ye}if(w.strm.avail_in===0)break;if(F=de(w.strm,w.window,w.strstart+w.lookahead,Oe),w.lookahead+=F,w.lookahead+w.insert>=ee)for(Ge=w.strstart-w.insert,w.ins_h=w.window[Ge],w.ins_h=(w.ins_h<<w.hash_shift^w.window[Ge+1])&w.hash_mask;w.insert&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[Ge+ee-1])&w.hash_mask,w.prev[Ge&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=Ge,Ge++,w.insert--,!(w.lookahead+w.insert<ee)););}while(w.lookahead<J&&w.strm.avail_in!==0)}function je(w,ye){var Ae=65535;for(Ae>w.pending_buf_size-5&&(Ae=w.pending_buf_size-5);;){if(w.lookahead<=1){if(Me(w),w.lookahead===0&&ye===s)return fe;if(w.lookahead===0)break}w.strstart+=w.lookahead,w.lookahead=0;var F=w.block_start+Ae;if((w.strstart===0||w.strstart>=F)&&(w.lookahead=w.strstart-F,w.strstart=F,N(w,!1),w.strm.avail_out===0)||w.strstart-w.block_start>=w.w_size-J&&(N(w,!1),w.strm.avail_out===0))return fe}return w.insert=0,ye===r?(N(w,!0),w.strm.avail_out===0?se:oe):(w.strstart>w.block_start&&(N(w,!1),w.strm.avail_out===0),fe)}function Ze(w,ye){for(var Ae,F;;){if(w.lookahead<J){if(Me(w),w.lookahead<J&&ye===s)return fe;if(w.lookahead===0)break}if(Ae=0,w.lookahead>=ee&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+ee-1])&w.hash_mask,Ae=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),Ae!==0&&w.strstart-Ae<=w.w_size-J&&(w.match_length=xe(w,Ae)),w.match_length>=ee)if(F=y._tr_tally(w,w.strstart-w.match_start,w.match_length-ee),w.lookahead-=w.match_length,w.match_length<=w.max_lazy_match&&w.lookahead>=ee){w.match_length--;do w.strstart++,w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+ee-1])&w.hash_mask,Ae=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart;while(--w.match_length!==0);w.strstart++}else w.strstart+=w.match_length,w.match_length=0,w.ins_h=w.window[w.strstart],w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+1])&w.hash_mask;else F=y._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++;if(F&&(N(w,!1),w.strm.avail_out===0))return fe}return w.insert=w.strstart<ee-1?w.strstart:ee-1,ye===r?(N(w,!0),w.strm.avail_out===0?se:oe):w.last_lit&&(N(w,!1),w.strm.avail_out===0)?fe:ne}function He(w,ye){for(var Ae,F,pe;;){if(w.lookahead<J){if(Me(w),w.lookahead<J&&ye===s)return fe;if(w.lookahead===0)break}if(Ae=0,w.lookahead>=ee&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+ee-1])&w.hash_mask,Ae=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),w.prev_length=w.match_length,w.prev_match=w.match_start,w.match_length=ee-1,Ae!==0&&w.prev_length<w.max_lazy_match&&w.strstart-Ae<=w.w_size-J&&(w.match_length=xe(w,Ae),w.match_length<=5&&(w.strategy===v||w.match_length===ee&&w.strstart-w.match_start>4096)&&(w.match_length=ee-1)),w.prev_length>=ee&&w.match_length<=w.prev_length){pe=w.strstart+w.lookahead-ee,F=y._tr_tally(w,w.strstart-1-w.prev_match,w.prev_length-ee),w.lookahead-=w.prev_length-1,w.prev_length-=2;do++w.strstart<=pe&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+ee-1])&w.hash_mask,Ae=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart);while(--w.prev_length!==0);if(w.match_available=0,w.match_length=ee-1,w.strstart++,F&&(N(w,!1),w.strm.avail_out===0))return fe}else if(w.match_available){if(F=y._tr_tally(w,0,w.window[w.strstart-1]),F&&N(w,!1),w.strstart++,w.lookahead--,w.strm.avail_out===0)return fe}else w.match_available=1,w.strstart++,w.lookahead--}return w.match_available&&(F=y._tr_tally(w,0,w.window[w.strstart-1]),w.match_available=0),w.insert=w.strstart<ee-1?w.strstart:ee-1,ye===r?(N(w,!0),w.strm.avail_out===0?se:oe):w.last_lit&&(N(w,!1),w.strm.avail_out===0)?fe:ne}function Ve(w,ye){for(var Ae,F,pe,Oe,Ge=w.window;;){if(w.lookahead<=Z){if(Me(w),w.lookahead<=Z&&ye===s)return fe;if(w.lookahead===0)break}if(w.match_length=0,w.lookahead>=ee&&w.strstart>0&&(pe=w.strstart-1,F=Ge[pe],F===Ge[++pe]&&F===Ge[++pe]&&F===Ge[++pe])){Oe=w.strstart+Z;do;while(F===Ge[++pe]&&F===Ge[++pe]&&F===Ge[++pe]&&F===Ge[++pe]&&F===Ge[++pe]&&F===Ge[++pe]&&F===Ge[++pe]&&F===Ge[++pe]&&pe<Oe);w.match_length=Z-(Oe-pe),w.match_length>w.lookahead&&(w.match_length=w.lookahead)}if(w.match_length>=ee?(Ae=y._tr_tally(w,1,w.match_length-ee),w.lookahead-=w.match_length,w.strstart+=w.match_length,w.match_length=0):(Ae=y._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++),Ae&&(N(w,!1),w.strm.avail_out===0))return fe}return w.insert=0,ye===r?(N(w,!0),w.strm.avail_out===0?se:oe):w.last_lit&&(N(w,!1),w.strm.avail_out===0)?fe:ne}function We(w,ye){for(var Ae;;){if(w.lookahead===0&&(Me(w),w.lookahead===0)){if(ye===s)return fe;break}if(w.match_length=0,Ae=y._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++,Ae&&(N(w,!1),w.strm.avail_out===0))return fe}return w.insert=0,ye===r?(N(w,!0),w.strm.avail_out===0?se:oe):w.last_lit&&(N(w,!1),w.strm.avail_out===0)?fe:ne}function Ue(w,ye,Ae,F,pe){this.good_length=w,this.max_lazy=ye,this.nice_length=Ae,this.max_chain=F,this.func=pe}var et;et=[new Ue(0,0,0,0,je),new Ue(4,4,8,4,Ze),new Ue(4,5,16,8,Ze),new Ue(4,6,32,32,Ze),new Ue(4,4,16,16,He),new Ue(8,16,32,32,He),new Ue(8,16,128,128,He),new Ue(8,32,128,256,He),new Ue(32,128,258,1024,He),new Ue(32,258,258,4096,He)];function $e(w){w.window_size=2*w.w_size,te(w.head),w.max_lazy_match=et[w.level].max_lazy,w.good_match=et[w.level].good_length,w.nice_match=et[w.level].nice_length,w.max_chain_length=et[w.level].max_chain,w.strstart=0,w.block_start=0,w.lookahead=0,w.insert=0,w.match_length=w.prev_length=ee-1,w.match_available=0,w.ins_h=0}function G(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=O,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new k.Buf16(V*2),this.dyn_dtree=new k.Buf16((2*B+1)*2),this.bl_tree=new k.Buf16((2*X+1)*2),te(this.dyn_ltree),te(this.dyn_dtree),te(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new k.Buf16(q+1),this.heap=new k.Buf16(2*P+1),te(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new k.Buf16(2*P+1),te(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function be(w){var ye;return!w||!w.state?I(w,l):(w.total_in=w.total_out=0,w.data_type=M,ye=w.state,ye.pending=0,ye.pending_out=0,ye.wrap<0&&(ye.wrap=-ye.wrap),ye.status=ye.wrap?re:Re,w.adler=ye.wrap===2?0:1,ye.last_flush=s,y._tr_init(ye),c)}function Se(w){var ye=be(w);return ye===c&&$e(w.state),ye}function Le(w,ye){return!w||!w.state||w.state.wrap!==2?l:(w.state.gzhead=ye,c)}function we(w,ye,Ae,F,pe,Oe){if(!w)return l;var Ge=1;if(ye===m&&(ye=6),F<0?(Ge=0,F=-F):F>15&&(Ge=2,F-=16),pe<1||pe>j||Ae!==O||F<8||F>15||ye<0||ye>9||Oe<0||Oe>E)return I(w,l);F===8&&(F=9);var Fe=new G;return w.state=Fe,Fe.strm=w,Fe.wrap=Ge,Fe.gzhead=null,Fe.w_bits=F,Fe.w_size=1<<Fe.w_bits,Fe.w_mask=Fe.w_size-1,Fe.hash_bits=pe+7,Fe.hash_size=1<<Fe.hash_bits,Fe.hash_mask=Fe.hash_size-1,Fe.hash_shift=~~((Fe.hash_bits+ee-1)/ee),Fe.window=new k.Buf8(Fe.w_size*2),Fe.head=new k.Buf16(Fe.hash_size),Fe.prev=new k.Buf16(Fe.w_size),Fe.lit_bufsize=1<<pe+6,Fe.pending_buf_size=Fe.lit_bufsize*4,Fe.pending_buf=new k.Buf8(Fe.pending_buf_size),Fe.d_buf=1*Fe.lit_bufsize,Fe.l_buf=3*Fe.lit_bufsize,Fe.level=ye,Fe.strategy=Oe,Fe.method=Ae,Se(w)}function Ce(w,ye){return we(w,ye,O,T,U,x)}function ae(w,ye){var Ae,F,pe,Oe;if(!w||!w.state||ye>f||ye<0)return w?I(w,l):l;if(F=w.state,!w.output||!w.input&&w.avail_in!==0||F.status===he&&ye!==r)return I(w,w.avail_out===0?p:l);if(F.strm=w,Ae=F.last_flush,F.last_flush=ye,F.status===re)if(F.wrap===2)w.adler=0,C(F,31),C(F,139),C(F,8),F.gzhead?(C(F,(F.gzhead.text?1:0)+(F.gzhead.hcrc?2:0)+(F.gzhead.extra?4:0)+(F.gzhead.name?8:0)+(F.gzhead.comment?16:0)),C(F,F.gzhead.time&255),C(F,F.gzhead.time>>8&255),C(F,F.gzhead.time>>16&255),C(F,F.gzhead.time>>24&255),C(F,F.level===9?2:F.strategy>=_||F.level<2?4:0),C(F,F.gzhead.os&255),F.gzhead.extra&&F.gzhead.extra.length&&(C(F,F.gzhead.extra.length&255),C(F,F.gzhead.extra.length>>8&255)),F.gzhead.hcrc&&(w.adler=g(w.adler,F.pending_buf,F.pending,0)),F.gzindex=0,F.status=ue):(C(F,0),C(F,0),C(F,0),C(F,0),C(F,0),C(F,F.level===9?2:F.strategy>=_||F.level<2?4:0),C(F,Q),F.status=Re);else{var Ge=O+(F.w_bits-8<<4)<<8,Fe=-1;F.strategy>=_||F.level<2?Fe=0:F.level<6?Fe=1:F.level===6?Fe=2:Fe=3,Ge|=Fe<<6,F.strstart!==0&&(Ge|=K),Ge+=31-Ge%31,F.status=Re,ie(F,Ge),F.strstart!==0&&(ie(F,w.adler>>>16),ie(F,w.adler&65535)),w.adler=1}if(F.status===ue)if(F.gzhead.extra){for(pe=F.pending;F.gzindex<(F.gzhead.extra.length&65535)&&!(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>pe&&(w.adler=g(w.adler,F.pending_buf,F.pending-pe,pe)),$(w),pe=F.pending,F.pending===F.pending_buf_size));)C(F,F.gzhead.extra[F.gzindex]&255),F.gzindex++;F.gzhead.hcrc&&F.pending>pe&&(w.adler=g(w.adler,F.pending_buf,F.pending-pe,pe)),F.gzindex===F.gzhead.extra.length&&(F.gzindex=0,F.status=ce)}else F.status=ce;if(F.status===ce)if(F.gzhead.name){pe=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>pe&&(w.adler=g(w.adler,F.pending_buf,F.pending-pe,pe)),$(w),pe=F.pending,F.pending===F.pending_buf_size)){Oe=1;break}F.gzindex<F.gzhead.name.length?Oe=F.gzhead.name.charCodeAt(F.gzindex++)&255:Oe=0,C(F,Oe)}while(Oe!==0);F.gzhead.hcrc&&F.pending>pe&&(w.adler=g(w.adler,F.pending_buf,F.pending-pe,pe)),Oe===0&&(F.gzindex=0,F.status=ve)}else F.status=ve;if(F.status===ve)if(F.gzhead.comment){pe=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>pe&&(w.adler=g(w.adler,F.pending_buf,F.pending-pe,pe)),$(w),pe=F.pending,F.pending===F.pending_buf_size)){Oe=1;break}F.gzindex<F.gzhead.comment.length?Oe=F.gzhead.comment.charCodeAt(F.gzindex++)&255:Oe=0,C(F,Oe)}while(Oe!==0);F.gzhead.hcrc&&F.pending>pe&&(w.adler=g(w.adler,F.pending_buf,F.pending-pe,pe)),Oe===0&&(F.status=_e)}else F.status=_e;if(F.status===_e&&(F.gzhead.hcrc?(F.pending+2>F.pending_buf_size&&$(w),F.pending+2<=F.pending_buf_size&&(C(F,w.adler&255),C(F,w.adler>>8&255),w.adler=0,F.status=Re)):F.status=Re),F.pending!==0){if($(w),w.avail_out===0)return F.last_flush=-1,c}else if(w.avail_in===0&&L(ye)<=L(Ae)&&ye!==r)return I(w,p);if(F.status===he&&w.avail_in!==0)return I(w,p);if(w.avail_in!==0||F.lookahead!==0||ye!==s&&F.status!==he){var Je=F.strategy===_?We(F,ye):F.strategy===b?Ve(F,ye):et[F.level].func(F,ye);if((Je===se||Je===oe)&&(F.status=he),Je===fe||Je===se)return w.avail_out===0&&(F.last_flush=-1),c;if(Je===ne&&(ye===a?y._tr_align(F):ye!==f&&(y._tr_stored_block(F,0,0,!1),ye===n&&(te(F.head),F.lookahead===0&&(F.strstart=0,F.block_start=0,F.insert=0))),$(w),w.avail_out===0))return F.last_flush=-1,c}return ye!==r?c:F.wrap<=0?o:(F.wrap===2?(C(F,w.adler&255),C(F,w.adler>>8&255),C(F,w.adler>>16&255),C(F,w.adler>>24&255),C(F,w.total_in&255),C(F,w.total_in>>8&255),C(F,w.total_in>>16&255),C(F,w.total_in>>24&255)):(ie(F,w.adler>>>16),ie(F,w.adler&65535)),$(w),F.wrap>0&&(F.wrap=-F.wrap),F.pending!==0?c:o)}function Be(w){var ye;return!w||!w.state?l:(ye=w.state.status,ye!==re&&ye!==ue&&ye!==ce&&ye!==ve&&ye!==_e&&ye!==Re&&ye!==he?I(w,l):(w.state=null,ye===Re?I(w,i):c))}function qe(w,ye){var Ae=ye.length,F,pe,Oe,Ge,Fe,Je,tt,Tt;if(!w||!w.state||(F=w.state,Ge=F.wrap,Ge===2||Ge===1&&F.status!==re||F.lookahead))return l;for(Ge===1&&(w.adler=d(w.adler,ye,Ae,0)),F.wrap=0,Ae>=F.w_size&&(Ge===0&&(te(F.head),F.strstart=0,F.block_start=0,F.insert=0),Tt=new k.Buf8(F.w_size),k.arraySet(Tt,ye,Ae-F.w_size,F.w_size,0),ye=Tt,Ae=F.w_size),Fe=w.avail_in,Je=w.next_in,tt=w.input,w.avail_in=Ae,w.next_in=0,w.input=ye,Me(F);F.lookahead>=ee;){pe=F.strstart,Oe=F.lookahead-(ee-1);do F.ins_h=(F.ins_h<<F.hash_shift^F.window[pe+ee-1])&F.hash_mask,F.prev[pe&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=pe,pe++;while(--Oe);F.strstart=pe,F.lookahead=ee-1,Me(F)}return F.strstart+=F.lookahead,F.block_start=F.strstart,F.insert=F.lookahead,F.lookahead=0,F.match_length=F.prev_length=ee-1,F.match_available=0,w.next_in=Je,w.input=tt,w.avail_in=Fe,F.wrap=Ge,c}S.deflateInit=Ce,S.deflateInit2=we,S.deflateReset=Se,S.deflateResetKeep=be,S.deflateSetHeader=Le,S.deflate=ae,S.deflateEnd=Be,S.deflateSetDictionary=qe,S.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":36,"./adler32":37,"./crc32":39,"./messages":44,"./trees":45}],41:[function(A,W,S){var k=30,y=12;W.exports=function(g,u){var s,a,n,r,f,c,o,l,i,p,m,v,_,b,E,x,M,O,j,T,U,H,D,P,B;s=g.state,a=g.next_in,P=g.input,n=a+(g.avail_in-5),r=g.next_out,B=g.output,f=r-(u-g.avail_out),c=r+(g.avail_out-257),o=s.dmax,l=s.wsize,i=s.whave,p=s.wnext,m=s.window,v=s.hold,_=s.bits,b=s.lencode,E=s.distcode,x=(1<<s.lenbits)-1,M=(1<<s.distbits)-1;e:do{_<15&&(v+=P[a++]<<_,_+=8,v+=P[a++]<<_,_+=8),O=b[v&x];t:for(;;){if(j=O>>>24,v>>>=j,_-=j,j=O>>>16&255,j===0)B[r++]=O&65535;else if(j&16){T=O&65535,j&=15,j&&(_<j&&(v+=P[a++]<<_,_+=8),T+=v&(1<<j)-1,v>>>=j,_-=j),_<15&&(v+=P[a++]<<_,_+=8,v+=P[a++]<<_,_+=8),O=E[v&M];r:for(;;){if(j=O>>>24,v>>>=j,_-=j,j=O>>>16&255,j&16){if(U=O&65535,j&=15,_<j&&(v+=P[a++]<<_,_+=8,_<j&&(v+=P[a++]<<_,_+=8)),U+=v&(1<<j)-1,U>o){g.msg="invalid distance too far back",s.mode=k;break e}if(v>>>=j,_-=j,j=r-f,U>j){if(j=U-j,j>i&&s.sane){g.msg="invalid distance too far back",s.mode=k;break e}if(H=0,D=m,p===0){if(H+=l-j,j<T){T-=j;do B[r++]=m[H++];while(--j);H=r-U,D=B}}else if(p<j){if(H+=l+p-j,j-=p,j<T){T-=j;do B[r++]=m[H++];while(--j);if(H=0,p<T){j=p,T-=j;do B[r++]=m[H++];while(--j);H=r-U,D=B}}}else if(H+=p-j,j<T){T-=j;do B[r++]=m[H++];while(--j);H=r-U,D=B}for(;T>2;)B[r++]=D[H++],B[r++]=D[H++],B[r++]=D[H++],T-=3;T&&(B[r++]=D[H++],T>1&&(B[r++]=D[H++]))}else{H=r-U;do B[r++]=B[H++],B[r++]=B[H++],B[r++]=B[H++],T-=3;while(T>2);T&&(B[r++]=B[H++],T>1&&(B[r++]=B[H++]))}}else if((j&64)===0){O=E[(O&65535)+(v&(1<<j)-1)];continue r}else{g.msg="invalid distance code",s.mode=k;break e}break}}else if((j&64)===0){O=b[(O&65535)+(v&(1<<j)-1)];continue t}else if(j&32){s.mode=y;break e}else{g.msg="invalid literal/length code",s.mode=k;break e}break}}while(a<n&&r<c);T=_>>3,a-=T,_-=T<<3,v&=(1<<_)-1,g.next_in=a,g.next_out=r,g.avail_in=a<n?5+(n-a):5-(a-n),g.avail_out=r<c?257+(c-r):257-(r-c),s.hold=v,s.bits=_}},{}],42:[function(A,W,S){var k=A("../utils/common"),y=A("./adler32"),d=A("./crc32"),g=A("./inffast"),u=A("./inftrees"),s=0,a=1,n=2,r=4,f=5,c=6,o=0,l=1,i=2,p=-2,m=-3,v=-4,_=-5,b=8,E=1,x=2,M=3,O=4,j=5,T=6,U=7,H=8,D=9,P=10,B=11,X=12,V=13,q=14,ee=15,Z=16,J=17,K=18,re=19,ue=20,ce=21,ve=22,_e=23,Re=24,he=25,fe=26,ne=27,se=28,oe=29,Q=30,I=31,L=32,te=852,$=592,N=15,C=N;function ie(we){return(we>>>24&255)+(we>>>8&65280)+((we&65280)<<8)+((we&255)<<24)}function de(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new k.Buf16(320),this.work=new k.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function xe(we){var Ce;return!we||!we.state?p:(Ce=we.state,we.total_in=we.total_out=Ce.total=0,we.msg="",Ce.wrap&&(we.adler=Ce.wrap&1),Ce.mode=E,Ce.last=0,Ce.havedict=0,Ce.dmax=32768,Ce.head=null,Ce.hold=0,Ce.bits=0,Ce.lencode=Ce.lendyn=new k.Buf32(te),Ce.distcode=Ce.distdyn=new k.Buf32($),Ce.sane=1,Ce.back=-1,o)}function Me(we){var Ce;return!we||!we.state?p:(Ce=we.state,Ce.wsize=0,Ce.whave=0,Ce.wnext=0,xe(we))}function je(we,Ce){var ae,Be;return!we||!we.state||(Be=we.state,Ce<0?(ae=0,Ce=-Ce):(ae=(Ce>>4)+1,Ce<48&&(Ce&=15)),Ce&&(Ce<8||Ce>15))?p:(Be.window!==null&&Be.wbits!==Ce&&(Be.window=null),Be.wrap=ae,Be.wbits=Ce,Me(we))}function Ze(we,Ce){var ae,Be;return we?(Be=new de,we.state=Be,Be.window=null,ae=je(we,Ce),ae!==o&&(we.state=null),ae):p}function He(we){return Ze(we,C)}var Ve=!0,We,Ue;function et(we){if(Ve){var Ce;for(We=new k.Buf32(512),Ue=new k.Buf32(32),Ce=0;Ce<144;)we.lens[Ce++]=8;for(;Ce<256;)we.lens[Ce++]=9;for(;Ce<280;)we.lens[Ce++]=7;for(;Ce<288;)we.lens[Ce++]=8;for(u(a,we.lens,0,288,We,0,we.work,{bits:9}),Ce=0;Ce<32;)we.lens[Ce++]=5;u(n,we.lens,0,32,Ue,0,we.work,{bits:5}),Ve=!1}we.lencode=We,we.lenbits=9,we.distcode=Ue,we.distbits=5}function $e(we,Ce,ae,Be){var qe,w=we.state;return w.window===null&&(w.wsize=1<<w.wbits,w.wnext=0,w.whave=0,w.window=new k.Buf8(w.wsize)),Be>=w.wsize?(k.arraySet(w.window,Ce,ae-w.wsize,w.wsize,0),w.wnext=0,w.whave=w.wsize):(qe=w.wsize-w.wnext,qe>Be&&(qe=Be),k.arraySet(w.window,Ce,ae-Be,qe,w.wnext),Be-=qe,Be?(k.arraySet(w.window,Ce,ae-Be,Be,0),w.wnext=Be,w.whave=w.wsize):(w.wnext+=qe,w.wnext===w.wsize&&(w.wnext=0),w.whave<w.wsize&&(w.whave+=qe))),0}function G(we,Ce){var ae,Be,qe,w,ye,Ae,F,pe,Oe,Ge,Fe,Je,tt,Tt,vt=0,ht,_t,xt,bt,br,Er,Rt,Nt,kt=new k.Buf8(4),Gt,jt,tn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!we||!we.state||!we.output||!we.input&&we.avail_in!==0)return p;ae=we.state,ae.mode===X&&(ae.mode=V),ye=we.next_out,qe=we.output,F=we.avail_out,w=we.next_in,Be=we.input,Ae=we.avail_in,pe=ae.hold,Oe=ae.bits,Ge=Ae,Fe=F,Nt=o;e:for(;;)switch(ae.mode){case E:if(ae.wrap===0){ae.mode=V;break}for(;Oe<16;){if(Ae===0)break e;Ae--,pe+=Be[w++]<<Oe,Oe+=8}if(ae.wrap&2&&pe===35615){ae.check=0,kt[0]=pe&255,kt[1]=pe>>>8&255,ae.check=d(ae.check,kt,2,0),pe=0,Oe=0,ae.mode=x;break}if(ae.flags=0,ae.head&&(ae.head.done=!1),!(ae.wrap&1)||(((pe&255)<<8)+(pe>>8))%31){we.msg="incorrect header check",ae.mode=Q;break}if((pe&15)!==b){we.msg="unknown compression method",ae.mode=Q;break}if(pe>>>=4,Oe-=4,Rt=(pe&15)+8,ae.wbits===0)ae.wbits=Rt;else if(Rt>ae.wbits){we.msg="invalid window size",ae.mode=Q;break}ae.dmax=1<<Rt,we.adler=ae.check=1,ae.mode=pe&512?P:X,pe=0,Oe=0;break;case x:for(;Oe<16;){if(Ae===0)break e;Ae--,pe+=Be[w++]<<Oe,Oe+=8}if(ae.flags=pe,(ae.flags&255)!==b){we.msg="unknown compression method",ae.mode=Q;break}if(ae.flags&57344){we.msg="unknown header flags set",ae.mode=Q;break}ae.head&&(ae.head.text=pe>>8&1),ae.flags&512&&(kt[0]=pe&255,kt[1]=pe>>>8&255,ae.check=d(ae.check,kt,2,0)),pe=0,Oe=0,ae.mode=M;case M:for(;Oe<32;){if(Ae===0)break e;Ae--,pe+=Be[w++]<<Oe,Oe+=8}ae.head&&(ae.head.time=pe),ae.flags&512&&(kt[0]=pe&255,kt[1]=pe>>>8&255,kt[2]=pe>>>16&255,kt[3]=pe>>>24&255,ae.check=d(ae.check,kt,4,0)),pe=0,Oe=0,ae.mode=O;case O:for(;Oe<16;){if(Ae===0)break e;Ae--,pe+=Be[w++]<<Oe,Oe+=8}ae.head&&(ae.head.xflags=pe&255,ae.head.os=pe>>8),ae.flags&512&&(kt[0]=pe&255,kt[1]=pe>>>8&255,ae.check=d(ae.check,kt,2,0)),pe=0,Oe=0,ae.mode=j;case j:if(ae.flags&1024){for(;Oe<16;){if(Ae===0)break e;Ae--,pe+=Be[w++]<<Oe,Oe+=8}ae.length=pe,ae.head&&(ae.head.extra_len=pe),ae.flags&512&&(kt[0]=pe&255,kt[1]=pe>>>8&255,ae.check=d(ae.check,kt,2,0)),pe=0,Oe=0}else ae.head&&(ae.head.extra=null);ae.mode=T;case T:if(ae.flags&1024&&(Je=ae.length,Je>Ae&&(Je=Ae),Je&&(ae.head&&(Rt=ae.head.extra_len-ae.length,ae.head.extra||(ae.head.extra=new Array(ae.head.extra_len)),k.arraySet(ae.head.extra,Be,w,Je,Rt)),ae.flags&512&&(ae.check=d(ae.check,Be,Je,w)),Ae-=Je,w+=Je,ae.length-=Je),ae.length))break e;ae.length=0,ae.mode=U;case U:if(ae.flags&2048){if(Ae===0)break e;Je=0;do Rt=Be[w+Je++],ae.head&&Rt&&ae.length<65536&&(ae.head.name+=String.fromCharCode(Rt));while(Rt&&Je<Ae);if(ae.flags&512&&(ae.check=d(ae.check,Be,Je,w)),Ae-=Je,w+=Je,Rt)break e}else ae.head&&(ae.head.name=null);ae.length=0,ae.mode=H;case H:if(ae.flags&4096){if(Ae===0)break e;Je=0;do Rt=Be[w+Je++],ae.head&&Rt&&ae.length<65536&&(ae.head.comment+=String.fromCharCode(Rt));while(Rt&&Je<Ae);if(ae.flags&512&&(ae.check=d(ae.check,Be,Je,w)),Ae-=Je,w+=Je,Rt)break e}else ae.head&&(ae.head.comment=null);ae.mode=D;case D:if(ae.flags&512){for(;Oe<16;){if(Ae===0)break e;Ae--,pe+=Be[w++]<<Oe,Oe+=8}if(pe!==(ae.check&65535)){we.msg="header crc mismatch",ae.mode=Q;break}pe=0,Oe=0}ae.head&&(ae.head.hcrc=ae.flags>>9&1,ae.head.done=!0),we.adler=ae.check=0,ae.mode=X;break;case P:for(;Oe<32;){if(Ae===0)break e;Ae--,pe+=Be[w++]<<Oe,Oe+=8}we.adler=ae.check=ie(pe),pe=0,Oe=0,ae.mode=B;case B:if(ae.havedict===0)return we.next_out=ye,we.avail_out=F,we.next_in=w,we.avail_in=Ae,ae.hold=pe,ae.bits=Oe,i;we.adler=ae.check=1,ae.mode=X;case X:if(Ce===f||Ce===c)break e;case V:if(ae.last){pe>>>=Oe&7,Oe-=Oe&7,ae.mode=ne;break}for(;Oe<3;){if(Ae===0)break e;Ae--,pe+=Be[w++]<<Oe,Oe+=8}switch(ae.last=pe&1,pe>>>=1,Oe-=1,pe&3){case 0:ae.mode=q;break;case 1:if(et(ae),ae.mode=ue,Ce===c){pe>>>=2,Oe-=2;break e}break;case 2:ae.mode=J;break;case 3:we.msg="invalid block type",ae.mode=Q}pe>>>=2,Oe-=2;break;case q:for(pe>>>=Oe&7,Oe-=Oe&7;Oe<32;){if(Ae===0)break e;Ae--,pe+=Be[w++]<<Oe,Oe+=8}if((pe&65535)!==(pe>>>16^65535)){we.msg="invalid stored block lengths",ae.mode=Q;break}if(ae.length=pe&65535,pe=0,Oe=0,ae.mode=ee,Ce===c)break e;case ee:ae.mode=Z;case Z:if(Je=ae.length,Je){if(Je>Ae&&(Je=Ae),Je>F&&(Je=F),Je===0)break e;k.arraySet(qe,Be,w,Je,ye),Ae-=Je,w+=Je,F-=Je,ye+=Je,ae.length-=Je;break}ae.mode=X;break;case J:for(;Oe<14;){if(Ae===0)break e;Ae--,pe+=Be[w++]<<Oe,Oe+=8}if(ae.nlen=(pe&31)+257,pe>>>=5,Oe-=5,ae.ndist=(pe&31)+1,pe>>>=5,Oe-=5,ae.ncode=(pe&15)+4,pe>>>=4,Oe-=4,ae.nlen>286||ae.ndist>30){we.msg="too many length or distance symbols",ae.mode=Q;break}ae.have=0,ae.mode=K;case K:for(;ae.have<ae.ncode;){for(;Oe<3;){if(Ae===0)break e;Ae--,pe+=Be[w++]<<Oe,Oe+=8}ae.lens[tn[ae.have++]]=pe&7,pe>>>=3,Oe-=3}for(;ae.have<19;)ae.lens[tn[ae.have++]]=0;if(ae.lencode=ae.lendyn,ae.lenbits=7,Gt={bits:ae.lenbits},Nt=u(s,ae.lens,0,19,ae.lencode,0,ae.work,Gt),ae.lenbits=Gt.bits,Nt){we.msg="invalid code lengths set",ae.mode=Q;break}ae.have=0,ae.mode=re;case re:for(;ae.have<ae.nlen+ae.ndist;){for(;vt=ae.lencode[pe&(1<<ae.lenbits)-1],ht=vt>>>24,_t=vt>>>16&255,xt=vt&65535,!(ht<=Oe);){if(Ae===0)break e;Ae--,pe+=Be[w++]<<Oe,Oe+=8}if(xt<16)pe>>>=ht,Oe-=ht,ae.lens[ae.have++]=xt;else{if(xt===16){for(jt=ht+2;Oe<jt;){if(Ae===0)break e;Ae--,pe+=Be[w++]<<Oe,Oe+=8}if(pe>>>=ht,Oe-=ht,ae.have===0){we.msg="invalid bit length repeat",ae.mode=Q;break}Rt=ae.lens[ae.have-1],Je=3+(pe&3),pe>>>=2,Oe-=2}else if(xt===17){for(jt=ht+3;Oe<jt;){if(Ae===0)break e;Ae--,pe+=Be[w++]<<Oe,Oe+=8}pe>>>=ht,Oe-=ht,Rt=0,Je=3+(pe&7),pe>>>=3,Oe-=3}else{for(jt=ht+7;Oe<jt;){if(Ae===0)break e;Ae--,pe+=Be[w++]<<Oe,Oe+=8}pe>>>=ht,Oe-=ht,Rt=0,Je=11+(pe&127),pe>>>=7,Oe-=7}if(ae.have+Je>ae.nlen+ae.ndist){we.msg="invalid bit length repeat",ae.mode=Q;break}for(;Je--;)ae.lens[ae.have++]=Rt}}if(ae.mode===Q)break;if(ae.lens[256]===0){we.msg="invalid code -- missing end-of-block",ae.mode=Q;break}if(ae.lenbits=9,Gt={bits:ae.lenbits},Nt=u(a,ae.lens,0,ae.nlen,ae.lencode,0,ae.work,Gt),ae.lenbits=Gt.bits,Nt){we.msg="invalid literal/lengths set",ae.mode=Q;break}if(ae.distbits=6,ae.distcode=ae.distdyn,Gt={bits:ae.distbits},Nt=u(n,ae.lens,ae.nlen,ae.ndist,ae.distcode,0,ae.work,Gt),ae.distbits=Gt.bits,Nt){we.msg="invalid distances set",ae.mode=Q;break}if(ae.mode=ue,Ce===c)break e;case ue:ae.mode=ce;case ce:if(Ae>=6&&F>=258){we.next_out=ye,we.avail_out=F,we.next_in=w,we.avail_in=Ae,ae.hold=pe,ae.bits=Oe,g(we,Fe),ye=we.next_out,qe=we.output,F=we.avail_out,w=we.next_in,Be=we.input,Ae=we.avail_in,pe=ae.hold,Oe=ae.bits,ae.mode===X&&(ae.back=-1);break}for(ae.back=0;vt=ae.lencode[pe&(1<<ae.lenbits)-1],ht=vt>>>24,_t=vt>>>16&255,xt=vt&65535,!(ht<=Oe);){if(Ae===0)break e;Ae--,pe+=Be[w++]<<Oe,Oe+=8}if(_t&&(_t&240)===0){for(bt=ht,br=_t,Er=xt;vt=ae.lencode[Er+((pe&(1<<bt+br)-1)>>bt)],ht=vt>>>24,_t=vt>>>16&255,xt=vt&65535,!(bt+ht<=Oe);){if(Ae===0)break e;Ae--,pe+=Be[w++]<<Oe,Oe+=8}pe>>>=bt,Oe-=bt,ae.back+=bt}if(pe>>>=ht,Oe-=ht,ae.back+=ht,ae.length=xt,_t===0){ae.mode=fe;break}if(_t&32){ae.back=-1,ae.mode=X;break}if(_t&64){we.msg="invalid literal/length code",ae.mode=Q;break}ae.extra=_t&15,ae.mode=ve;case ve:if(ae.extra){for(jt=ae.extra;Oe<jt;){if(Ae===0)break e;Ae--,pe+=Be[w++]<<Oe,Oe+=8}ae.length+=pe&(1<<ae.extra)-1,pe>>>=ae.extra,Oe-=ae.extra,ae.back+=ae.extra}ae.was=ae.length,ae.mode=_e;case _e:for(;vt=ae.distcode[pe&(1<<ae.distbits)-1],ht=vt>>>24,_t=vt>>>16&255,xt=vt&65535,!(ht<=Oe);){if(Ae===0)break e;Ae--,pe+=Be[w++]<<Oe,Oe+=8}if((_t&240)===0){for(bt=ht,br=_t,Er=xt;vt=ae.distcode[Er+((pe&(1<<bt+br)-1)>>bt)],ht=vt>>>24,_t=vt>>>16&255,xt=vt&65535,!(bt+ht<=Oe);){if(Ae===0)break e;Ae--,pe+=Be[w++]<<Oe,Oe+=8}pe>>>=bt,Oe-=bt,ae.back+=bt}if(pe>>>=ht,Oe-=ht,ae.back+=ht,_t&64){we.msg="invalid distance code",ae.mode=Q;break}ae.offset=xt,ae.extra=_t&15,ae.mode=Re;case Re:if(ae.extra){for(jt=ae.extra;Oe<jt;){if(Ae===0)break e;Ae--,pe+=Be[w++]<<Oe,Oe+=8}ae.offset+=pe&(1<<ae.extra)-1,pe>>>=ae.extra,Oe-=ae.extra,ae.back+=ae.extra}if(ae.offset>ae.dmax){we.msg="invalid distance too far back",ae.mode=Q;break}ae.mode=he;case he:if(F===0)break e;if(Je=Fe-F,ae.offset>Je){if(Je=ae.offset-Je,Je>ae.whave&&ae.sane){we.msg="invalid distance too far back",ae.mode=Q;break}Je>ae.wnext?(Je-=ae.wnext,tt=ae.wsize-Je):tt=ae.wnext-Je,Je>ae.length&&(Je=ae.length),Tt=ae.window}else Tt=qe,tt=ye-ae.offset,Je=ae.length;Je>F&&(Je=F),F-=Je,ae.length-=Je;do qe[ye++]=Tt[tt++];while(--Je);ae.length===0&&(ae.mode=ce);break;case fe:if(F===0)break e;qe[ye++]=ae.length,F--,ae.mode=ce;break;case ne:if(ae.wrap){for(;Oe<32;){if(Ae===0)break e;Ae--,pe|=Be[w++]<<Oe,Oe+=8}if(Fe-=F,we.total_out+=Fe,ae.total+=Fe,Fe&&(we.adler=ae.check=ae.flags?d(ae.check,qe,Fe,ye-Fe):y(ae.check,qe,Fe,ye-Fe)),Fe=F,(ae.flags?pe:ie(pe))!==ae.check){we.msg="incorrect data check",ae.mode=Q;break}pe=0,Oe=0}ae.mode=se;case se:if(ae.wrap&&ae.flags){for(;Oe<32;){if(Ae===0)break e;Ae--,pe+=Be[w++]<<Oe,Oe+=8}if(pe!==(ae.total&4294967295)){we.msg="incorrect length check",ae.mode=Q;break}pe=0,Oe=0}ae.mode=oe;case oe:Nt=l;break e;case Q:Nt=m;break e;case I:return v;case L:default:return p}return we.next_out=ye,we.avail_out=F,we.next_in=w,we.avail_in=Ae,ae.hold=pe,ae.bits=Oe,(ae.wsize||Fe!==we.avail_out&&ae.mode<Q&&(ae.mode<ne||Ce!==r))&&$e(we,we.output,we.next_out,Fe-we.avail_out),Ge-=we.avail_in,Fe-=we.avail_out,we.total_in+=Ge,we.total_out+=Fe,ae.total+=Fe,ae.wrap&&Fe&&(we.adler=ae.check=ae.flags?d(ae.check,qe,Fe,we.next_out-Fe):y(ae.check,qe,Fe,we.next_out-Fe)),we.data_type=ae.bits+(ae.last?64:0)+(ae.mode===X?128:0)+(ae.mode===ue||ae.mode===ee?256:0),(Ge===0&&Fe===0||Ce===r)&&Nt===o&&(Nt=_),Nt}function be(we){if(!we||!we.state)return p;var Ce=we.state;return Ce.window&&(Ce.window=null),we.state=null,o}function Se(we,Ce){var ae;return!we||!we.state||(ae=we.state,(ae.wrap&2)===0)?p:(ae.head=Ce,Ce.done=!1,o)}function Le(we,Ce){var ae=Ce.length,Be,qe,w;return!we||!we.state||(Be=we.state,Be.wrap!==0&&Be.mode!==B)?p:Be.mode===B&&(qe=1,qe=y(qe,Ce,ae,0),qe!==Be.check)?m:(w=$e(we,Ce,ae,ae),w?(Be.mode=I,v):(Be.havedict=1,o))}S.inflateReset=Me,S.inflateReset2=je,S.inflateResetKeep=xe,S.inflateInit=He,S.inflateInit2=Ze,S.inflate=G,S.inflateEnd=be,S.inflateGetHeader=Se,S.inflateSetDictionary=Le,S.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":36,"./adler32":37,"./crc32":39,"./inffast":41,"./inftrees":43}],43:[function(A,W,S){var k=A("../utils/common"),y=15,d=852,g=592,u=0,s=1,a=2,n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];W.exports=function(l,i,p,m,v,_,b,E){var x=E.bits,M=0,O=0,j=0,T=0,U=0,H=0,D=0,P=0,B=0,X=0,V,q,ee,Z,J,K=null,re=0,ue,ce=new k.Buf16(y+1),ve=new k.Buf16(y+1),_e=null,Re=0,he,fe,ne;for(M=0;M<=y;M++)ce[M]=0;for(O=0;O<m;O++)ce[i[p+O]]++;for(U=x,T=y;T>=1&&ce[T]===0;T--);if(U>T&&(U=T),T===0)return v[_++]=1<<24|64<<16|0,v[_++]=1<<24|64<<16|0,E.bits=1,0;for(j=1;j<T&&ce[j]===0;j++);for(U<j&&(U=j),P=1,M=1;M<=y;M++)if(P<<=1,P-=ce[M],P<0)return-1;if(P>0&&(l===u||T!==1))return-1;for(ve[1]=0,M=1;M<y;M++)ve[M+1]=ve[M]+ce[M];for(O=0;O<m;O++)i[p+O]!==0&&(b[ve[i[p+O]]++]=O);if(l===u?(K=_e=b,ue=19):l===s?(K=n,re-=257,_e=r,Re-=257,ue=256):(K=f,_e=c,ue=-1),X=0,O=0,M=j,J=_,H=U,D=0,ee=-1,B=1<<U,Z=B-1,l===s&&B>d||l===a&&B>g)return 1;for(;;){he=M-D,b[O]<ue?(fe=0,ne=b[O]):b[O]>ue?(fe=_e[Re+b[O]],ne=K[re+b[O]]):(fe=96,ne=0),V=1<<M-D,q=1<<H,j=q;do q-=V,v[J+(X>>D)+q]=he<<24|fe<<16|ne|0;while(q!==0);for(V=1<<M-1;X&V;)V>>=1;if(V!==0?(X&=V-1,X+=V):X=0,O++,--ce[M]===0){if(M===T)break;M=i[p+b[O]]}if(M>U&&(X&Z)!==ee){for(D===0&&(D=U),J+=j,H=M-D,P=1<<H;H+D<T&&(P-=ce[H+D],!(P<=0));)H++,P<<=1;if(B+=1<<H,l===s&&B>d||l===a&&B>g)return 1;ee=X&Z,v[ee]=U<<24|H<<16|J-_|0}}return X!==0&&(v[J+X]=M-D<<24|64<<16|0),E.bits=U,0}},{"../utils/common":36}],44:[function(A,W,S){W.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],45:[function(A,W,S){var k=A("../utils/common"),y=4,d=0,g=1,u=2;function s(G){for(var be=G.length;--be>=0;)G[be]=0}var a=0,n=1,r=2,f=3,c=258,o=29,l=256,i=l+1+o,p=30,m=19,v=2*i+1,_=15,b=16,E=7,x=256,M=16,O=17,j=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],U=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=512,B=new Array((i+2)*2);s(B);var X=new Array(p*2);s(X);var V=new Array(P);s(V);var q=new Array(c-f+1);s(q);var ee=new Array(o);s(ee);var Z=new Array(p);s(Z);function J(G,be,Se,Le,we){this.static_tree=G,this.extra_bits=be,this.extra_base=Se,this.elems=Le,this.max_length=we,this.has_stree=G&&G.length}var K,re,ue;function ce(G,be){this.dyn_tree=G,this.max_code=0,this.stat_desc=be}function ve(G){return G<256?V[G]:V[256+(G>>>7)]}function _e(G,be){G.pending_buf[G.pending++]=be&255,G.pending_buf[G.pending++]=be>>>8&255}function Re(G,be,Se){G.bi_valid>b-Se?(G.bi_buf|=be<<G.bi_valid&65535,_e(G,G.bi_buf),G.bi_buf=be>>b-G.bi_valid,G.bi_valid+=Se-b):(G.bi_buf|=be<<G.bi_valid&65535,G.bi_valid+=Se)}function he(G,be,Se){Re(G,Se[be*2],Se[be*2+1])}function fe(G,be){var Se=0;do Se|=G&1,G>>>=1,Se<<=1;while(--be>0);return Se>>>1}function ne(G){G.bi_valid===16?(_e(G,G.bi_buf),G.bi_buf=0,G.bi_valid=0):G.bi_valid>=8&&(G.pending_buf[G.pending++]=G.bi_buf&255,G.bi_buf>>=8,G.bi_valid-=8)}function se(G,be){var Se=be.dyn_tree,Le=be.max_code,we=be.stat_desc.static_tree,Ce=be.stat_desc.has_stree,ae=be.stat_desc.extra_bits,Be=be.stat_desc.extra_base,qe=be.stat_desc.max_length,w,ye,Ae,F,pe,Oe,Ge=0;for(F=0;F<=_;F++)G.bl_count[F]=0;for(Se[G.heap[G.heap_max]*2+1]=0,w=G.heap_max+1;w<v;w++)ye=G.heap[w],F=Se[Se[ye*2+1]*2+1]+1,F>qe&&(F=qe,Ge++),Se[ye*2+1]=F,!(ye>Le)&&(G.bl_count[F]++,pe=0,ye>=Be&&(pe=ae[ye-Be]),Oe=Se[ye*2],G.opt_len+=Oe*(F+pe),Ce&&(G.static_len+=Oe*(we[ye*2+1]+pe)));if(Ge!==0){do{for(F=qe-1;G.bl_count[F]===0;)F--;G.bl_count[F]--,G.bl_count[F+1]+=2,G.bl_count[qe]--,Ge-=2}while(Ge>0);for(F=qe;F!==0;F--)for(ye=G.bl_count[F];ye!==0;)Ae=G.heap[--w],!(Ae>Le)&&(Se[Ae*2+1]!==F&&(G.opt_len+=(F-Se[Ae*2+1])*Se[Ae*2],Se[Ae*2+1]=F),ye--)}}function oe(G,be,Se){var Le=new Array(_+1),we=0,Ce,ae;for(Ce=1;Ce<=_;Ce++)Le[Ce]=we=we+Se[Ce-1]<<1;for(ae=0;ae<=be;ae++){var Be=G[ae*2+1];Be!==0&&(G[ae*2]=fe(Le[Be]++,Be))}}function Q(){var G,be,Se,Le,we,Ce=new Array(_+1);for(Se=0,Le=0;Le<o-1;Le++)for(ee[Le]=Se,G=0;G<1<<T[Le];G++)q[Se++]=Le;for(q[Se-1]=Le,we=0,Le=0;Le<16;Le++)for(Z[Le]=we,G=0;G<1<<U[Le];G++)V[we++]=Le;for(we>>=7;Le<p;Le++)for(Z[Le]=we<<7,G=0;G<1<<U[Le]-7;G++)V[256+we++]=Le;for(be=0;be<=_;be++)Ce[be]=0;for(G=0;G<=143;)B[G*2+1]=8,G++,Ce[8]++;for(;G<=255;)B[G*2+1]=9,G++,Ce[9]++;for(;G<=279;)B[G*2+1]=7,G++,Ce[7]++;for(;G<=287;)B[G*2+1]=8,G++,Ce[8]++;for(oe(B,i+1,Ce),G=0;G<p;G++)X[G*2+1]=5,X[G*2]=fe(G,5);K=new J(B,T,l+1,i,_),re=new J(X,U,0,p,_),ue=new J(new Array(0),H,0,m,E)}function I(G){var be;for(be=0;be<i;be++)G.dyn_ltree[be*2]=0;for(be=0;be<p;be++)G.dyn_dtree[be*2]=0;for(be=0;be<m;be++)G.bl_tree[be*2]=0;G.dyn_ltree[x*2]=1,G.opt_len=G.static_len=0,G.last_lit=G.matches=0}function L(G){G.bi_valid>8?_e(G,G.bi_buf):G.bi_valid>0&&(G.pending_buf[G.pending++]=G.bi_buf),G.bi_buf=0,G.bi_valid=0}function te(G,be,Se,Le){L(G),_e(G,Se),_e(G,~Se),k.arraySet(G.pending_buf,G.window,be,Se,G.pending),G.pending+=Se}function $(G,be,Se,Le){var we=be*2,Ce=Se*2;return G[we]<G[Ce]||G[we]===G[Ce]&&Le[be]<=Le[Se]}function N(G,be,Se){for(var Le=G.heap[Se],we=Se<<1;we<=G.heap_len&&(we<G.heap_len&&$(be,G.heap[we+1],G.heap[we],G.depth)&&we++,!$(be,Le,G.heap[we],G.depth));)G.heap[Se]=G.heap[we],Se=we,we<<=1;G.heap[Se]=Le}function C(G,be,Se){var Le,we,Ce=0,ae,Be;if(G.last_lit!==0)do Le=G.pending_buf[G.d_buf+Ce*2]<<8|G.pending_buf[G.d_buf+Ce*2+1],we=G.pending_buf[G.l_buf+Ce],Ce++,Le===0?he(G,we,be):(ae=q[we],he(G,ae+l+1,be),Be=T[ae],Be!==0&&(we-=ee[ae],Re(G,we,Be)),Le--,ae=ve(Le),he(G,ae,Se),Be=U[ae],Be!==0&&(Le-=Z[ae],Re(G,Le,Be)));while(Ce<G.last_lit);he(G,x,be)}function ie(G,be){var Se=be.dyn_tree,Le=be.stat_desc.static_tree,we=be.stat_desc.has_stree,Ce=be.stat_desc.elems,ae,Be,qe=-1,w;for(G.heap_len=0,G.heap_max=v,ae=0;ae<Ce;ae++)Se[ae*2]!==0?(G.heap[++G.heap_len]=qe=ae,G.depth[ae]=0):Se[ae*2+1]=0;for(;G.heap_len<2;)w=G.heap[++G.heap_len]=qe<2?++qe:0,Se[w*2]=1,G.depth[w]=0,G.opt_len--,we&&(G.static_len-=Le[w*2+1]);for(be.max_code=qe,ae=G.heap_len>>1;ae>=1;ae--)N(G,Se,ae);w=Ce;do ae=G.heap[1],G.heap[1]=G.heap[G.heap_len--],N(G,Se,1),Be=G.heap[1],G.heap[--G.heap_max]=ae,G.heap[--G.heap_max]=Be,Se[w*2]=Se[ae*2]+Se[Be*2],G.depth[w]=(G.depth[ae]>=G.depth[Be]?G.depth[ae]:G.depth[Be])+1,Se[ae*2+1]=Se[Be*2+1]=w,G.heap[1]=w++,N(G,Se,1);while(G.heap_len>=2);G.heap[--G.heap_max]=G.heap[1],se(G,be),oe(Se,qe,G.bl_count)}function de(G,be,Se){var Le,we=-1,Ce,ae=be[0*2+1],Be=0,qe=7,w=4;for(ae===0&&(qe=138,w=3),be[(Se+1)*2+1]=65535,Le=0;Le<=Se;Le++)Ce=ae,ae=be[(Le+1)*2+1],!(++Be<qe&&Ce===ae)&&(Be<w?G.bl_tree[Ce*2]+=Be:Ce!==0?(Ce!==we&&G.bl_tree[Ce*2]++,G.bl_tree[M*2]++):Be<=10?G.bl_tree[O*2]++:G.bl_tree[j*2]++,Be=0,we=Ce,ae===0?(qe=138,w=3):Ce===ae?(qe=6,w=3):(qe=7,w=4))}function xe(G,be,Se){var Le,we=-1,Ce,ae=be[0*2+1],Be=0,qe=7,w=4;for(ae===0&&(qe=138,w=3),Le=0;Le<=Se;Le++)if(Ce=ae,ae=be[(Le+1)*2+1],!(++Be<qe&&Ce===ae)){if(Be<w)do he(G,Ce,G.bl_tree);while(--Be!==0);else Ce!==0?(Ce!==we&&(he(G,Ce,G.bl_tree),Be--),he(G,M,G.bl_tree),Re(G,Be-3,2)):Be<=10?(he(G,O,G.bl_tree),Re(G,Be-3,3)):(he(G,j,G.bl_tree),Re(G,Be-11,7));Be=0,we=Ce,ae===0?(qe=138,w=3):Ce===ae?(qe=6,w=3):(qe=7,w=4)}}function Me(G){var be;for(de(G,G.dyn_ltree,G.l_desc.max_code),de(G,G.dyn_dtree,G.d_desc.max_code),ie(G,G.bl_desc),be=m-1;be>=3&&G.bl_tree[D[be]*2+1]===0;be--);return G.opt_len+=3*(be+1)+5+5+4,be}function je(G,be,Se,Le){var we;for(Re(G,be-257,5),Re(G,Se-1,5),Re(G,Le-4,4),we=0;we<Le;we++)Re(G,G.bl_tree[D[we]*2+1],3);xe(G,G.dyn_ltree,be-1),xe(G,G.dyn_dtree,Se-1)}function Ze(G){var be=4093624447,Se;for(Se=0;Se<=31;Se++,be>>>=1)if(be&1&&G.dyn_ltree[Se*2]!==0)return d;if(G.dyn_ltree[9*2]!==0||G.dyn_ltree[10*2]!==0||G.dyn_ltree[13*2]!==0)return g;for(Se=32;Se<l;Se++)if(G.dyn_ltree[Se*2]!==0)return g;return d}var He=!1;function Ve(G){He||(Q(),He=!0),G.l_desc=new ce(G.dyn_ltree,K),G.d_desc=new ce(G.dyn_dtree,re),G.bl_desc=new ce(G.bl_tree,ue),G.bi_buf=0,G.bi_valid=0,I(G)}function We(G,be,Se,Le){Re(G,(a<<1)+(Le?1:0),3),te(G,be,Se)}function Ue(G){Re(G,n<<1,3),he(G,x,B),ne(G)}function et(G,be,Se,Le){var we,Ce,ae=0;G.level>0?(G.strm.data_type===u&&(G.strm.data_type=Ze(G)),ie(G,G.l_desc),ie(G,G.d_desc),ae=Me(G),we=G.opt_len+3+7>>>3,Ce=G.static_len+3+7>>>3,Ce<=we&&(we=Ce)):we=Ce=Se+5,Se+4<=we&&be!==-1?We(G,be,Se,Le):G.strategy===y||Ce===we?(Re(G,(n<<1)+(Le?1:0),3),C(G,B,X)):(Re(G,(r<<1)+(Le?1:0),3),je(G,G.l_desc.max_code+1,G.d_desc.max_code+1,ae+1),C(G,G.dyn_ltree,G.dyn_dtree)),I(G),Le&&L(G)}function $e(G,be,Se){return G.pending_buf[G.d_buf+G.last_lit*2]=be>>>8&255,G.pending_buf[G.d_buf+G.last_lit*2+1]=be&255,G.pending_buf[G.l_buf+G.last_lit]=Se&255,G.last_lit++,be===0?G.dyn_ltree[Se*2]++:(G.matches++,be--,G.dyn_ltree[(q[Se]+l+1)*2]++,G.dyn_dtree[ve(be)*2]++),G.last_lit===G.lit_bufsize-1}S._tr_init=Ve,S._tr_stored_block=We,S._tr_flush_block=et,S._tr_tally=$e,S._tr_align=Ue},{"../utils/common":36}],46:[function(A,W,S){function k(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}W.exports=k},{}],47:[function(A,W,S){arguments[4][33][0].apply(S,arguments)},{dup:33}],48:[function(A,W,S){(function(n){var y=A("base64-js"),d=A("ieee754"),g=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;S.Buffer=n,S.SlowBuffer=_,S.INSPECT_MAX_BYTES=50;var u=2147483647;S.kMaxLength=u,n.TYPED_ARRAY_SUPPORT=s(),!n.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var $=new Uint8Array(1),N={foo:function(){return 42}};return Object.setPrototypeOf(N,Uint8Array.prototype),Object.setPrototypeOf($,N),$.foo()===42}catch{return!1}}Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}});function a($){if($>u)throw new RangeError('The value "'+$+'" is invalid for option "size"');var N=new Uint8Array($);return Object.setPrototypeOf(N,n.prototype),N}function n($,N,C){if(typeof $=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return o($)}return r($,N,C)}typeof Symbol<"u"&&Symbol.species!=null&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),n.poolSize=8192;function r($,N,C){if(typeof $=="string")return l($,N);if(ArrayBuffer.isView($))return i($);if($==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $);if(I($,ArrayBuffer)||$&&I($.buffer,ArrayBuffer))return p($,N,C);if(typeof $=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ie=$.valueOf&&$.valueOf();if(ie!=null&&ie!==$)return n.from(ie,N,C);var de=m($);if(de)return de;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof $[Symbol.toPrimitive]=="function")return n.from($[Symbol.toPrimitive]("string"),N,C);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $)}n.from=function($,N,C){return r($,N,C)},Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array);function f($){if(typeof $!="number")throw new TypeError('"size" argument must be of type number');if($<0)throw new RangeError('The value "'+$+'" is invalid for option "size"')}function c($,N,C){return f($),$<=0?a($):N!==void 0?typeof C=="string"?a($).fill(N,C):a($).fill(N):a($)}n.alloc=function($,N,C){return c($,N,C)};function o($){return f($),a($<0?0:v($)|0)}n.allocUnsafe=function($){return o($)},n.allocUnsafeSlow=function($){return o($)};function l($,N){if((typeof N!="string"||N==="")&&(N="utf8"),!n.isEncoding(N))throw new TypeError("Unknown encoding: "+N);var C=b($,N)|0,ie=a(C),de=ie.write($,N);return de!==C&&(ie=ie.slice(0,de)),ie}function i($){for(var N=$.length<0?0:v($.length)|0,C=a(N),ie=0;ie<N;ie+=1)C[ie]=$[ie]&255;return C}function p($,N,C){if(N<0||$.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if($.byteLength<N+(C||0))throw new RangeError('"length" is outside of buffer bounds');var ie;return N===void 0&&C===void 0?ie=new Uint8Array($):C===void 0?ie=new Uint8Array($,N):ie=new Uint8Array($,N,C),Object.setPrototypeOf(ie,n.prototype),ie}function m($){if(n.isBuffer($)){var N=v($.length)|0,C=a(N);return C.length===0||$.copy(C,0,0,N),C}if($.length!==void 0)return typeof $.length!="number"||L($.length)?a(0):i($);if($.type==="Buffer"&&Array.isArray($.data))return i($.data)}function v($){if($>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return $|0}function _($){return+$!=$&&($=0),n.alloc(+$)}n.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==n.prototype},n.compare=function(N,C){if(I(N,Uint8Array)&&(N=n.from(N,N.offset,N.byteLength)),I(C,Uint8Array)&&(C=n.from(C,C.offset,C.byteLength)),!n.isBuffer(N)||!n.isBuffer(C))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===C)return 0;for(var ie=N.length,de=C.length,xe=0,Me=Math.min(ie,de);xe<Me;++xe)if(N[xe]!==C[xe]){ie=N[xe],de=C[xe];break}return ie<de?-1:de<ie?1:0},n.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(N,C){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return n.alloc(0);var ie;if(C===void 0)for(C=0,ie=0;ie<N.length;++ie)C+=N[ie].length;var de=n.allocUnsafe(C),xe=0;for(ie=0;ie<N.length;++ie){var Me=N[ie];if(I(Me,Uint8Array)&&(Me=n.from(Me)),!n.isBuffer(Me))throw new TypeError('"list" argument must be an Array of Buffers');Me.copy(de,xe),xe+=Me.length}return de};function b($,N){if(n.isBuffer($))return $.length;if(ArrayBuffer.isView($)||I($,ArrayBuffer))return $.byteLength;if(typeof $!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $);var C=$.length,ie=arguments.length>2&&arguments[2]===!0;if(!ie&&C===0)return 0;for(var de=!1;;)switch(N){case"ascii":case"latin1":case"binary":return C;case"utf8":case"utf-8":return fe($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C*2;case"hex":return C>>>1;case"base64":return oe($).length;default:if(de)return ie?-1:fe($).length;N=(""+N).toLowerCase(),de=!0}}n.byteLength=b;function E($,N,C){var ie=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((C===void 0||C>this.length)&&(C=this.length),C<=0)||(C>>>=0,N>>>=0,C<=N))return"";for($||($="utf8");;)switch($){case"hex":return J(this,N,C);case"utf8":case"utf-8":return X(this,N,C);case"ascii":return ee(this,N,C);case"latin1":case"binary":return Z(this,N,C);case"base64":return B(this,N,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,N,C);default:if(ie)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),ie=!0}}n.prototype._isBuffer=!0;function x($,N,C){var ie=$[N];$[N]=$[C],$[C]=ie}n.prototype.swap16=function(){var N=this.length;if(N%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var C=0;C<N;C+=2)x(this,C,C+1);return this},n.prototype.swap32=function(){var N=this.length;if(N%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var C=0;C<N;C+=4)x(this,C,C+3),x(this,C+1,C+2);return this},n.prototype.swap64=function(){var N=this.length;if(N%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var C=0;C<N;C+=8)x(this,C,C+7),x(this,C+1,C+6),x(this,C+2,C+5),x(this,C+3,C+4);return this},n.prototype.toString=function(){var N=this.length;return N===0?"":arguments.length===0?X(this,0,N):E.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(N){if(!n.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N?!0:n.compare(this,N)===0},n.prototype.inspect=function(){var N="",C=S.INSPECT_MAX_BYTES;return N=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim(),this.length>C&&(N+=" ... "),"<Buffer "+N+">"},g&&(n.prototype[g]=n.prototype.inspect),n.prototype.compare=function(N,C,ie,de,xe){if(I(N,Uint8Array)&&(N=n.from(N,N.offset,N.byteLength)),!n.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(C===void 0&&(C=0),ie===void 0&&(ie=N?N.length:0),de===void 0&&(de=0),xe===void 0&&(xe=this.length),C<0||ie>N.length||de<0||xe>this.length)throw new RangeError("out of range index");if(de>=xe&&C>=ie)return 0;if(de>=xe)return-1;if(C>=ie)return 1;if(C>>>=0,ie>>>=0,de>>>=0,xe>>>=0,this===N)return 0;for(var Me=xe-de,je=ie-C,Ze=Math.min(Me,je),He=this.slice(de,xe),Ve=N.slice(C,ie),We=0;We<Ze;++We)if(He[We]!==Ve[We]){Me=He[We],je=Ve[We];break}return Me<je?-1:je<Me?1:0};function M($,N,C,ie,de){if($.length===0)return-1;if(typeof C=="string"?(ie=C,C=0):C>2147483647?C=2147483647:C<-2147483648&&(C=-2147483648),C=+C,L(C)&&(C=de?0:$.length-1),C<0&&(C=$.length+C),C>=$.length){if(de)return-1;C=$.length-1}else if(C<0)if(de)C=0;else return-1;if(typeof N=="string"&&(N=n.from(N,ie)),n.isBuffer(N))return N.length===0?-1:O($,N,C,ie,de);if(typeof N=="number")return N=N&255,typeof Uint8Array.prototype.indexOf=="function"?de?Uint8Array.prototype.indexOf.call($,N,C):Uint8Array.prototype.lastIndexOf.call($,N,C):O($,[N],C,ie,de);throw new TypeError("val must be string, number or Buffer")}function O($,N,C,ie,de){var xe=1,Me=$.length,je=N.length;if(ie!==void 0&&(ie=String(ie).toLowerCase(),ie==="ucs2"||ie==="ucs-2"||ie==="utf16le"||ie==="utf-16le")){if($.length<2||N.length<2)return-1;xe=2,Me/=2,je/=2,C/=2}function Ze(et,$e){return xe===1?et[$e]:et.readUInt16BE($e*xe)}var He;if(de){var Ve=-1;for(He=C;He<Me;He++)if(Ze($,He)===Ze(N,Ve===-1?0:He-Ve)){if(Ve===-1&&(Ve=He),He-Ve+1===je)return Ve*xe}else Ve!==-1&&(He-=He-Ve),Ve=-1}else for(C+je>Me&&(C=Me-je),He=C;He>=0;He--){for(var We=!0,Ue=0;Ue<je;Ue++)if(Ze($,He+Ue)!==Ze(N,Ue)){We=!1;break}if(We)return He}return-1}n.prototype.includes=function(N,C,ie){return this.indexOf(N,C,ie)!==-1},n.prototype.indexOf=function(N,C,ie){return M(this,N,C,ie,!0)},n.prototype.lastIndexOf=function(N,C,ie){return M(this,N,C,ie,!1)};function j($,N,C,ie){C=Number(C)||0;var de=$.length-C;ie?(ie=Number(ie),ie>de&&(ie=de)):ie=de;var xe=N.length;ie>xe/2&&(ie=xe/2);for(var Me=0;Me<ie;++Me){var je=parseInt(N.substr(Me*2,2),16);if(L(je))return Me;$[C+Me]=je}return Me}function T($,N,C,ie){return Q(fe(N,$.length-C),$,C,ie)}function U($,N,C,ie){return Q(ne(N),$,C,ie)}function H($,N,C,ie){return U($,N,C,ie)}function D($,N,C,ie){return Q(oe(N),$,C,ie)}function P($,N,C,ie){return Q(se(N,$.length-C),$,C,ie)}n.prototype.write=function(N,C,ie,de){if(C===void 0)de="utf8",ie=this.length,C=0;else if(ie===void 0&&typeof C=="string")de=C,ie=this.length,C=0;else if(isFinite(C))C=C>>>0,isFinite(ie)?(ie=ie>>>0,de===void 0&&(de="utf8")):(de=ie,ie=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var xe=this.length-C;if((ie===void 0||ie>xe)&&(ie=xe),N.length>0&&(ie<0||C<0)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");de||(de="utf8");for(var Me=!1;;)switch(de){case"hex":return j(this,N,C,ie);case"utf8":case"utf-8":return T(this,N,C,ie);case"ascii":return U(this,N,C,ie);case"latin1":case"binary":return H(this,N,C,ie);case"base64":return D(this,N,C,ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,N,C,ie);default:if(Me)throw new TypeError("Unknown encoding: "+de);de=(""+de).toLowerCase(),Me=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B($,N,C){return N===0&&C===$.length?y.fromByteArray($):y.fromByteArray($.slice(N,C))}function X($,N,C){C=Math.min($.length,C);for(var ie=[],de=N;de<C;){var xe=$[de],Me=null,je=xe>239?4:xe>223?3:xe>191?2:1;if(de+je<=C){var Ze,He,Ve,We;switch(je){case 1:xe<128&&(Me=xe);break;case 2:Ze=$[de+1],(Ze&192)===128&&(We=(xe&31)<<6|Ze&63,We>127&&(Me=We));break;case 3:Ze=$[de+1],He=$[de+2],(Ze&192)===128&&(He&192)===128&&(We=(xe&15)<<12|(Ze&63)<<6|He&63,We>2047&&(We<55296||We>57343)&&(Me=We));break;case 4:Ze=$[de+1],He=$[de+2],Ve=$[de+3],(Ze&192)===128&&(He&192)===128&&(Ve&192)===128&&(We=(xe&15)<<18|(Ze&63)<<12|(He&63)<<6|Ve&63,We>65535&&We<1114112&&(Me=We))}}Me===null?(Me=65533,je=1):Me>65535&&(Me-=65536,ie.push(Me>>>10&1023|55296),Me=56320|Me&1023),ie.push(Me),de+=je}return q(ie)}var V=4096;function q($){var N=$.length;if(N<=V)return String.fromCharCode.apply(String,$);for(var C="",ie=0;ie<N;)C+=String.fromCharCode.apply(String,$.slice(ie,ie+=V));return C}function ee($,N,C){var ie="";C=Math.min($.length,C);for(var de=N;de<C;++de)ie+=String.fromCharCode($[de]&127);return ie}function Z($,N,C){var ie="";C=Math.min($.length,C);for(var de=N;de<C;++de)ie+=String.fromCharCode($[de]);return ie}function J($,N,C){var ie=$.length;(!N||N<0)&&(N=0),(!C||C<0||C>ie)&&(C=ie);for(var de="",xe=N;xe<C;++xe)de+=te[$[xe]];return de}function K($,N,C){for(var ie=$.slice(N,C),de="",xe=0;xe<ie.length;xe+=2)de+=String.fromCharCode(ie[xe]+ie[xe+1]*256);return de}n.prototype.slice=function(N,C){var ie=this.length;N=~~N,C=C===void 0?ie:~~C,N<0?(N+=ie,N<0&&(N=0)):N>ie&&(N=ie),C<0?(C+=ie,C<0&&(C=0)):C>ie&&(C=ie),C<N&&(C=N);var de=this.subarray(N,C);return Object.setPrototypeOf(de,n.prototype),de};function re($,N,C){if($%1!==0||$<0)throw new RangeError("offset is not uint");if($+N>C)throw new RangeError("Trying to access beyond buffer length")}n.prototype.readUIntLE=function(N,C,ie){N=N>>>0,C=C>>>0,ie||re(N,C,this.length);for(var de=this[N],xe=1,Me=0;++Me<C&&(xe*=256);)de+=this[N+Me]*xe;return de},n.prototype.readUIntBE=function(N,C,ie){N=N>>>0,C=C>>>0,ie||re(N,C,this.length);for(var de=this[N+--C],xe=1;C>0&&(xe*=256);)de+=this[N+--C]*xe;return de},n.prototype.readUInt8=function(N,C){return N=N>>>0,C||re(N,1,this.length),this[N]},n.prototype.readUInt16LE=function(N,C){return N=N>>>0,C||re(N,2,this.length),this[N]|this[N+1]<<8},n.prototype.readUInt16BE=function(N,C){return N=N>>>0,C||re(N,2,this.length),this[N]<<8|this[N+1]},n.prototype.readUInt32LE=function(N,C){return N=N>>>0,C||re(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+this[N+3]*16777216},n.prototype.readUInt32BE=function(N,C){return N=N>>>0,C||re(N,4,this.length),this[N]*16777216+(this[N+1]<<16|this[N+2]<<8|this[N+3])},n.prototype.readIntLE=function(N,C,ie){N=N>>>0,C=C>>>0,ie||re(N,C,this.length);for(var de=this[N],xe=1,Me=0;++Me<C&&(xe*=256);)de+=this[N+Me]*xe;return xe*=128,de>=xe&&(de-=Math.pow(2,8*C)),de},n.prototype.readIntBE=function(N,C,ie){N=N>>>0,C=C>>>0,ie||re(N,C,this.length);for(var de=C,xe=1,Me=this[N+--de];de>0&&(xe*=256);)Me+=this[N+--de]*xe;return xe*=128,Me>=xe&&(Me-=Math.pow(2,8*C)),Me},n.prototype.readInt8=function(N,C){return N=N>>>0,C||re(N,1,this.length),this[N]&128?(255-this[N]+1)*-1:this[N]},n.prototype.readInt16LE=function(N,C){N=N>>>0,C||re(N,2,this.length);var ie=this[N]|this[N+1]<<8;return ie&32768?ie|4294901760:ie},n.prototype.readInt16BE=function(N,C){N=N>>>0,C||re(N,2,this.length);var ie=this[N+1]|this[N]<<8;return ie&32768?ie|4294901760:ie},n.prototype.readInt32LE=function(N,C){return N=N>>>0,C||re(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},n.prototype.readInt32BE=function(N,C){return N=N>>>0,C||re(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},n.prototype.readFloatLE=function(N,C){return N=N>>>0,C||re(N,4,this.length),d.read(this,N,!0,23,4)},n.prototype.readFloatBE=function(N,C){return N=N>>>0,C||re(N,4,this.length),d.read(this,N,!1,23,4)},n.prototype.readDoubleLE=function(N,C){return N=N>>>0,C||re(N,8,this.length),d.read(this,N,!0,52,8)},n.prototype.readDoubleBE=function(N,C){return N=N>>>0,C||re(N,8,this.length),d.read(this,N,!1,52,8)};function ue($,N,C,ie,de,xe){if(!n.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>de||N<xe)throw new RangeError('"value" argument is out of bounds');if(C+ie>$.length)throw new RangeError("Index out of range")}n.prototype.writeUIntLE=function(N,C,ie,de){if(N=+N,C=C>>>0,ie=ie>>>0,!de){var xe=Math.pow(2,8*ie)-1;ue(this,N,C,ie,xe,0)}var Me=1,je=0;for(this[C]=N&255;++je<ie&&(Me*=256);)this[C+je]=N/Me&255;return C+ie},n.prototype.writeUIntBE=function(N,C,ie,de){if(N=+N,C=C>>>0,ie=ie>>>0,!de){var xe=Math.pow(2,8*ie)-1;ue(this,N,C,ie,xe,0)}var Me=ie-1,je=1;for(this[C+Me]=N&255;--Me>=0&&(je*=256);)this[C+Me]=N/je&255;return C+ie},n.prototype.writeUInt8=function(N,C,ie){return N=+N,C=C>>>0,ie||ue(this,N,C,1,255,0),this[C]=N&255,C+1},n.prototype.writeUInt16LE=function(N,C,ie){return N=+N,C=C>>>0,ie||ue(this,N,C,2,65535,0),this[C]=N&255,this[C+1]=N>>>8,C+2},n.prototype.writeUInt16BE=function(N,C,ie){return N=+N,C=C>>>0,ie||ue(this,N,C,2,65535,0),this[C]=N>>>8,this[C+1]=N&255,C+2},n.prototype.writeUInt32LE=function(N,C,ie){return N=+N,C=C>>>0,ie||ue(this,N,C,4,4294967295,0),this[C+3]=N>>>24,this[C+2]=N>>>16,this[C+1]=N>>>8,this[C]=N&255,C+4},n.prototype.writeUInt32BE=function(N,C,ie){return N=+N,C=C>>>0,ie||ue(this,N,C,4,4294967295,0),this[C]=N>>>24,this[C+1]=N>>>16,this[C+2]=N>>>8,this[C+3]=N&255,C+4},n.prototype.writeIntLE=function(N,C,ie,de){if(N=+N,C=C>>>0,!de){var xe=Math.pow(2,8*ie-1);ue(this,N,C,ie,xe-1,-xe)}var Me=0,je=1,Ze=0;for(this[C]=N&255;++Me<ie&&(je*=256);)N<0&&Ze===0&&this[C+Me-1]!==0&&(Ze=1),this[C+Me]=(N/je>>0)-Ze&255;return C+ie},n.prototype.writeIntBE=function(N,C,ie,de){if(N=+N,C=C>>>0,!de){var xe=Math.pow(2,8*ie-1);ue(this,N,C,ie,xe-1,-xe)}var Me=ie-1,je=1,Ze=0;for(this[C+Me]=N&255;--Me>=0&&(je*=256);)N<0&&Ze===0&&this[C+Me+1]!==0&&(Ze=1),this[C+Me]=(N/je>>0)-Ze&255;return C+ie},n.prototype.writeInt8=function(N,C,ie){return N=+N,C=C>>>0,ie||ue(this,N,C,1,127,-128),N<0&&(N=255+N+1),this[C]=N&255,C+1},n.prototype.writeInt16LE=function(N,C,ie){return N=+N,C=C>>>0,ie||ue(this,N,C,2,32767,-32768),this[C]=N&255,this[C+1]=N>>>8,C+2},n.prototype.writeInt16BE=function(N,C,ie){return N=+N,C=C>>>0,ie||ue(this,N,C,2,32767,-32768),this[C]=N>>>8,this[C+1]=N&255,C+2},n.prototype.writeInt32LE=function(N,C,ie){return N=+N,C=C>>>0,ie||ue(this,N,C,4,2147483647,-2147483648),this[C]=N&255,this[C+1]=N>>>8,this[C+2]=N>>>16,this[C+3]=N>>>24,C+4},n.prototype.writeInt32BE=function(N,C,ie){return N=+N,C=C>>>0,ie||ue(this,N,C,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[C]=N>>>24,this[C+1]=N>>>16,this[C+2]=N>>>8,this[C+3]=N&255,C+4};function ce($,N,C,ie,de,xe){if(C+ie>$.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("Index out of range")}function ve($,N,C,ie,de){return N=+N,C=C>>>0,de||ce($,N,C,4),d.write($,N,C,ie,23,4),C+4}n.prototype.writeFloatLE=function(N,C,ie){return ve(this,N,C,!0,ie)},n.prototype.writeFloatBE=function(N,C,ie){return ve(this,N,C,!1,ie)};function _e($,N,C,ie,de){return N=+N,C=C>>>0,de||ce($,N,C,8),d.write($,N,C,ie,52,8),C+8}n.prototype.writeDoubleLE=function(N,C,ie){return _e(this,N,C,!0,ie)},n.prototype.writeDoubleBE=function(N,C,ie){return _e(this,N,C,!1,ie)},n.prototype.copy=function(N,C,ie,de){if(!n.isBuffer(N))throw new TypeError("argument should be a Buffer");if(ie||(ie=0),!de&&de!==0&&(de=this.length),C>=N.length&&(C=N.length),C||(C=0),de>0&&de<ie&&(de=ie),de===ie||N.length===0||this.length===0)return 0;if(C<0)throw new RangeError("targetStart out of bounds");if(ie<0||ie>=this.length)throw new RangeError("Index out of range");if(de<0)throw new RangeError("sourceEnd out of bounds");de>this.length&&(de=this.length),N.length-C<de-ie&&(de=N.length-C+ie);var xe=de-ie;if(this===N&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(C,ie,de);else if(this===N&&ie<C&&C<de)for(var Me=xe-1;Me>=0;--Me)N[Me+C]=this[Me+ie];else Uint8Array.prototype.set.call(N,this.subarray(ie,de),C);return xe},n.prototype.fill=function(N,C,ie,de){if(typeof N=="string"){if(typeof C=="string"?(de=C,C=0,ie=this.length):typeof ie=="string"&&(de=ie,ie=this.length),de!==void 0&&typeof de!="string")throw new TypeError("encoding must be a string");if(typeof de=="string"&&!n.isEncoding(de))throw new TypeError("Unknown encoding: "+de);if(N.length===1){var xe=N.charCodeAt(0);(de==="utf8"&&xe<128||de==="latin1")&&(N=xe)}}else typeof N=="number"?N=N&255:typeof N=="boolean"&&(N=Number(N));if(C<0||this.length<C||this.length<ie)throw new RangeError("Out of range index");if(ie<=C)return this;C=C>>>0,ie=ie===void 0?this.length:ie>>>0,N||(N=0);var Me;if(typeof N=="number")for(Me=C;Me<ie;++Me)this[Me]=N;else{var je=n.isBuffer(N)?N:n.from(N,de),Ze=je.length;if(Ze===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(Me=0;Me<ie-C;++Me)this[Me+C]=je[Me%Ze]}return this};var Re=/[^+/0-9A-Za-z-_]/g;function he($){if($=$.split("=")[0],$=$.trim().replace(Re,""),$.length<2)return"";for(;$.length%4!==0;)$=$+"=";return $}function fe($,N){N=N||1/0;for(var C,ie=$.length,de=null,xe=[],Me=0;Me<ie;++Me){if(C=$.charCodeAt(Me),C>55295&&C<57344){if(!de){if(C>56319){(N-=3)>-1&&xe.push(239,191,189);continue}else if(Me+1===ie){(N-=3)>-1&&xe.push(239,191,189);continue}de=C;continue}if(C<56320){(N-=3)>-1&&xe.push(239,191,189),de=C;continue}C=(de-55296<<10|C-56320)+65536}else de&&(N-=3)>-1&&xe.push(239,191,189);if(de=null,C<128){if((N-=1)<0)break;xe.push(C)}else if(C<2048){if((N-=2)<0)break;xe.push(C>>6|192,C&63|128)}else if(C<65536){if((N-=3)<0)break;xe.push(C>>12|224,C>>6&63|128,C&63|128)}else if(C<1114112){if((N-=4)<0)break;xe.push(C>>18|240,C>>12&63|128,C>>6&63|128,C&63|128)}else throw new Error("Invalid code point")}return xe}function ne($){for(var N=[],C=0;C<$.length;++C)N.push($.charCodeAt(C)&255);return N}function se($,N){for(var C,ie,de,xe=[],Me=0;Me<$.length&&!((N-=2)<0);++Me)C=$.charCodeAt(Me),ie=C>>8,de=C%256,xe.push(de),xe.push(ie);return xe}function oe($){return y.toByteArray(he($))}function Q($,N,C,ie){for(var de=0;de<ie&&!(de+C>=N.length||de>=$.length);++de)N[de+C]=$[de];return de}function I($,N){return $ instanceof N||$!=null&&$.constructor!=null&&$.constructor.name!=null&&$.constructor.name===N.name}function L($){return $!==$}var te=function(){for(var $="0123456789abcdef",N=new Array(256),C=0;C<16;++C)for(var ie=C*16,de=0;de<16;++de)N[ie+de]=$[C]+$[de];return N}()}).call(this,A("buffer").Buffer)},{"base64-js":29,buffer:48,ieee754:73}],49:[function(A,W,S){var k=A("buffer").Buffer;W.exports=function(y,d){if(k.isBuffer(y)&&k.isBuffer(d)){if(typeof y.equals=="function")return y.equals(d);if(y.length!==d.length)return!1;for(var g=0;g<y.length;g++)if(y[g]!==d[g])return!1;return!0}}},{buffer:48}],50:[function(A,W,S){W.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],51:[function(A,W,S){(function(k){function y(v){return Array.isArray?Array.isArray(v):m(v)==="[object Array]"}S.isArray=y;function d(v){return typeof v=="boolean"}S.isBoolean=d;function g(v){return v===null}S.isNull=g;function u(v){return v==null}S.isNullOrUndefined=u;function s(v){return typeof v=="number"}S.isNumber=s;function a(v){return typeof v=="string"}S.isString=a;function n(v){return typeof v=="symbol"}S.isSymbol=n;function r(v){return v===void 0}S.isUndefined=r;function f(v){return m(v)==="[object RegExp]"}S.isRegExp=f;function c(v){return typeof v=="object"&&v!==null}S.isObject=c;function o(v){return m(v)==="[object Date]"}S.isDate=o;function l(v){return m(v)==="[object Error]"||v instanceof Error}S.isError=l;function i(v){return typeof v=="function"}S.isFunction=i;function p(v){return v===null||typeof v=="boolean"||typeof v=="number"||typeof v=="string"||typeof v=="symbol"||typeof v>"u"}S.isPrimitive=p,S.isBuffer=k.isBuffer;function m(v){return Object.prototype.toString.call(v)}}).call(this,{isBuffer:A("../../is-buffer/index.js")})},{"../../is-buffer/index.js":76}],52:[function(A,W,S){var k=Object.create||M,y=Object.keys||O,d=Function.prototype.bind||j;function g(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=k(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}W.exports=g,g.EventEmitter=g,g.prototype._events=void 0,g.prototype._maxListeners=void 0;var u=10,s;try{var a={};Object.defineProperty&&Object.defineProperty(a,"x",{value:0}),s=a.x===0}catch{s=!1}s?Object.defineProperty(g,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(T){if(typeof T!="number"||T<0||T!==T)throw new TypeError('"defaultMaxListeners" must be a positive number');u=T}}):g.defaultMaxListeners=u,g.prototype.setMaxListeners=function(U){if(typeof U!="number"||U<0||isNaN(U))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=U,this};function n(T){return T._maxListeners===void 0?g.defaultMaxListeners:T._maxListeners}g.prototype.getMaxListeners=function(){return n(this)};function r(T,U,H){if(U)T.call(H);else for(var D=T.length,P=E(T,D),B=0;B<D;++B)P[B].call(H)}function f(T,U,H,D){if(U)T.call(H,D);else for(var P=T.length,B=E(T,P),X=0;X<P;++X)B[X].call(H,D)}function c(T,U,H,D,P){if(U)T.call(H,D,P);else for(var B=T.length,X=E(T,B),V=0;V<B;++V)X[V].call(H,D,P)}function o(T,U,H,D,P,B){if(U)T.call(H,D,P,B);else for(var X=T.length,V=E(T,X),q=0;q<X;++q)V[q].call(H,D,P,B)}function l(T,U,H,D){if(U)T.apply(H,D);else for(var P=T.length,B=E(T,P),X=0;X<P;++X)B[X].apply(H,D)}g.prototype.emit=function(U){var H,D,P,B,X,V,q=U==="error";if(V=this._events,V)q=q&&V.error==null;else if(!q)return!1;if(q){if(arguments.length>1&&(H=arguments[1]),H instanceof Error)throw H;var ee=new Error('Unhandled "error" event. ('+H+")");throw ee.context=H,ee}if(D=V[U],!D)return!1;var Z=typeof D=="function";switch(P=arguments.length,P){case 1:r(D,Z,this);break;case 2:f(D,Z,this,arguments[1]);break;case 3:c(D,Z,this,arguments[1],arguments[2]);break;case 4:o(D,Z,this,arguments[1],arguments[2],arguments[3]);break;default:for(B=new Array(P-1),X=1;X<P;X++)B[X-1]=arguments[X];l(D,Z,this,B)}return!0};function i(T,U,H,D){var P,B,X;if(typeof H!="function")throw new TypeError('"listener" argument must be a function');if(B=T._events,B?(B.newListener&&(T.emit("newListener",U,H.listener?H.listener:H),B=T._events),X=B[U]):(B=T._events=k(null),T._eventsCount=0),!X)X=B[U]=H,++T._eventsCount;else if(typeof X=="function"?X=B[U]=D?[H,X]:[X,H]:D?X.unshift(H):X.push(H),!X.warned&&(P=n(T),P&&P>0&&X.length>P)){X.warned=!0;var V=new Error("Possible EventEmitter memory leak detected. "+X.length+' "'+String(U)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');V.name="MaxListenersExceededWarning",V.emitter=T,V.type=U,V.count=X.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",V.name,V.message)}return T}g.prototype.addListener=function(U,H){return i(this,U,H,!1)},g.prototype.on=g.prototype.addListener,g.prototype.prependListener=function(U,H){return i(this,U,H,!0)};function p(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var T=new Array(arguments.length),U=0;U<T.length;++U)T[U]=arguments[U];this.listener.apply(this.target,T)}}function m(T,U,H){var D={fired:!1,wrapFn:void 0,target:T,type:U,listener:H},P=d.call(p,D);return P.listener=H,D.wrapFn=P,P}g.prototype.once=function(U,H){if(typeof H!="function")throw new TypeError('"listener" argument must be a function');return this.on(U,m(this,U,H)),this},g.prototype.prependOnceListener=function(U,H){if(typeof H!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(U,m(this,U,H)),this},g.prototype.removeListener=function(U,H){var D,P,B,X,V;if(typeof H!="function")throw new TypeError('"listener" argument must be a function');if(P=this._events,!P)return this;if(D=P[U],!D)return this;if(D===H||D.listener===H)--this._eventsCount===0?this._events=k(null):(delete P[U],P.removeListener&&this.emit("removeListener",U,D.listener||H));else if(typeof D!="function"){for(B=-1,X=D.length-1;X>=0;X--)if(D[X]===H||D[X].listener===H){V=D[X].listener,B=X;break}if(B<0)return this;B===0?D.shift():b(D,B),D.length===1&&(P[U]=D[0]),P.removeListener&&this.emit("removeListener",U,V||H)}return this},g.prototype.removeAllListeners=function(U){var H,D,P;if(D=this._events,!D)return this;if(!D.removeListener)return arguments.length===0?(this._events=k(null),this._eventsCount=0):D[U]&&(--this._eventsCount===0?this._events=k(null):delete D[U]),this;if(arguments.length===0){var B=y(D),X;for(P=0;P<B.length;++P)X=B[P],X!=="removeListener"&&this.removeAllListeners(X);return this.removeAllListeners("removeListener"),this._events=k(null),this._eventsCount=0,this}if(H=D[U],typeof H=="function")this.removeListener(U,H);else if(H)for(P=H.length-1;P>=0;P--)this.removeListener(U,H[P]);return this};function v(T,U,H){var D=T._events;if(!D)return[];var P=D[U];return P?typeof P=="function"?H?[P.listener||P]:[P]:H?x(P):E(P,P.length):[]}g.prototype.listeners=function(U){return v(this,U,!0)},g.prototype.rawListeners=function(U){return v(this,U,!1)},g.listenerCount=function(T,U){return typeof T.listenerCount=="function"?T.listenerCount(U):_.call(T,U)},g.prototype.listenerCount=_;function _(T){var U=this._events;if(U){var H=U[T];if(typeof H=="function")return 1;if(H)return H.length}return 0}g.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function b(T,U){for(var H=U,D=H+1,P=T.length;D<P;H+=1,D+=1)T[H]=T[D];T.pop()}function E(T,U){for(var H=new Array(U),D=0;D<U;++D)H[D]=T[D];return H}function x(T){for(var U=new Array(T.length),H=0;H<U.length;++H)U[H]=T[H].listener||T[H];return U}function M(T){var U=function(){};return U.prototype=T,new U}function O(T){for(var U in T)Object.prototype.hasOwnProperty.call(T,U);return U}function j(T){var U=this;return function(){return U.apply(T,arguments)}}},{}],53:[function(A,W,S){var k=A("./lib/parser");function y(){return(0,eval)("this")}W.exports={create:function(d,g){if(g=g||y(),d instanceof g.ArrayBuffer){var u=A("./lib/dom-bufferstream");return new k(new u(d,0,d.byteLength,!0,g))}else{var s=A("./lib/bufferstream");return new k(new s(d,0,d.length,!0))}}}},{"./lib/bufferstream":54,"./lib/dom-bufferstream":56,"./lib/parser":60}],54:[function(A,W,S){function k(y,d,g,u){this.buffer=y,this.offset=d||0,g=typeof g=="number"?g:y.length,this.endPosition=this.offset+g,this.setBigEndian(u)}k.prototype={setBigEndian:function(y){this.bigEndian=!!y},nextUInt8:function(){var y=this.buffer.readUInt8(this.offset);return this.offset+=1,y},nextInt8:function(){var y=this.buffer.readInt8(this.offset);return this.offset+=1,y},nextUInt16:function(){var y=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,y},nextUInt32:function(){var y=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,y},nextInt16:function(){var y=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,y},nextInt32:function(){var y=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,y},nextFloat:function(){var y=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,y},nextDouble:function(){var y=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,y},nextBuffer:function(y){var d=this.buffer.slice(this.offset,this.offset+y);return this.offset+=y,d},remainingLength:function(){return this.endPosition-this.offset},nextString:function(y){var d=this.buffer.toString("utf8",this.offset,this.offset+y);return this.offset+=y,d},mark:function(){var y=this;return{openWithOffset:function(d){return d=(d||0)+this.offset,new k(y.buffer,d,y.endPosition-d,y.bigEndian)},offset:this.offset}},offsetFrom:function(y){return this.offset-y.offset},skip:function(y){this.offset+=y},branch:function(y,d){return d=typeof d=="number"?d:this.endPosition-(this.offset+y),new k(this.buffer,this.offset+y,d,this.bigEndian)}},W.exports=k},{}],55:[function(A,W,S){function k(n){return parseInt(n,10)}var y=3600,d=60;function g(n,r){n=n.map(k),r=r.map(k);var f=n[0],c=n[1]-1,o=n[2],l=r[0],i=r[1],p=r[2],m=Date.UTC(f,c,o,l,i,p,0),v=m/1e3;return v}function u(n){var r=n.substr(0,10).split("-"),f=n.substr(11,8).split(":"),c=n.substr(19,6),o=c.split(":").map(k),l=o[0]*y+o[1]*d,i=g(r,f);if(i-=l,typeof i=="number"&&!isNaN(i))return i}function s(n){var r=n.split(" "),f=r[0].split(":"),c=r[1].split(":"),o=g(f,c);if(typeof o=="number"&&!isNaN(o))return o}function a(n){var r=n.length===19&&n.charAt(4)===":",f=n.length===25&&n.charAt(10)==="T";if(f)return u(n);if(r)return s(n)}W.exports={parseDateWithSpecFormat:s,parseDateWithTimezoneFormat:u,parseExifDate:a}},{}],56:[function(A,W,S){function k(y,d,g,u,s,a){this.global=s,d=d||0,g=g||y.byteLength-d,this.arrayBuffer=y.slice(d,d+g),this.view=new s.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(u),this.offset=0,this.parentOffset=(a||0)+d}k.prototype={setBigEndian:function(y){this.littleEndian=!y},nextUInt8:function(){var y=this.view.getUint8(this.offset);return this.offset+=1,y},nextInt8:function(){var y=this.view.getInt8(this.offset);return this.offset+=1,y},nextUInt16:function(){var y=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,y},nextUInt32:function(){var y=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,y},nextInt16:function(){var y=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,y},nextInt32:function(){var y=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,y},nextFloat:function(){var y=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,y},nextDouble:function(){var y=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,y},nextBuffer:function(y){var d=this.arrayBuffer.slice(this.offset,this.offset+y);return this.offset+=y,d},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(y){var d=this.arrayBuffer.slice(this.offset,this.offset+y);return d=String.fromCharCode.apply(null,new this.global.Uint8Array(d)),this.offset+=y,d},mark:function(){var y=this;return{openWithOffset:function(d){return d=(d||0)+this.offset,new k(y.arrayBuffer,d,y.arrayBuffer.byteLength-d,!y.littleEndian,y.global,y.parentOffset)},offset:this.offset,getParentOffset:function(){return y.parentOffset}}},offsetFrom:function(y){return this.parentOffset+this.offset-(y.offset+y.getParentOffset())},skip:function(y){this.offset+=y},branch:function(y,d){return d=typeof d=="number"?d:this.arrayBuffer.byteLength-(this.offset+y),new k(this.arrayBuffer,this.offset+y,d,!this.littleEndian,this.global,this.parentOffset)}},W.exports=k},{}],57:[function(A,W,S){W.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}}},{}],58:[function(A,W,S){function k(s,a){switch(s){case 1:return a.nextUInt8();case 3:return a.nextUInt16();case 4:return a.nextUInt32();case 5:return[a.nextUInt32(),a.nextUInt32()];case 6:return a.nextInt8();case 8:return a.nextUInt16();case 9:return a.nextUInt32();case 10:return[a.nextInt32(),a.nextInt32()];case 11:return a.nextFloat();case 12:return a.nextDouble();default:throw new Error("Invalid format while decoding: "+s)}}function y(s){switch(s){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function d(s,a){var n=a.nextUInt16(),r=a.nextUInt16(),f=y(r),c=a.nextUInt32(),o=f*c,l,i;if(o>4&&(a=s.openWithOffset(a.nextUInt32())),r===2){l=a.nextString(c);var p=l.indexOf("\0");p!==-1&&(l=l.substr(0,p))}else if(r===7)l=a.nextBuffer(c);else if(r!==0)for(l=[],i=0;i<c;++i)l.push(k(r,a));return o<4&&a.skip(4-o),[n,l,r]}function g(s,a,n){var r=a.nextUInt16(),f,c;for(c=0;c<r;++c)f=d(s,a),n(f[0],f[1],f[2])}function u(s){var a=s.nextString(6);if(a!=="Exif\0\0")throw new Error("Invalid EXIF header");var n=s.mark(),r=s.nextUInt16();if(r===18761)s.setBigEndian(!1);else if(r===19789)s.setBigEndian(!0);else throw new Error("Invalid TIFF header");if(s.nextUInt16()!==42)throw new Error("Invalid TIFF data");return n}W.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(s,a){var n;try{n=u(s)}catch{return!1}var r,f,c,o=n.openWithOffset(s.nextUInt32()),l=this.IFD0;g(n,o,function(E,x,M){switch(E){case 34853:f=x[0];break;case 34665:r=x[0];break;default:a(l,E,x,M);break}});var i=o.nextUInt32();if(i!==0){var p=n.openWithOffset(i);g(n,p,a.bind(null,this.IFD1))}if(f){var m=n.openWithOffset(f);g(n,m,a.bind(null,this.GPSIFD))}if(r){var v=n.openWithOffset(r),_=this.InteropIFD;g(n,v,function(E,x,M){E===40965?c=x[0]:a(_,E,x,M)})}if(c){var b=n.openWithOffset(c);g(n,b,a.bind(null,this.InteropIFD))}return!0}}},{}],59:[function(A,W,S){W.exports={parseSections:function(k,y){var d,g;for(k.setBigEndian(!0);k.remainingLength()>0&&g!==218;){if(k.nextUInt8()!==255)throw new Error("Invalid JPEG section offset");g=k.nextUInt8(),g>=208&&g<=217||g===218?d=0:d=k.nextUInt16()-2,y(g,k.branch(0,d)),k.skip(d)}},getSizeFromSOFSection:function(k){return k.skip(1),{height:k.nextUInt16(),width:k.nextUInt16()}},getSectionName:function(k){var y,d;switch(k){case 216:y="SOI";break;case 196:y="DHT";break;case 219:y="DQT";break;case 221:y="DRI";break;case 218:y="SOS";break;case 254:y="COM";break;case 217:y="EOI";break;default:k>=224&&k<=239?(y="APP",d=k-224):k>=192&&k<=207&&k!==196&&k!==200&&k!==204?(y="SOF",d=k-192):k>=208&&k<=215&&(y="RST",d=k-208);break}var g={name:y};return typeof d=="number"&&(g.index=d),g}}},{}],60:[function(A,W,S){var k=A("./jpeg"),y=A("./exif"),d=A("./simplify");function g(s,a,n,r,f,c,o){this.startMarker=s,this.tags=a,this.imageSize=n,this.thumbnailOffset=r,this.thumbnailLength=f,this.thumbnailType=c,this.app1Offset=o}g.prototype={hasThumbnail:function(s){return!this.thumbnailOffset||!this.thumbnailLength?!1:typeof s!="string"?!0:s.toLowerCase().trim()==="image/jpeg"?this.thumbnailType===6:s.toLowerCase().trim()==="image/tiff"?this.thumbnailType===1:!1},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var s=this._getThumbnailStream(),a;return k.parseSections(s,function(n,r){k.getSectionName(n).name==="SOF"&&(a=k.getSizeFromSOFSection(r))}),a}};function u(s){this.stream=s,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}u.prototype={enableBinaryFields:function(s){return this.flags.readBinaryTags=!!s,this},enablePointers:function(s){return this.flags.hidePointers=!s,this},enableTagNames:function(s){return this.flags.resolveTagNames=!!s,this},enableImageSize:function(s){return this.flags.imageSize=!!s,this},enableReturnTags:function(s){return this.flags.returnTags=!!s,this},enableSimpleValues:function(s){return this.flags.simplifyValues=!!s,this},parse:function(){var s=this.stream.mark(),a=s.openWithOffset(0),n=this.flags,r,f,c,o,l,i,p,m,v;return n.resolveTagNames&&(p=A("./exif-tags")),n.resolveTagNames?(r={},m=function(_){return r[_.name]},v=function(_,b){r[_.name]=b}):(r=[],m=function(_){var b;for(b=0;b<r.length;++b)if(r[b].type===_.type&&r[b].section===_.section)return r.value},v=function(_,b){var E;for(E=0;E<r.length;++E)if(r[E].type===_.type&&r[E].section===_.section){r.value=b;return}}),k.parseSections(a,function(_,b){var E,x=b.offsetFrom(s);_===225?(E=y.parseTags(b,function(M,O,j,T){if(!(!n.readBinaryTags&&T===7)){if(O===513){if(c=j[0],n.hidePointers)return}else if(O===514){if(o=j[0],n.hidePointers)return}else if(O===259&&(l=j[0],n.hidePointers))return;if(n.returnTags)if(n.simplifyValues&&(j=d.simplifyValue(j,T)),n.resolveTagNames){var U=M===y.GPSIFD?p.gps:p.exif,H=U[O];H||(H=p.exif[O]),r.hasOwnProperty(H)||(r[H]=j)}else r.push({section:M,type:O,value:j})}}),E&&(i=x)):n.imageSize&&k.getSectionName(_).name==="SOF"&&(f=k.getSizeFromSOFSection(b))}),n.simplifyValues&&(d.castDegreeValues(m,v),d.castDateValues(m,v)),new g(s,r,f,c,o,l,i)}},W.exports=u},{"./exif":58,"./exif-tags":57,"./jpeg":59,"./simplify":61}],61:[function(A,W,S){var k=A("./exif"),y=A("./date"),d=[{section:k.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:k.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],g=[{section:k.SubIFD,type:306,name:"ModifyDate"},{section:k.SubIFD,type:36867,name:"DateTimeOriginal"},{section:k.SubIFD,type:36868,name:"CreateDate"},{section:k.SubIFD,type:306,name:"ModifyDate"}];W.exports={castDegreeValues:function(u,s){d.forEach(function(a){var n=u(a);if(n){var r=u({section:a.section,type:a.refType,name:a.refName}),f=r===a.posVal?1:-1,c=(n[0]+n[1]/60+n[2]/3600)*f;s(a,c)}})},castDateValues:function(u,s){g.forEach(function(a){var n=u(a);if(n){var r=y.parseExifDate(n);typeof r<"u"&&s(a,r)}})},simplifyValue:function(u,s){return Array.isArray(u)&&(u=u.map(function(a){return s===10||s===5?a[0]/a[1]:a}),u.length===1&&(u=u[0])),u}}},{"./date":55,"./exif":58}],62:[function(A,W,S){var k=A("@babel/runtime/helpers/interopRequireDefault"),y=k(A("@babel/runtime/helpers/toConsumableArray")),d=function(n){return(0,y.default)(n).map(function(r){return r.charCodeAt(0)})},g=d("META-INF/mozilla.rsa"),u=d("[Content_Types].xml"),s=d("_rels/.rels");W.exports=function(a){var n=a instanceof Uint8Array?a:new Uint8Array(a);if(!(n&&n.length>1))return null;var r=function(M,O){O=Object.assign({offset:0},O);for(var j=0;j<M.length;j++)if(O.mask){if(M[j]!==(O.mask[j]&n[j+O.offset]))return!1}else if(M[j]!==n[j+O.offset])return!1;return!0},f=function(M,O){return r(d(M),O)};if(r([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(r([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(r([71,73,70]))return{ext:"gif",mime:"image/gif"};if(r([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(r([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((r([73,73,42,0])||r([77,77,0,42]))&&r([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(r([73,73,42,0])||r([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(r([66,77]))return{ext:"bmp",mime:"image/bmp"};if(r([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(r([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(r([80,75,3,4])){if(r([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(r(g,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(f("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(f("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(f("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};var c=function(M){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return M.findIndex(function(j,T,U){return T>=O&&U[T]===80&&U[T+1]===75&&U[T+2]===3&&U[T+3]===4})},o=0,l=!1,i=null;do{var p=o+30;if(l||(l=r(u,{offset:p})||r(s,{offset:p})),i||(f("word/",{offset:p})?i={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:f("ppt/",{offset:p})?i={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:f("xl/",{offset:p})&&(i={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),l&&i)return i;o=c(n,p)}while(o>=0);if(i)return i}if(r([80,75])&&(n[2]===3||n[2]===5||n[2]===7)&&(n[3]===4||n[3]===6||n[3]===8))return{ext:"zip",mime:"application/zip"};if(r([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(r([82,97,114,33,26,7])&&(n[6]===0||n[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(r([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(r([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(r([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(r([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(r([51,103,112,53])||r([0,0,0])&&r([102,116,121,112],{offset:4})&&(r([109,112,52,49],{offset:8})||r([109,112,52,50],{offset:8})||r([105,115,111,109],{offset:8})||r([105,115,111,50],{offset:8})||r([109,109,112,52],{offset:8})||r([77,52,86],{offset:8})||r([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(r([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(r([26,69,223,163])){var m=n.subarray(4,4100),v=m.findIndex(function(x,M,O){return O[M]===66&&O[M+1]===130});if(v!==-1){var _=v+3,b=function(M){return(0,y.default)(M).every(function(O,j){return m[_+j]===O.charCodeAt(0)})};if(b("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(b("webm"))return{ext:"webm",mime:"video/webm"}}}if(r([0,0,0,20,102,116,121,112,113,116,32,32])||r([102,114,101,101],{offset:4})||r([102,116,121,112,113,116,32,32],{offset:4})||r([109,100,97,116],{offset:4})||r([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(r([82,73,70,70])){if(r([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(r([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(r([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(r([48,38,178,117,142,102,207,17,166,217]))return{ext:"wmv",mime:"video/x-ms-wmv"};if(r([0,0,1,186])||r([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(r([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(var E=0;E<2&&E<n.length-16;E++){if(r([73,68,51],{offset:E})||r([255,226],{offset:E,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(r([255,228],{offset:E,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(r([255,248],{offset:E,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(r([255,240],{offset:E,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(r([102,116,121,112,77,52,65],{offset:4})||r([77,52,65,32]))return{ext:"m4a",mime:"audio/mp4"};if(r([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(r([79,103,103,83]))return r([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:r([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:r([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:r([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:r([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(r([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(r([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(r([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(r([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(r([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(r([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((n[0]===67||n[0]===70)&&r([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(r([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(r([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(r([119,79,70,70])&&(r([0,1,0,0],{offset:4})||r([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(r([119,79,70,50])&&(r([0,1,0,0],{offset:4})||r([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(r([76,80],{offset:34})&&(r([0,0,1],{offset:8})||r([1,0,2],{offset:8})||r([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(r([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(r([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(r([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(r([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(r([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(r([37,33]))return{ext:"ps",mime:"application/postscript"};if(r([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(r([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(r([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(r([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(r([77,83,67,70])||r([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(r([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(r([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(r([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(r([31,160])||r([31,157]))return{ext:"Z",mime:"application/x-compress"};if(r([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(r([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(r([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(r([71],{offset:4})&&(r([71],{offset:192})||r([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(r([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(r([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(r([0,0,0,12,106,80,32,32,13,10,135,10])){if(r([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(r([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(r([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(r([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(r([70,79,82,77,0]))return{ext:"aif",mime:"audio/aiff"};if(f("<?xml "))return{ext:"xml",mime:"application/xml"};if(r([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(r([102,116,121,112],{offset:4})){if(r([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(r([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(r([104,101,105,99],{offset:8})||r([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(r([104,101,118,99],{offset:8})||r([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return r([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:null}},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20}],63:[function(A,W,S){var k=A("is-callable"),y=Object.prototype.toString,d=Object.prototype.hasOwnProperty,g=function(r,f,c){for(var o=0,l=r.length;o<l;o++)d.call(r,o)&&(c==null?f(r[o],o,r):f.call(c,r[o],o,r))},u=function(r,f,c){for(var o=0,l=r.length;o<l;o++)c==null?f(r.charAt(o),o,r):f.call(c,r.charAt(o),o,r)},s=function(r,f,c){for(var o in r)d.call(r,o)&&(c==null?f(r[o],o,r):f.call(c,r[o],o,r))},a=function(r,f,c){if(!k(f))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=c),y.call(r)==="[object Array]"?g(r,f,o):typeof r=="string"?u(r,f,o):s(r,f,o)};W.exports=a},{"is-callable":77}],64:[function(A,W,S){function k(u,s,a,f){var r=0,f=f===void 0?{}:f,c=f.loop===void 0?null:f.loop,o=f.palette===void 0?null:f.palette;if(s<=0||a<=0||s>65535||a>65535)throw new Error("Width/Height invalid.");function l(x){var M=x.length;if(M<2||M>256||M&M-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return M}u[r++]=71,u[r++]=73,u[r++]=70,u[r++]=56,u[r++]=57,u[r++]=97;var i=0,p=0;if(o!==null){for(var m=l(o);m>>=1;)++i;if(m=1<<i,--i,f.background!==void 0){if(p=f.background,p>=m)throw new Error("Background index out of range.");if(p===0)throw new Error("Background index explicitly passed as 0.")}}if(u[r++]=s&255,u[r++]=s>>8&255,u[r++]=a&255,u[r++]=a>>8&255,u[r++]=(o!==null?128:0)|i,u[r++]=p,u[r++]=0,o!==null)for(var v=0,_=o.length;v<_;++v){var b=o[v];u[r++]=b>>16&255,u[r++]=b>>8&255,u[r++]=b&255}if(c!==null){if(c<0||c>65535)throw new Error("Loop count invalid.");u[r++]=33,u[r++]=255,u[r++]=11,u[r++]=78,u[r++]=69,u[r++]=84,u[r++]=83,u[r++]=67,u[r++]=65,u[r++]=80,u[r++]=69,u[r++]=50,u[r++]=46,u[r++]=48,u[r++]=3,u[r++]=1,u[r++]=c&255,u[r++]=c>>8&255,u[r++]=0}var E=!1;this.addFrame=function(x,M,O,j,T,U){if(E===!0&&(--r,E=!1),U=U===void 0?{}:U,x<0||M<0||x>65535||M>65535)throw new Error("x/y invalid.");if(O<=0||j<=0||O>65535||j>65535)throw new Error("Width/Height invalid.");if(T.length<O*j)throw new Error("Not enough pixels for the frame size.");var H=!0,D=U.palette;if(D==null&&(H=!1,D=o),D==null)throw new Error("Must supply either a local or global palette.");for(var P=l(D),B=0;P>>=1;)++B;P=1<<B;var X=U.delay===void 0?0:U.delay,V=U.disposal===void 0?0:U.disposal;if(V<0||V>3)throw new Error("Disposal out of range.");var q=!1,ee=0;if(U.transparent!==void 0&&U.transparent!==null&&(q=!0,ee=U.transparent,ee<0||ee>=P))throw new Error("Transparent color index.");if((V!==0||q||X!==0)&&(u[r++]=33,u[r++]=249,u[r++]=4,u[r++]=V<<2|(q===!0?1:0),u[r++]=X&255,u[r++]=X>>8&255,u[r++]=ee,u[r++]=0),u[r++]=44,u[r++]=x&255,u[r++]=x>>8&255,u[r++]=M&255,u[r++]=M>>8&255,u[r++]=O&255,u[r++]=O>>8&255,u[r++]=j&255,u[r++]=j>>8&255,u[r++]=H===!0?128|B-1:0,H===!0)for(var Z=0,J=D.length;Z<J;++Z){var K=D[Z];u[r++]=K>>16&255,u[r++]=K>>8&255,u[r++]=K&255}return r=y(u,r,B<2?2:B,T),r},this.end=function(){return E===!1&&(u[r++]=59,E=!0),r},this.getOutputBuffer=function(){return u},this.setOutputBuffer=function(x){u=x},this.getOutputBufferPosition=function(){return r},this.setOutputBufferPosition=function(x){r=x}}function y(u,s,a,n){u[s++]=a;var r=s++,f=1<<a,c=f-1,o=f+1,l=o+1,i=a+1,p=0,m=0;function v(U){for(;p>=U;)u[s++]=m&255,m>>=8,p-=8,s===r+256&&(u[r]=255,r=s++)}function _(U){m|=U<<p,p+=i,v(8)}var b=n[0]&c,E={};_(f);for(var x=1,M=n.length;x<M;++x){var O=n[x]&c,j=b<<8|O,T=E[j];if(T===void 0){for(m|=b<<p,p+=i;p>=8;)u[s++]=m&255,m>>=8,p-=8,s===r+256&&(u[r]=255,r=s++);l===4096?(_(f),l=o+1,i=a+1,E={}):(l>=1<<i&&++i,E[j]=l++),b=O}else b=T}return _(b),_(o),v(1),r+1===s?u[r]=0:(u[r]=s-r-1,u[s++]=0),s}function d(u){var s=0;if(u[s++]!==71||u[s++]!==73||u[s++]!==70||u[s++]!==56||(u[s++]+1&253)!==56||u[s++]!==97)throw new Error("Invalid GIF 87a/89a header.");var a=u[s++]|u[s++]<<8,n=u[s++]|u[s++]<<8,r=u[s++],f=r>>7,c=r&7,o=1<<c+1;u[s++],u[s++];var l=null,i=null;f&&(l=s,i=o,s+=o*3);var p=!0,m=[],v=0,_=null,b=0,E=null;for(this.width=a,this.height=n;p&&s<u.length;)switch(u[s++]){case 33:switch(u[s++]){case 255:if(u[s]!==11||u[s+1]==78&&u[s+2]==69&&u[s+3]==84&&u[s+4]==83&&u[s+5]==67&&u[s+6]==65&&u[s+7]==80&&u[s+8]==69&&u[s+9]==50&&u[s+10]==46&&u[s+11]==48&&u[s+12]==3&&u[s+13]==1&&u[s+16]==0)s+=14,E=u[s++]|u[s++]<<8,s++;else for(s+=12;;){var x=u[s++];if(!(x>=0))throw Error("Invalid block size");if(x===0)break;s+=x}break;case 249:if(u[s++]!==4||u[s+4]!==0)throw new Error("Invalid graphics extension block.");var M=u[s++];v=u[s++]|u[s++]<<8,_=u[s++],(M&1)===0&&(_=null),b=M>>2&7,s++;break;case 254:for(;;){var x=u[s++];if(!(x>=0))throw Error("Invalid block size");if(x===0)break;s+=x}break;default:throw new Error("Unknown graphic control label: 0x"+u[s-1].toString(16))}break;case 44:var O=u[s++]|u[s++]<<8,j=u[s++]|u[s++]<<8,T=u[s++]|u[s++]<<8,U=u[s++]|u[s++]<<8,H=u[s++],D=H>>7,P=H>>6&1,B=H&7,X=1<<B+1,V=l,q=i,ee=!1;if(D){var ee=!0;V=s,q=X,s+=X*3}var Z=s;for(s++;;){var x=u[s++];if(!(x>=0))throw Error("Invalid block size");if(x===0)break;s+=x}m.push({x:O,y:j,width:T,height:U,has_local_palette:ee,palette_offset:V,palette_size:q,data_offset:Z,data_length:s-Z,transparent_index:_,interlaced:!!P,delay:v,disposal:b});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+u[s-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return E},this.frameInfo=function(J){if(J<0||J>=m.length)throw new Error("Frame index out of range.");return m[J]},this.decodeAndBlitFrameBGRA=function(J,K){var re=this.frameInfo(J),ue=re.width*re.height,ce=new Uint8Array(ue);g(u,re.data_offset,ce,ue);var ve=re.palette_offset,_e=re.transparent_index;_e===null&&(_e=256);var Re=re.width,he=a-Re,fe=Re,ne=(re.y*a+re.x)*4,se=((re.y+re.height)*a+re.x)*4,oe=ne,Q=he*4;re.interlaced===!0&&(Q+=a*4*7);for(var I=8,L=0,te=ce.length;L<te;++L){var $=ce[L];if(fe===0&&(oe+=Q,fe=Re,oe>=se&&(Q=he*4+a*4*(I-1),oe=ne+(Re+he)*(I<<1),I>>=1)),$===_e)oe+=4;else{var N=u[ve+$*3],C=u[ve+$*3+1],ie=u[ve+$*3+2];K[oe++]=ie,K[oe++]=C,K[oe++]=N,K[oe++]=255}--fe}},this.decodeAndBlitFrameRGBA=function(J,K){var re=this.frameInfo(J),ue=re.width*re.height,ce=new Uint8Array(ue);g(u,re.data_offset,ce,ue);var ve=re.palette_offset,_e=re.transparent_index;_e===null&&(_e=256);var Re=re.width,he=a-Re,fe=Re,ne=(re.y*a+re.x)*4,se=((re.y+re.height)*a+re.x)*4,oe=ne,Q=he*4;re.interlaced===!0&&(Q+=a*4*7);for(var I=8,L=0,te=ce.length;L<te;++L){var $=ce[L];if(fe===0&&(oe+=Q,fe=Re,oe>=se&&(Q=he*4+a*4*(I-1),oe=ne+(Re+he)*(I<<1),I>>=1)),$===_e)oe+=4;else{var N=u[ve+$*3],C=u[ve+$*3+1],ie=u[ve+$*3+2];K[oe++]=N,K[oe++]=C,K[oe++]=ie,K[oe++]=255}--fe}}}function g(u,s,a,n){for(var r=u[s++],f=1<<r,c=f+1,o=c+1,l=r+1,i=(1<<l)-1,p=0,m=0,v=0,_=u[s++],b=new Int32Array(4096),E=null;;){for(;p<16&&_!==0;)m|=u[s++]<<p,p+=8,_===1?_=u[s++]:--_;if(p<l)break;var x=m&i;if(m>>=l,p-=l,x===f){o=c+1,l=r+1,i=(1<<l)-1,E=null;continue}else if(x===c)break;for(var M=x<o?x:E,O=0,j=M;j>f;)j=b[j]>>8,++O;var T=j,U=v+O+(M!==x?1:0);if(U>n){console.log("Warning, gif stream longer than expected.");return}a[v++]=T,v+=O;var H=v;for(M!==x&&(a[v++]=T),j=M;O--;)j=b[j],a[--H]=j&255,j>>=8;E!==null&&o<4096&&(b[o++]=E<<8|T,o>=i+1&&l<12&&(++l,i=i<<1|1)),E=x}return v!==n&&console.log("Warning, gif stream shorter than expected."),a}try{S.GifWriter=k,S.GifReader=d}catch{}},{}],65:[function(A,W,S){(function(k){class y{constructor(...g){if(g.length===0)throw new Error("constructor requires parameters");const u=g[0];if(u!==null&&typeof u=="object")if(u instanceof y){const s=u.bitmap;this.bitmap={width:s.width,height:s.height,data:new k(s.width*s.height*4)},s.data.copy(this.bitmap.data)}else if(u.width&&u.height&&u.data)this.bitmap=u;else throw new Error("unrecognized constructor parameters");else if(typeof u=="number"&&typeof g[1]=="number"){const s=u,a=g[1],n=g[2];this.bitmap={width:s,height:a},k.isBuffer(n)?this.bitmap.data=n:(this.bitmap.data=new k(s*a*4),typeof n=="number"&&this.fillRGBA(n))}else throw new Error("unrecognized constructor parameters")}blit(g,u,s,a,n,r,f){if(a+r>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if(u+r>g.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(n+f>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(s+f>g.bitmap.height)throw new Erro("copy exceeds height of target bitmap");const c=this.bitmap.data,o=g.bitmap.data,l=this.bitmap.width*4,i=g.bitmap.width*4,p=r*4;let m=n*l+a*4,v=s*i+u*4;for(;--f>=0;)c.copy(o,v,m,m+p),m+=l,v+=i;return this}fillRGBA(g){const u=this.bitmap.data,s=this.bitmap.height*4;let a=0;for(;a<s;)u.writeUInt32BE(g,a),a+=4;for(;a<u.length;)u.copy(u,a,0,s),a+=s;return this}getRGBA(g,u){const s=(u*this.bitmap.width+g)*4;return this.bitmap.data.readUInt32BE(s)}getRGBASet(){const g=new Set,u=this.bitmap.data;for(let s=0;s<u.length;s+=4)g.add(u.readUInt32BE(s,!0));return g}greyscale(){const g=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(u,s,a)=>{const n=Math.round(.299*g[a]+.587*g[a+1]+.114*g[a+2]);g[a]=n,g[a+1]=n,g[a+2]=n}),this}reframe(g,u,s,a,n){const r=g<0?0:g,f=u<0?0:u,c=s+r>this.bitmap.width?this.bitmap.width-r:s,o=a+f>this.bitmap.height?this.bitmap.height-f:a,l=g<0?-g:0,i=u<0?-u:0;let p;if(n===void 0){if(r!==g||f!=u||c!==s||o!==a)throw new GifError("fillRGBA required for this reframing");p=new y(s,a)}else p=new y(s,a,n);return this.blit(p,l,i,r,f,c,o),this.bitmap=p.bitmap,this}scale(g){if(g===1)return;if(!Number.isInteger(g)||g<1)throw new Error("the scale must be an integer >= 1");const u=this.bitmap.width,s=this.bitmap.height,a=u*g*4,n=this.bitmap.data,r=new k(s*a*g);let f=0,c,o=0;for(let l=0;l<s;++l){c=o;for(let i=0;i<u;++i){const p=n.readUInt32BE(f,!0);for(let m=0;m<g;++m)r.writeUInt32BE(p,o),o+=4;f+=4}for(let i=1;i<g;++i)r.copy(r,o,c,o),o+=a,c+=a}return this.bitmap={width:u*g,height:s*g,data:r},this}scanAllCoords(g){const u=this.bitmap.width,s=this.bitmap.data.length;let a=0,n=0;for(let r=0;r<s;r+=4)g(a,n,r),++a===u&&(a=0,++n)}scanAllIndexes(g){const u=this.bitmap.data.length;for(let s=0;s<u;s+=4)g(s)}}W.exports=y}).call(this,A("buffer").Buffer)},{buffer:48}],66:[function(A,W,S){class k{constructor(g,u,s){this.width=s.width,this.height=s.height,this.loops=s.loops,this.usesTransparency=s.usesTransparency,this.colorScope=s.colorScope,this.frames=u,this.buffer=g}}k.GlobalColorsPreferred=0,k.GlobalColorsOnly=1,k.LocalColorsOnly=2;class y extends Error{constructor(g){super(g),g instanceof Error&&(this.stack="Gif"+g.stack)}}S.Gif=k,S.GifError=y},{}],67:[function(A,W,S){(function(k,y){const d=A("omggif"),{Gif:g,GifError:u}=A("./gif");let s;k.nextTick(()=>{s=A("./gifutil")});const{GifFrame:a}=A("./gifframe"),n=200,r=100;class f{constructor(x={}){this._transparentRGB=null,typeof x.transparentRGB=="number"&&x.transparentRGB!==0&&(this._transparentRGBA=x.transparentRGB*256),this._testInitialBufferSize=0}decodeGif(x){try{let M;try{M=new d.GifReader(x)}catch(U){throw new u(U)}const O=M.numFrames(),j=[],T={width:M.width,height:M.height,loops:M.loopCount()};T.usesTransparency=!1;for(let U=0;U<O;++U){const H=this._decodeFrame(M,U,T.usesTransparency);j.push(H.frame),H.usesTransparency&&(T.usesTransparency=!0)}return Promise.resolve(new g(x,j,T))}catch(M){return Promise.reject(M)}}encodeGif(x,M={}){try{if(x===null||x.length===0)throw new u("there are no frames");const O=s.getMaxDimensions(x);return M=Object.assign({},M),M.width=O.maxWidth,M.height=O.maxHeight,M.loops=M.loops||0,M.colorScope=M.colorScope||g.GlobalColorsPreferred,Promise.resolve(this._encodeGif(x,M))}catch(O){return Promise.reject(O)}}_decodeFrame(x,M,O){let j,T;try{if(j=x.frameInfo(M),T=new y(x.width*x.height*4),x.decodeAndBlitFrameRGBA(M,T),j.width!==x.width||j.height!==x.height){if(j.y&&(T=T.slice(j.y*x.width*4)),x.width>j.width)for(let D=0;D<j.height;++D)T.copy(T,D*j.width*4,(j.x+D*x.width)*4,(j.x+D*x.width)*4+j.width*4);T=T.slice(0,j.width*j.height*4)}}catch(D){throw new u(D)}let U=!1;if(this._transparentRGBA===null){if(!O)for(let D=3;D<T.length;D+=4)T[D]===0&&(U=!0,D=T.length)}else for(let D=3;D<T.length;D+=4)T[D]===0&&(T.writeUInt32BE(this._transparentRGBA,D-3),U=!0);return{frame:new a(j.width,j.height,T,{xOffset:j.x,yOffset:j.y,disposalMethod:j.disposal,interlaced:j.interlaced,delayCentisecs:j.delay}),usesTransparency:U}}_encodeGif(x,M){let O;if(M.colorScope===g.LocalColorsOnly)O=s.getColorInfo(x,0);else if(O=s.getColorInfo(x,256),!O.colors){if(M.colorScope===g.GlobalColorsOnly)throw new u("Too many color indexes for global color table");M.colorScope=g.LocalColorsOnly}M.usesTransparency=O.usesTransparency;const j=O.palettes;return M.colorScope===g.LocalColorsOnly?i(x,M,2e3,j):l(x,M,2e3,O)}_getSizeEstimateGlobal(x,M){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let O=n+3*256;const j=_(x);return M.forEach(T=>{O+=m(T,j)}),O}_getSizeEstimateLocal(x,M){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let O=n;for(let j=0;j<M.length;++j){const T=x[j],U=_(T);O+=m(M[j],U)}return O}}S.GifCodec=f;function c(E,x){const M=E.indexOf(x);return M===-1?null:M}function o(E,x){for(var M=0,O=E.length-1,j;M<=O;)if(j=Math.floor((M+O)/2),E[j]>x)O=j-1;else if(E[j]<x)M=j+1;else return j;return null}function l(E,x,M,O){const j={colors:O.colors.slice(),usesTransparency:O.usesTransparency};p(j);const T={palette:j.colors,loop:x.loops};let U=new y(M),H;try{H=new d.GifWriter(U,x.width,x.height,T)}catch(D){throw new u(D)}for(let D=0;D<E.length;++D)U=b(H,D,E[D],O,!1);return new g(U.slice(0,H.end()),E,x)}function i(E,x,M,O){const j={loop:x.loops};let T=new y(M),U;try{U=new d.GifWriter(T,x.width,x.height,j)}catch(H){throw new u(H)}for(let H=0;H<E.length;++H)T=b(U,H,E[H],O[H],!0);return new g(T.slice(0,U.end()),E,x)}function p(E){const x=E.colors;E.usesTransparency&&x.push(0);const M=x.length;let O=2;for(;M>O;)O<<=1;x.length=O,x.fill(0,M)}function m(E,x){let M=E.bitmap.width*E.bitmap.height;return M=Math.ceil(M*x/8),M+=Math.ceil(M/255),r+M+3*256}function v(E,x,M){const O=M.colors,j=O.length<=8?c:o,T=x.bitmap.data,U=new y(T.length/4);let H=O.length,D=0,P=0;for(;D<T.length;){if(T[D+3]!==0){const B=T.readUInt32BE(D,!0)>>8&16777215;U[P]=j(O,B)}else U[P]=H;D+=4,++P}if(M.usesTransparency){if(H===256)throw new u(`Frame ${E} already has 256 colorsand so can't use transparency`)}else H=null;return{buffer:U,transparentIndex:H}}function _(E){let x=E.indexCount,M=0;for(--x;x;)++M,x>>=1;return M>0?M:1}function b(E,x,M,O,j){if(M.interlaced)throw new u("writing interlaced GIFs is not supported");const T=v(x,M,O),U={delay:M.delayCentisecs,disposal:M.disposalMethod,transparent:T.transparentIndex};j&&(p(O),U.palette=O.colors);try{let H=E.getOutputBuffer(),D=E.getOutputBufferPosition(),P,B=!0;for(;B;)if(P=E.addFrame(M.xOffset,M.yOffset,M.bitmap.width,M.bitmap.height,T.buffer,U),B=!1,P>=H.length-1){const X=new y(H.length*1.5);H.copy(X),E.setOutputBuffer(X),E.setOutputBufferPosition(D),H=X,B=!0}return H}catch(H){throw new u(H)}}}).call(this,A("_process"),A("buffer").Buffer)},{"./gif":66,"./gifframe":68,"./gifutil":69,_process:133,buffer:48,omggif:64}],68:[function(A,W,S){const k=A("./bitmapimage"),{GifError:y}=A("./gif");class d extends k{constructor(...u){if(super(...u),u[0]instanceof d){const s=u[0];this.xOffset=s.xOffset,this.yOffset=s.yOffset,this.disposalMethod=s.disposalMethod,this.delayCentisecs=s.delayCentisecs,this.interlaced=s.interlaced}else{const s=u[u.length-1];let a={};typeof s=="object"&&!(s instanceof k)&&(a=s),this.xOffset=a.xOffset||0,this.yOffset=a.yOffset||0,this.disposalMethod=a.disposalMethod!==void 0?a.disposalMethod:d.DisposeToBackgroundColor,this.delayCentisecs=a.delayCentisecs||8,this.interlaced=a.interlaced||!1}}getPalette(){const u=new Set,s=this.bitmap.data;let a=0,n=!1;for(;a<s.length;){if(s[a+3]===0)n=!0;else{const o=s.readUInt32BE(a,!0)>>8&16777215;u.add(o)}a+=4}const r=new Array(u.size),f=u.values();for(a=0;a<r.length;++a)r[a]=f.next().value;r.sort((o,l)=>o-l);let c=r.length;return n&&++c,{colors:r,usesTransparency:n,indexCount:c}}}d.DisposeToAnything=0,d.DisposeNothing=1,d.DisposeToBackgroundColor=2,d.DisposeToPrevious=3,S.GifFrame=d},{"./bitmapimage":65,"./gif":66}],69:[function(A,W,S){(function(k){const y=A("fs"),d=A("image-q"),g=A("./bitmapimage"),{GifFrame:u}=A("./gifframe"),{GifError:s}=A("./gif"),{GifCodec:a}=A("./gifcodec"),n=[".jpg",".jpeg",".png",".bmp"],r=new a;S.cloneFrames=function(l){let i=[];return l.forEach(p=>{i.push(new u(p))}),i},S.getColorInfo=function(l,i){let p=!1;const m=[];for(let x=0;x<l.length;++x){let M=l[x].getPalette();if(M.usesTransparency&&(p=!0),M.indexCount>256)throw new s(`Frame ${x} uses more than 256 color indexes`);m.push(M)}if(i===0)return{usesTransparency:p,palettes:m};const v=new Set;m.forEach(x=>{x.colors.forEach(M=>{v.add(M)})});let _=v.size;if(p&&++_,i&&_>i)return{usesTransparency:p,palettes:m};const b=new Array(v.size),E=v.values();for(let x=0;x<b.length;++x)b[x]=E.next().value;return b.sort((x,M)=>x-M),{colors:b,indexCount:_,usesTransparency:p,palettes:m}},S.copyAsJimp=function(l,i){return S.shareAsJimp(l,new g(i))},S.getMaxDimensions=function(l){let i=0,p=0;return l.forEach(m=>{const v=m.xOffset+m.bitmap.width;v>i&&(i=v);const _=m.yOffset+m.bitmap.height;_>p&&(p=_)}),{maxWidth:i,maxHeight:p}},S.quantizeDekker=function(l,i,p){i=i||256,f(l,"NeuQuantFloat",i,0,p)},S.quantizeSorokin=function(l,i,p,m){i=i||256,p=p||"min-pop";let v;switch(p){case"min-pop":v=2;break;case"top-pop":v=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${p}'`)}f(l,"RGBQuant",i,v,m)},S.quantizeWu=function(l,i,p,m){if(i=i||256,p=p||5,p<1||p>8)throw new Error("Invalid quantization quality");f(l,"WuQuant",i,p,m)},S.read=function(l,i){return i=i||r,k.isBuffer(l)?i.decodeGif(l):c(l).then(p=>i.decodeGif(p))},S.shareAsJimp=function(l,i){const p=new l(i.bitmap.width,i.bitmap.height,0);return p.bitmap.data=i.bitmap.data,p},S.write=function(l,i,p,m){m=m||r;const v=l.match(/\.[a-zA-Z]+$/);if(v!==null&&n.includes(v[0].toLowerCase()))throw new Error(`GIF '${l}' has an unexpected suffix`);return m.encodeGif(i,p).then(_=>o(l,_.buffer).then(()=>_))};function f(l,i,p,m,v){const _=Array.isArray(l)?l:[l],b=["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"];if(v){if(b.indexOf(v.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${v.ditherAlgorithm}'`);v.serpentine===void 0&&(v.serpentine=!0),v.minimumColorDistanceToDither===void 0&&(v.minimumColorDistanceToDither=0),v.calculateErrorLikeGIMP===void 0&&(v.calculateErrorLikeGIMP=!1)}const E=new d.distance.Euclidean,x=new d.palette[i](E,p,m);let M;v?M=new d.image.ErrorDiffusionArray(E,d.image.ErrorDiffusionArrayKernel[v.ditherAlgorithm],v.serpentine,v.minimumColorDistanceToDither,v.calculateErrorLikeGIMP):M=new d.image.NearestColor(E);const O=[];_.forEach(T=>{const U=T.bitmap.data,H=new ArrayBuffer(U.length),D=new Uint32Array(H);for(let B=0,X=0;B<U.length;B+=4,++X)D[X]=U.readUInt32LE(B,!0);const P=d.utils.PointContainer.fromUint32Array(D,T.bitmap.width,T.bitmap.height);x.sample(P),O.push(P)});const j=x.quantize();for(let T=0;T<_.length;++T){const U=_[T].bitmap.data,D=M.quantize(O[T],j).toUint32Array();for(let P=0,B=0;P<U.length;P+=4,++B)U.writeUInt32LE(D[B],P)}}function c(l){return new Promise((i,p)=>{y.readFile(l,(m,v)=>m?p(m):i(v))})}function o(l,i){return new Promise((p,m)=>{y.writeFile(l,i,v=>v?m(v):p())})}}).call(this,{isBuffer:A("../../is-buffer/index.js")})},{"../../is-buffer/index.js":76,"./bitmapimage":65,"./gif":66,"./gifcodec":67,"./gifframe":68,fs:47,"image-q":74}],70:[function(A,W,S){const k=A("./bitmapimage"),{Gif:y,GifError:d}=A("./gif"),{GifCodec:g}=A("./gifcodec"),{GifFrame:u}=A("./gifframe"),s=A("./gifutil");W.exports={BitmapImage:k,Gif:y,GifCodec:g,GifFrame:u,GifUtil:s,GifError:d}},{"./bitmapimage":65,"./gif":66,"./gifcodec":67,"./gifframe":68,"./gifutil":69}],71:[function(A,W,S){(function(k){var y;typeof ge<"u"?y=ge:typeof k<"u"?y=k:typeof self<"u"?y=self:y={},W.exports=y}).call(this,typeof wt<"u"?wt:typeof self<"u"?self:typeof ge<"u"?ge:{})},{}],72:[function(A,W,S){var k=A("http"),y=A("url"),d=W.exports;for(var g in k)k.hasOwnProperty(g)&&(d[g]=k[g]);d.request=function(s,a){return s=u(s),k.request.call(this,s,a)},d.get=function(s,a){return s=u(s),k.get.call(this,s,a)};function u(s){if(typeof s=="string"&&(s=y.parse(s)),s.protocol||(s.protocol="https:"),s.protocol!=="https:")throw new Error('Protocol "'+s.protocol+'" not supported. Expected "https:"');return s}},{http:156,url:180}],73:[function(A,W,S){S.read=function(k,y,d,g,u){var s,a,n=u*8-g-1,r=(1<<n)-1,f=r>>1,c=-7,o=d?u-1:0,l=d?-1:1,i=k[y+o];for(o+=l,s=i&(1<<-c)-1,i>>=-c,c+=n;c>0;s=s*256+k[y+o],o+=l,c-=8);for(a=s&(1<<-c)-1,s>>=-c,c+=g;c>0;a=a*256+k[y+o],o+=l,c-=8);if(s===0)s=1-f;else{if(s===r)return a?NaN:(i?-1:1)*(1/0);a=a+Math.pow(2,g),s=s-f}return(i?-1:1)*a*Math.pow(2,s-g)},S.write=function(k,y,d,g,u,s){var a,n,r,f=s*8-u-1,c=(1<<f)-1,o=c>>1,l=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,i=g?0:s-1,p=g?1:-1,m=y<0||y===0&&1/y<0?1:0;for(y=Math.abs(y),isNaN(y)||y===1/0?(n=isNaN(y)?1:0,a=c):(a=Math.floor(Math.log(y)/Math.LN2),y*(r=Math.pow(2,-a))<1&&(a--,r*=2),a+o>=1?y+=l/r:y+=l*Math.pow(2,1-o),y*r>=2&&(a++,r/=2),a+o>=c?(n=0,a=c):a+o>=1?(n=(y*r-1)*Math.pow(2,u),a=a+o):(n=y*Math.pow(2,o-1)*Math.pow(2,u),a=0));u>=8;k[d+i]=n&255,i+=p,n/=256,u-=8);for(a=a<<u|n,f+=u;f>0;k[d+i]=a&255,i+=p,a/=256,f-=8);k[d+i-p]|=m*128}},{}],74:[function(A,W,S){(function(y,d){typeof S=="object"&&typeof W=="object"?W.exports=d():typeof S=="object"?S.iq=d():y.iq=d()})(this,function(){return function(k){var y={};function d(g){if(y[g])return y[g].exports;var u=y[g]={exports:{},id:g,loaded:!1};return k[g].call(u.exports,u,u.exports,d),u.loaded=!0,u.exports}return d.m=k,d.c=y,d.p="",d(0)}([function(k,y,d){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var g=d(1);y.constants=g;var u=d(3);y.conversion=u;var s=d(12);y.distance=s;var a=d(20);y.palette=a;var n=d(30);y.image=n;var r=d(35);y.quality=r;var f=d(37);y.utils=f},function(k,y,d){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * constants.ts - part of Image Quantization Library
 */var g=d(2);y.bt709=g},function(k,y){var d;(function(s){s[s.RED=.2126]="RED",s[s.GREEN=.7152]="GREEN",s[s.BLUE=.0722]="BLUE",s[s.WHITE=1]="WHITE"})(d||(d={})),y.Y=d;var g;(function(s){s[s.RED=.64]="RED",s[s.GREEN=.3]="GREEN",s[s.BLUE=.15]="BLUE",s[s.WHITE=.3127]="WHITE"})(g||(g={})),y.x=g;var u;(function(s){s[s.RED=.33]="RED",s[s.GREEN=.6]="GREEN",s[s.BLUE=.06]="BLUE",s[s.WHITE=.329]="WHITE"})(u||(u={})),y.y=u},function(k,y,d){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var g=d(4);y.rgb2xyz=g.rgb2xyz;var u=d(5);y.rgb2hsl=u.rgb2hsl;var s=d(7);y.rgb2lab=s.rgb2lab;var a=d(9);y.lab2xyz=a.lab2xyz;var n=d(10);y.lab2rgb=n.lab2rgb;var r=d(8);y.xyz2lab=r.xyz2lab;var f=d(11);y.xyz2rgb=f.xyz2rgb},function(k,y){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2xyz.ts - part of Image Quantization Library
 */function d(u){return u>.04045?Math.pow((u+.055)/1.055,2.4):u/12.92}function g(u,s,a){return u=d(u/255),s=d(s/255),a=d(a/255),{x:u*.4124+s*.3576+a*.1805,y:u*.2126+s*.7152+a*.0722,z:u*.0193+s*.1192+a*.9505}}y.rgb2xyz=g},function(k,y,d){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2hsl.ts - part of Image Quantization Library
 */var g=d(6);function u(s,a,n){var r=g.min3(s,a,n),f=g.max3(s,a,n),c=f-r,o=(r+f)/510,l=0;o>0&&o<1&&(l=c/(o<.5?f+r:510-f-r));var i=0;return c>0&&(f===s?i=(a-n)/c:f===a?i=2+(n-s)/c:i=4+(s-a)/c,i*=60,i<0&&(i+=360)),{h:i,s:l,l:o}}y.rgb2hsl=u},function(k,y){function d(f){return f*(Math.PI/180)}y.degrees2radians=d;function g(f,c,o){var l=f;return l<c&&(l=c),l<o&&(l=o),l}y.max3=g;function u(f,c,o){var l=f;return l>c&&(l=c),l>o&&(l=o),l}y.min3=u;function s(f,c,o){return f>o&&(f=o),f<c&&(f=c),f|0}y.intInRange=s;function a(f){return f=Math.round(f),f>255?f=255:f<0&&(f=0),f}y.inRange0to255Rounded=a;function n(f){return f>255?f=255:f<0&&(f=0),f}y.inRange0to255=n;function r(f,c){var o=typeof f[0],l;if(o==="number"||o==="string"){for(var i=Object.create(null),p=0,m=f.length;p<m;p++){var v=f[p];i[v]||i[v]===0||(i[v]=p)}l=f.sort(function(b,E){return c(b,E)||i[b]-i[E]})}else{var _=f.slice(0);l=f.sort(function(b,E){return c(b,E)||_.indexOf(b)-_.indexOf(E)})}return l}y.stableSort=r},function(k,y,d){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2lab.ts - part of Image Quantization Library
 */var g=d(4),u=d(8);function s(a,n,r){var f=g.rgb2xyz(a,n,r);return u.xyz2lab(f.x,f.y,f.z)}y.rgb2lab=s},function(k,y){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2lab.ts - part of Image Quantization Library
 */var d=.95047,g=1,u=1.08883;function s(n){return n>.008856?Math.pow(n,1/3):7.787*n+16/116}function a(n,r,f){if(n=s(n/d),r=s(r/g),f=s(f/u),116*r-16<0)throw new Error("xxx");return{L:Math.max(0,116*r-16),a:500*(n-r),b:200*(r-f)}}y.xyz2lab=a},function(k,y){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2xyz.ts - part of Image Quantization Library
 */var d=.95047,g=1,u=1.08883;function s(n){return n>.206893034?Math.pow(n,3):(n-16/116)/7.787}function a(n,r,f){var c=(n+16)/116,o=r/500+c,l=c-f/200;return{x:d*s(o),y:g*s(c),z:u*s(l)}}y.lab2xyz=a},function(k,y,d){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2rgb.ts - part of Image Quantization Library
 */var g=d(9),u=d(11);function s(a,n,r){var f=g.lab2xyz(a,n,r);return u.xyz2rgb(f.x,f.y,f.z)}y.lab2rgb=s},function(k,y,d){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2rgb.ts - part of Image Quantization Library
 */var g=d(6);function u(a){return a>.0031308?1.055*Math.pow(a,1/2.4)-.055:12.92*a}function s(a,n,r){var f=u(a*3.2406+n*-1.5372+r*-.4986),c=u(a*-.9689+n*1.8758+r*.0415),o=u(a*.0557+n*-.204+r*1.057);return{r:g.inRange0to255Rounded(f*255),g:g.inRange0to255Rounded(c*255),b:g.inRange0to255Rounded(o*255)}}y.xyz2rgb=s},function(k,y,d){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var g=d(13);y.AbstractDistanceCalculator=g.AbstractDistanceCalculator;var u=d(14);y.CIE94Textiles=u.CIE94Textiles,y.CIE94GraphicArts=u.CIE94GraphicArts;var s=d(15);y.CIEDE2000=s.CIEDE2000;var a=d(16);y.CMETRIC=a.CMETRIC;var n=d(17);y.AbstractEuclidean=n.AbstractEuclidean,y.Euclidean=n.Euclidean,y.EuclideanRgbQuantWOAlpha=n.EuclideanRgbQuantWOAlpha,y.EuclideanRgbQuantWithAlpha=n.EuclideanRgbQuantWithAlpha;var r=d(18);y.AbstractManhattan=r.AbstractManhattan,y.Manhattan=r.Manhattan,y.ManhattanSRGB=r.ManhattanSRGB,y.ManhattanNommyde=r.ManhattanNommyde;var f=d(19);y.PNGQUANT=f.PNGQUANT},function(k,y){var d=function(){function g(){this._setDefaults(),this.setWhitePoint(255,255,255,255)}return g.prototype.setWhitePoint=function(u,s,a,n){this._whitePoint={r:u>0?255/u:0,g:s>0?255/s:0,b:a>0?255/a:0,a:n>0?255/n:0},this._maxDistance=this.calculateRaw(u,s,a,n,0,0,0,0)},g.prototype.calculateNormalized=function(u,s){return this.calculateRaw(u.r,u.g,u.b,u.a,s.r,s.g,s.b,s.a)/this._maxDistance},g.prototype._setDefaults=function(){},g}();y.AbstractDistanceCalculator=d},function(k,y,d){var g=this&&this.__extends||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l]);function i(){this.constructor=c}c.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cie94.ts - part of Image Quantization Library
 */var u=d(13),s=d(7),a=d(6),n=function(c){g(o,c);function o(){c.apply(this,arguments)}return o.prototype.calculateRaw=function(l,i,p,m,v,_,b,E){var x=s.rgb2lab(a.inRange0to255(l*this._whitePoint.r),a.inRange0to255(i*this._whitePoint.g),a.inRange0to255(p*this._whitePoint.b)),M=s.rgb2lab(a.inRange0to255(v*this._whitePoint.r),a.inRange0to255(_*this._whitePoint.g),a.inRange0to255(b*this._whitePoint.b)),O=x.L-M.L,j=x.a-M.a,T=x.b-M.b,U=Math.sqrt(x.a*x.a+x.b*x.b),H=Math.sqrt(M.a*M.a+M.b*M.b),D=U-H,P=j*j+T*T-D*D;P=P<0?0:Math.sqrt(P);var B=(E-m)*this._whitePoint.a*this._kA;return Math.sqrt(Math.pow(O/this._Kl,2)+Math.pow(D/(1+this._K1*U),2)+Math.pow(P/(1+this._K2*U),2)+Math.pow(B,2))},o}(u.AbstractDistanceCalculator);y.AbstractCIE94=n;var r=function(c){g(o,c);function o(){c.apply(this,arguments)}return o.prototype._setDefaults=function(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=.25*50/255},o}(n);y.CIE94Textiles=r;var f=function(c){g(o,c);function o(){c.apply(this,arguments)}return o.prototype._setDefaults=function(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=.25*100/255},o}(n);y.CIE94GraphicArts=f},function(k,y,d){var g=this&&this.__extends||function(r,f){for(var c in f)f.hasOwnProperty(c)&&(r[c]=f[c]);function o(){this.constructor=r}r.prototype=f===null?Object.create(f):(o.prototype=f.prototype,new o)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ciede2000.ts - part of Image Quantization Library
 */var u=d(13),s=d(7),a=d(6),n=function(r){g(f,r);function f(){r.apply(this,arguments)}return f.prototype.calculateRaw=function(c,o,l,i,p,m,v,_){var b=s.rgb2lab(a.inRange0to255(c*this._whitePoint.r),a.inRange0to255(o*this._whitePoint.g),a.inRange0to255(l*this._whitePoint.b)),E=s.rgb2lab(a.inRange0to255(p*this._whitePoint.r),a.inRange0to255(m*this._whitePoint.g),a.inRange0to255(v*this._whitePoint.b)),x=(_-i)*this._whitePoint.a*f._kA,M=this.calculateRawInLab(b,E);return Math.sqrt(M+x*x)},f.prototype.calculateRawInLab=function(c,o){var l=c.L,i=c.a,p=c.b,m=o.L,v=o.a,_=o.b,b=Math.sqrt(i*i+p*p),E=Math.sqrt(v*v+_*_),x=Math.pow((b+E)/2,7),M=.5*(1-Math.sqrt(x/(x+f._pow25to7))),O=(1+M)*i,j=(1+M)*v,T=Math.sqrt(O*O+p*p),U=Math.sqrt(j*j+_*_),H=T*U,D=f._calculatehp(p,O),P=f._calculatehp(_,j),B=Math.abs(D-P),X=m-l,V=U-T,q=f._calculate_dHp(H,B,P,D),ee=f._calculate_ahp(H,B,D,P),Z=f._calculateT(ee),J=(T+U)/2,K=Math.pow((l+m)/2-50,2),re=1+.015*K/Math.sqrt(20+K),ue=1+.045*J,ce=1+.015*Z*J,ve=f._calculateRT(ee,J),_e=X/re,Re=V/ue,he=q/ce;return Math.pow(_e,2)+Math.pow(Re,2)+Math.pow(he,2)+ve*Re*he},f._calculatehp=function(c,o){var l=Math.atan2(c,o);return l>=0?l:l+f._deg360InRad},f._calculateRT=function(c,o){var l=Math.pow(o,7),i=2*Math.sqrt(l/(l+f._pow25to7)),p=f._deg30InRad*Math.exp(-Math.pow((c-f._deg275InRad)/f._deg25InRad,2));return-Math.sin(2*p)*i},f._calculateT=function(c){return 1-.17*Math.cos(c-f._deg30InRad)+.24*Math.cos(c*2)+.32*Math.cos(c*3+f._deg6InRad)-.2*Math.cos(c*4-f._deg63InRad)},f._calculate_ahp=function(c,o,l,i){var p=l+i;return c==0?p:o<=f._deg180InRad?p/2:p<f._deg360InRad?(p+f._deg360InRad)/2:(p-f._deg360InRad)/2},f._calculate_dHp=function(c,o,l,i){var p;return c==0?p=0:o<=f._deg180InRad?p=l-i:l<=i?p=l-i+f._deg360InRad:p=l-i-f._deg360InRad,2*Math.sqrt(c)*Math.sin(p/2)},f._kA=.25*100/255,f._pow25to7=Math.pow(25,7),f._deg360InRad=a.degrees2radians(360),f._deg180InRad=a.degrees2radians(180),f._deg30InRad=a.degrees2radians(30),f._deg6InRad=a.degrees2radians(6),f._deg63InRad=a.degrees2radians(63),f._deg275InRad=a.degrees2radians(275),f._deg25InRad=a.degrees2radians(25),f}(u.AbstractDistanceCalculator);y.CIEDE2000=n},function(k,y,d){var g=this&&this.__extends||function(a,n){for(var r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);function f(){this.constructor=a}a.prototype=n===null?Object.create(n):(f.prototype=n.prototype,new f)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cmetric.ts - part of Image Quantization Library
 */var u=d(13),s=function(a){g(n,a);function n(){a.apply(this,arguments)}return n.prototype.calculateRaw=function(r,f,c,o,l,i,p,m){var v=(r+l)/2*this._whitePoint.r,_=(r-l)*this._whitePoint.r,b=(f-i)*this._whitePoint.g,E=(c-p)*this._whitePoint.b,x=((512+v)*_*_>>8)+4*b*b+((767-v)*E*E>>8),M=(m-o)*this._whitePoint.a;return Math.sqrt(x+M*M)},n}(u.AbstractDistanceCalculator);y.CMETRIC=s},function(k,y,d){var g=this&&this.__extends||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l]);function i(){this.constructor=c}c.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * euclidean.ts - part of Image Quantization Library
 */var u=d(13),s=d(2),a=function(c){g(o,c);function o(){c.apply(this,arguments)}return o.prototype.calculateRaw=function(l,i,p,m,v,_,b,E){var x=v-l,M=_-i,O=b-p,j=E-m;return Math.sqrt(this._kR*x*x+this._kG*M*M+this._kB*O*O+this._kA*j*j)},o}(u.AbstractDistanceCalculator);y.AbstractEuclidean=a;var n=function(c){g(o,c);function o(){c.apply(this,arguments)}return o.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},o}(a);y.Euclidean=n;var r=function(c){g(o,c);function o(){c.apply(this,arguments)}return o.prototype._setDefaults=function(){this._kR=s.Y.RED,this._kG=s.Y.GREEN,this._kB=s.Y.BLUE,this._kA=1},o}(a);y.EuclideanRgbQuantWithAlpha=r;var f=function(c){g(o,c);function o(){c.apply(this,arguments)}return o.prototype._setDefaults=function(){this._kR=s.Y.RED,this._kG=s.Y.GREEN,this._kB=s.Y.BLUE,this._kA=0},o}(a);y.EuclideanRgbQuantWOAlpha=f},function(k,y,d){var g=this&&this.__extends||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l]);function i(){this.constructor=c}c.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * manhattanNeuQuant.ts - part of Image Quantization Library
 */var u=d(13),s=d(2),a=function(c){g(o,c);function o(){c.apply(this,arguments)}return o.prototype.calculateRaw=function(l,i,p,m,v,_,b,E){var x=v-l,M=_-i,O=b-p,j=E-m;return x<0&&(x=0-x),M<0&&(M=0-M),O<0&&(O=0-O),j<0&&(j=0-j),this._kR*x+this._kG*M+this._kB*O+this._kA*j},o}(u.AbstractDistanceCalculator);y.AbstractManhattan=a;var n=function(c){g(o,c);function o(){c.apply(this,arguments)}return o.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},o}(a);y.Manhattan=n;var r=function(c){g(o,c);function o(){c.apply(this,arguments)}return o.prototype._setDefaults=function(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1},o}(a);y.ManhattanNommyde=r;var f=function(c){g(o,c);function o(){c.apply(this,arguments)}return o.prototype._setDefaults=function(){this._kR=s.Y.RED,this._kG=s.Y.GREEN,this._kB=s.Y.BLUE,this._kA=1},o}(a);y.ManhattanSRGB=f},function(k,y,d){var g=this&&this.__extends||function(a,n){for(var r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);function f(){this.constructor=a}a.prototype=n===null?Object.create(n):(f.prototype=n.prototype,new f)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pngQuant.ts - part of Image Quantization Library
 */var u=d(13),s=function(a){g(n,a);function n(){a.apply(this,arguments)}return n.prototype.calculateRaw=function(r,f,c,o,l,i,p,m){var v=(m-o)*this._whitePoint.a;return this._colordifference_ch(r*this._whitePoint.r,l*this._whitePoint.r,v)+this._colordifference_ch(f*this._whitePoint.g,i*this._whitePoint.g,v)+this._colordifference_ch(c*this._whitePoint.b,p*this._whitePoint.b,v)},n.prototype._colordifference_ch=function(r,f,c){var o=r-f,l=o+c;return o*o+l*l},n}(u.AbstractDistanceCalculator);y.PNGQUANT=s},function(k,y,d){var g=d(21);y.NeuQuant=g.NeuQuant;var u=d(25);y.NeuQuantFloat=u.NeuQuantFloat;var s=d(26);y.RGBQuant=s.RGBQuant;var a=d(27);y.ColorHistogram=a.ColorHistogram;var n=d(29);y.WuQuant=n.WuQuant,y.WuColorCube=n.WuColorCube},function(k,y,d){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * neuquant.ts - part of Image Quantization Library
 */var g=d(22),u=d(24),s=3,a=function(){function r(f){this.r=this.g=this.b=this.a=f}return r.prototype.toPoint=function(){return u.Point.createByRGBA(this.r>>s,this.g>>s,this.b>>s,this.a>>s)},r.prototype.subtract=function(f,c,o,l){this.r-=f|0,this.g-=c|0,this.b-=o|0,this.a-=l|0},r}(),n=function(){function r(f,c){c===void 0&&(c=256),this._distance=f,this._pointArray=[],this._sampleFactor=1,this._networkSize=c,this._distance.setWhitePoint(255<<s,255<<s,255<<s,255<<s)}return r.prototype.sample=function(f){this._pointArray=this._pointArray.concat(f.getPointArray())},r.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},r.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var f=0;f<this._networkSize;f++)this._network[f]=new a((f<<s+8)/this._networkSize|0),this._freq[f]=r._initialBias/this._networkSize|0,this._bias[f]=0},r.prototype._learn=function(){var f=this._sampleFactor,c=this._pointArray.length;c<r._minpicturebytes&&(f=1);var o=30+(f-1)/3|0,l=c/f|0,i=l/r._nCycles|0,p=r._initAlpha,m=(this._networkSize>>3)*r._radiusBias,v=m>>r._radiusBiasShift;v<=1&&(v=0);for(var _=0;_<v;_++)this._radPower[_]=p*((v*v-_*_)*r._radBias/(v*v))>>>0;var b;c<r._minpicturebytes?b=1:c%r._prime1!=0?b=r._prime1:c%r._prime2!=0?b=r._prime2:c%r._prime3!=0?b=r._prime3:b=r._prime4;for(var _=0,E=0;_<l;){var x=this._pointArray[E],M=x.b<<s,O=x.g<<s,j=x.r<<s,T=x.a<<s,U=this._contest(M,O,j,T);if(this._alterSingle(p,U,M,O,j,T),v!==0&&this._alterNeighbour(v,U,M,O,j,T),E+=b,E>=c&&(E-=c),_++,i===0&&(i=1),_%i===0){p-=p/o|0,m-=m/r._radiusDecrease|0,v=m>>r._radiusBiasShift,v<=1&&(v=0);for(var H=0;H<v;H++)this._radPower[H]=p*((v*v-H*H)*r._radBias/(v*v))>>>0}}},r.prototype._buildPalette=function(){var f=new g.Palette;return this._network.forEach(function(c){f.add(c.toPoint())}),f.sort(),f},r.prototype._alterNeighbour=function(f,c,o,l,i,p){var m=c-f;m<-1&&(m=-1);var v=c+f;v>this._networkSize&&(v=this._networkSize);for(var _=c+1,b=c-1,E=1;_<v||b>m;){var x=this._radPower[E++]/r._alphaRadBias;if(_<v){var M=this._network[_++];M.subtract(x*(M.r-i),x*(M.g-l),x*(M.b-o),x*(M.a-p))}if(b>m){var M=this._network[b--];M.subtract(x*(M.r-i),x*(M.g-l),x*(M.b-o),x*(M.a-p))}}},r.prototype._alterSingle=function(f,c,o,l,i,p){f/=r._initAlpha;var m=this._network[c];m.subtract(f*(m.r-i),f*(m.g-l),f*(m.b-o),f*(m.a-p))},r.prototype._contest=function(f,c,o,l){for(var i=1020<<s,p=2147483647,m=p,v=-1,_=v,b=0;b<this._networkSize;b++){var E=this._network[b],x=this._distance.calculateNormalized(E,{r:o,g:c,b:f,a:l})*i|0;x<p&&(p=x,v=b);var M=x-(this._bias[b]>>r._initialBiasShift-s);M<m&&(m=M,_=b);var O=this._freq[b]>>r._betaShift;this._freq[b]-=O,this._bias[b]+=O<<r._gammaShift}return this._freq[v]+=r._beta,this._bias[v]-=r._betaGamma,_},r._prime1=499,r._prime2=491,r._prime3=487,r._prime4=503,r._minpicturebytes=r._prime4,r._nCycles=100,r._initialBiasShift=16,r._initialBias=1<<r._initialBiasShift,r._gammaShift=10,r._betaShift=10,r._beta=r._initialBias>>r._betaShift,r._betaGamma=r._initialBias<<r._gammaShift-r._betaShift,r._radiusBiasShift=6,r._radiusBias=1<<r._radiusBiasShift,r._radiusDecrease=30,r._alphaBiasShift=10,r._initAlpha=1<<r._alphaBiasShift,r._radBiasShift=8,r._radBias=1<<r._radBiasShift,r._alphaRadBiasShift=r._alphaBiasShift+r._radBiasShift,r._alphaRadBias=1<<r._alphaRadBiasShift,r}();y.NeuQuant=n},function(k,y,d){var g=d(23),u=d(5),s=10;function a(r,f){for(var c=360,o=c/f,l=o/2,i=1,p=o-l;i<f;i++,p+=o)if(r>=p&&r<p+o)return i;return 0}y.hueGroup=a;var n=function(){function r(){this._pointArray=[],this._i32idx={},this._pointContainer=new g.PointContainer,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}return r.prototype.add=function(f){this._pointArray.push(f),this._pointContainer.setWidth(this._pointArray.length)},r.prototype.has=function(f){for(var c=this._pointArray.length-1;c>=0;c--)if(f.uint32===this._pointArray[c].uint32)return!0;return!1},r.prototype.getNearestColor=function(f,c){return this._pointArray[this.getNearestIndex(f,c)|0]},r.prototype.getPointContainer=function(){return this._pointContainer},r.prototype._nearestPointFromCache=function(f){return typeof this._i32idx[f]=="number"?this._i32idx[f]:-1},r.prototype.getNearestIndex=function(f,c){var o=this._nearestPointFromCache(""+c.uint32);if(o>=0)return o;var l=Number.MAX_VALUE;o=0;for(var i=0,p=this._pointArray.length;i<p;i++){var m=this._pointArray[i],v=f.calculateRaw(c.r,c.g,c.b,c.a,m.r,m.g,m.b,m.a);v<l&&(l=v,o=i)}return this._i32idx[c.uint32]=o,o},r.prototype.sort=function(){this._i32idx={},this._pointArray.sort(function(f,c){var o=u.rgb2hsl(f.r,f.g,f.b),l=u.rgb2hsl(c.r,c.g,c.b),i=f.r===f.g&&f.g===f.b?0:1+a(o.h,s),p=c.r===c.g&&c.g===c.b?0:1+a(l.h,s),m=p-i;if(m)return-m;var v=f.getLuminosity(!0),_=c.getLuminosity(!0);if(_-v!==0)return _-v;var b=(l.s*100|0)-(o.s*100|0);return b?-b:0})},r}();y.Palette=n},function(k,y,d){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pointContainer.ts - part of Image Quantization Library
 */var g=d(24),u=function(){function s(){this._width=0,this._height=0,this._pointArray=[]}return s.prototype.getWidth=function(){return this._width},s.prototype.getHeight=function(){return this._height},s.prototype.setWidth=function(a){this._width=a},s.prototype.setHeight=function(a){this._height=a},s.prototype.getPointArray=function(){return this._pointArray},s.prototype.clone=function(){var a=new s;a._width=this._width,a._height=this._height;for(var n=0,r=this._pointArray.length;n<r;n++)a._pointArray[n]=g.Point.createByUint32(this._pointArray[n].uint32|0);return a},s.prototype.toUint32Array=function(){for(var a=this._pointArray.length,n=new Uint32Array(a),r=0;r<a;r++)n[r]=this._pointArray[r].uint32;return n},s.prototype.toUint8Array=function(){return new Uint8Array(this.toUint32Array().buffer)},s.fromHTMLImageElement=function(a){var n=a.naturalWidth,r=a.naturalHeight,f=document.createElement("canvas");f.width=n,f.height=r;var c=f.getContext("2d");return c.drawImage(a,0,0,n,r,0,0,n,r),s.fromHTMLCanvasElement(f)},s.fromHTMLCanvasElement=function(a){var n=a.width,r=a.height,f=a.getContext("2d"),c=f.getImageData(0,0,n,r);return s.fromImageData(c)},s.fromNodeCanvas=function(a){return s.fromHTMLCanvasElement(a)},s.fromImageData=function(a){var n=a.width,r=a.height;return s.fromCanvasPixelArray(a.data,n,r)},s.fromArray=function(a,n,r){var f=new Uint8Array(a);return s.fromUint8Array(f,n,r)},s.fromCanvasPixelArray=function(a,n,r){return s.fromArray(a,n,r)},s.fromUint8Array=function(a,n,r){return s.fromUint32Array(new Uint32Array(a.buffer),n,r)},s.fromUint32Array=function(a,n,r){var f=new s;f._width=n,f._height=r;for(var c=0,o=a.length;c<o;c++)f._pointArray[c]=g.Point.createByUint32(a[c]|0);return f},s}();y.PointContainer=u},function(k,y,d){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * point.ts - part of Image Quantization Library
 */var g=d(2),u=function(){function s(){this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}return s.createByQuadruplet=function(a){var n=new s;return n.r=a[0]|0,n.g=a[1]|0,n.b=a[2]|0,n.a=a[3]|0,n._loadUINT32(),n._loadQuadruplet(),n},s.createByRGBA=function(a,n,r,f){var c=new s;return c.r=a|0,c.g=n|0,c.b=r|0,c.a=f|0,c._loadUINT32(),c._loadQuadruplet(),c},s.createByUint32=function(a){var n=new s;return n.uint32=a>>>0,n._loadRGBA(),n._loadQuadruplet(),n},s.prototype.from=function(a){this.r=a.r,this.g=a.g,this.b=a.b,this.a=a.a,this.uint32=a.uint32,this.rgba[0]=a.r,this.rgba[1]=a.g,this.rgba[2]=a.b,this.rgba[3]=a.a},s.prototype.getLuminosity=function(a){var n=this.r,r=this.g,f=this.b;return a&&(n=Math.min(255,255-this.a+this.a*n/255),r=Math.min(255,255-this.a+this.a*r/255),f=Math.min(255,255-this.a+this.a*f/255)),n*g.Y.RED+r*g.Y.GREEN+f*g.Y.BLUE},s.prototype._loadUINT32=function(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0},s.prototype._loadRGBA=function(){this.r=this.uint32&255,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255},s.prototype._loadQuadruplet=function(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a},s}();y.Point=u},function(k,y,d){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * neuquant.ts - part of Image Quantization Library
 */var g=d(22),u=d(24),s=3,a=function(){function r(f){this.r=this.g=this.b=this.a=f}return r.prototype.toPoint=function(){return u.Point.createByRGBA(this.r>>s,this.g>>s,this.b>>s,this.a>>s)},r.prototype.subtract=function(f,c,o,l){this.r-=f,this.g-=c,this.b-=o,this.a-=l},r}(),n=function(){function r(f,c){c===void 0&&(c=256),this._distance=f,this._pointArray=[],this._sampleFactor=1,this._networkSize=c,this._distance.setWhitePoint(255<<s,255<<s,255<<s,255<<s)}return r.prototype.sample=function(f){this._pointArray=this._pointArray.concat(f.getPointArray())},r.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},r.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var f=0;f<this._networkSize;f++)this._network[f]=new a((f<<s+8)/this._networkSize),this._freq[f]=r._initialBias/this._networkSize,this._bias[f]=0},r.prototype._learn=function(){var f=this._sampleFactor,c=this._pointArray.length;c<r._minpicturebytes&&(f=1);var o=30+(f-1)/3,l=c/f,i=l/r._nCycles|0,p=r._initAlpha,m=(this._networkSize>>3)*r._radiusBias,v=m>>r._radiusBiasShift;v<=1&&(v=0);for(var _=0;_<v;_++)this._radPower[_]=p*((v*v-_*_)*r._radBias/(v*v));var b;c<r._minpicturebytes?b=1:c%r._prime1!=0?b=r._prime1:c%r._prime2!=0?b=r._prime2:c%r._prime3!=0?b=r._prime3:b=r._prime4;for(var _=0,E=0;_<l;){var x=this._pointArray[E],M=x.b<<s,O=x.g<<s,j=x.r<<s,T=x.a<<s,U=this._contest(M,O,j,T);if(this._alterSingle(p,U,M,O,j,T),v!=0&&this._alterNeighbour(v,U,M,O,j,T),E+=b,E>=c&&(E-=c),_++,i==0&&(i=1),_%i==0){p-=p/o,m-=m/r._radiusDecrease,v=m>>r._radiusBiasShift,v<=1&&(v=0);for(var H=0;H<v;H++)this._radPower[H]=p*((v*v-H*H)*r._radBias/(v*v))}}},r.prototype._buildPalette=function(){var f=new g.Palette;return this._network.forEach(function(c){f.add(c.toPoint())}),f.sort(),f},r.prototype._alterNeighbour=function(f,c,o,l,i,p){var m=c-f;m<-1&&(m=-1);var v=c+f;v>this._networkSize&&(v=this._networkSize);for(var _=c+1,b=c-1,E=1;_<v||b>m;){var x=this._radPower[E++]/r._alphaRadBias;if(_<v){var M=this._network[_++];M.subtract(x*(M.r-i),x*(M.g-l),x*(M.b-o),x*(M.a-p))}if(b>m){var M=this._network[b--];M.subtract(x*(M.r-i),x*(M.g-l),x*(M.b-o),x*(M.a-p))}}},r.prototype._alterSingle=function(f,c,o,l,i,p){f/=r._initAlpha;var m=this._network[c];m.subtract(f*(m.r-i),f*(m.g-l),f*(m.b-o),f*(m.a-p))},r.prototype._contest=function(f,c,o,l){for(var i=1020<<s,p=2147483647,m=p,v=-1,_=v,b=0;b<this._networkSize;b++){var E=this._network[b],x=this._distance.calculateNormalized(E,{r:o,g:c,b:f,a:l})*i;x<p&&(p=x,v=b);var M=x-(this._bias[b]>>r._initialBiasShift-s);M<m&&(m=M,_=b);var O=this._freq[b]>>r._betaShift;this._freq[b]-=O,this._bias[b]+=O<<r._gammaShift}return this._freq[v]+=r._beta,this._bias[v]-=r._betaGamma,_},r._prime1=499,r._prime2=491,r._prime3=487,r._prime4=503,r._minpicturebytes=r._prime4,r._nCycles=100,r._initialBiasShift=16,r._initialBias=1<<r._initialBiasShift,r._gammaShift=10,r._betaShift=10,r._beta=r._initialBias>>r._betaShift,r._betaGamma=r._initialBias<<r._gammaShift-r._betaShift,r._radiusBiasShift=6,r._radiusBias=1<<r._radiusBiasShift,r._radiusDecrease=30,r._alphaBiasShift=10,r._initAlpha=1<<r._alphaBiasShift,r._radBiasShift=8,r._radBias=1<<r._radBiasShift,r._alphaRadBiasShift=r._alphaBiasShift+r._radBiasShift,r._alphaRadBias=1<<r._alphaRadBiasShift,r}();y.NeuQuantFloat=n},function(k,y,d){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgbquant.ts - part of Image Quantization Library
 */var g=d(22),u=d(24),s=d(27),a=d(6),n=function(){function f(c,o,l){this.index=c,this.color=o,this.distance=l}return f}(),r=function(){function f(c,o,l){o===void 0&&(o=256),l===void 0&&(l=2),this._distance=c,this._colors=o,this._histogram=new s.ColorHistogram(l,o),this._initialDistance=.01,this._distanceIncrement=.005}return f.prototype.sample=function(c){this._histogram.sample(c)},f.prototype.quantize=function(){var c=this._histogram.getImportanceSortedColorsIDXI32();if(c.length===0)throw new Error("No colors in image");var o=this._buildPalette(c);return o.sort(),o},f.prototype._buildPalette=function(c){for(var o=new g.Palette,l=o.getPointContainer().getPointArray(),i=new Array(c.length),p=0;p<c.length;p++)l.push(u.Point.createByUint32(c[p])),i[p]=1;for(var m=l.length,v=[],_=m,b=this._initialDistance;_>this._colors;){v.length=0;for(var p=0;p<m;p++)if(i[p]!==0){for(var E=l[p],x=p+1;x<m;x++)if(i[x]!==0){var M=l[x],O=this._distance.calculateNormalized(E,M);O<b&&(v.push(new n(x,M,O)),i[x]=0,_--)}}b+=_>this._colors*3?this._initialDistance:this._distanceIncrement}if(_<this._colors){a.stableSort(v,function(D,P){return P.distance-D.distance});for(var j=0;_<this._colors&&j<v.length;){var T=v[j];i[T.index]=1,_++,j++}}for(var U=l.length,H=U-1;H>=0;H--)i[H]===0&&(H!==U-1&&(l[H]=l[U-1]),--U);return l.length=U,o},f}();y.RGBQuant=r},function(k,y,d){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * colorHistogram.ts - part of Image Quantization Library
 */var g=d(28),u=d(6),s=function(){function a(n,r){this._method=n,this._minHueCols=r<<2,this._initColors=r<<2,this._hueStats=new g.HueStatistics(a._hueGroups,this._minHueCols),this._histogram=Object.create(null)}return a.prototype.sample=function(n){switch(this._method){case 1:this._colorStats1D(n);break;case 2:this._colorStats2D(n);break}},a.prototype.getImportanceSortedColorsIDXI32=function(){var n=this,r=u.stableSort(Object.keys(this._histogram),function(m,v){return n._histogram[v]-n._histogram[m]});if(r.length===0)return[];var f;switch(this._method){case 1:var c=Math.min(r.length,this._initColors),o=r[c-1],l=this._histogram[o];f=r.slice(0,c);for(var i=c,p=r.length;i<p&&this._histogram[r[i]]==l;)f.push(r[i++]);this._hueStats.injectIntoArray(f);break;case 2:f=r;break;default:throw new Error("Incorrect method")}return f.map(function(m){return+m})},a.prototype._colorStats1D=function(n){for(var r=this._histogram,f=n.getPointArray(),c=f.length,o=0;o<c;o++){var l=f[o].uint32;this._hueStats.check(l),l in r?r[l]++:r[l]=1}},a.prototype._colorStats2D=function(n){var r=this,f=n.getWidth(),c=n.getHeight(),o=n.getPointArray(),l=a._boxSize[0],i=a._boxSize[1],p=l*i,m=this._makeBoxes(f,c,l,i),v=this._histogram;m.forEach(function(_){var b=Math.round(_.w*_.h/p)*a._boxPixels;b<2&&(b=2);var E={};r._iterateBox(_,f,function(x){var M=o[x].uint32;r._hueStats.check(M),M in v?v[M]++:M in E?++E[M]>=b&&(v[M]=E[M]):E[M]=1})}),this._hueStats.injectIntoDictionary(v)},a.prototype._iterateBox=function(n,r,f){var c=n,o=c.y*r+c.x,l=(c.y+c.h-1)*r+(c.x+c.w-1),i=r-c.w+1,p=0,m=o;do f.call(this,m),m+=++p%c.w==0?i:1;while(m<=l)},a.prototype._makeBoxes=function(n,r,f,c){for(var o=n%f,l=r%c,i=n-o,p=r-l,m=[],v=0;v<r;v+=c)for(var _=0;_<n;_+=f)m.push({x:_,y:v,w:_==i?o:f,h:v==p?l:c});return m},a._boxSize=[64,64],a._boxPixels=2,a._hueGroups=10,a}();y.ColorHistogram=s},function(k,y,d){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * hueStatistics.ts - part of Image Quantization Library
 */var g=d(5),u=d(22),s=function(){function n(){this.num=0,this.cols=[]}return n}(),a=function(){function n(r,f){this._numGroups=r,this._minCols=f,this._stats=[];for(var c=0;c<=r;c++)this._stats[c]=new s;this._groupsFull=0}return n.prototype.check=function(r){this._groupsFull==this._numGroups+1&&(this.check=function(){});var f=r&255,c=r>>>8&255,o=r>>>16&255,l=f==c&&c==o?0:1+u.hueGroup(g.rgb2hsl(f,c,o).h,this._numGroups),i=this._stats[l],p=this._minCols;i.num++,!(i.num>p)&&(i.num==p&&this._groupsFull++,i.num<=p&&this._stats[l].cols.push(r))},n.prototype.injectIntoDictionary=function(r){for(var f=0;f<=this._numGroups;f++)this._stats[f].num<=this._minCols&&this._stats[f].cols.forEach(function(c){r[c]?r[c]++:r[c]=1})},n.prototype.injectIntoArray=function(r){for(var f=0;f<=this._numGroups;f++)this._stats[f].num<=this._minCols&&this._stats[f].cols.forEach(function(c){r.indexOf(c)==-1&&r.push(c)})},n}();y.HueStatistics=a},function(k,y,d){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * wuQuant.ts - part of Image Quantization Library
 */var g=d(22),u=d(24);function s(l){for(var i=[],p=0;p<l;p++)i[p]=0;return i}function a(l,i,p,m){for(var v=new Array(l),_=0;_<l;_++){v[_]=new Array(i);for(var b=0;b<i;b++){v[_][b]=new Array(p);for(var E=0;E<p;E++){v[_][b][E]=new Array(m);for(var x=0;x<m;x++)v[_][b][E][x]=0}}}return v}function n(l,i,p){for(var m=new Array(l),v=0;v<l;v++){m[v]=new Array(i);for(var _=0;_<i;_++){m[v][_]=new Array(p);for(var b=0;b<p;b++)m[v][_][b]=0}}return m}function r(l,i,p,m,v){for(var _=0;_<i;_++){l[_]=[];for(var b=0;b<p;b++){l[_][b]=[];for(var E=0;E<m;E++)l[_][b][E]=v}}}function f(l,i,p){for(var m=0;m<i;m++)l[m]=p}var c=function(){function l(){}return l}();y.WuColorCube=c;var o=function(){function l(i,p,m){p===void 0&&(p=256),m===void 0&&(m=5),this._distance=i,this._setQuality(m),this._initialize(p)}return l.prototype.sample=function(i){for(var p=i.getPointArray(),m=0,v=p.length;m<v;m++)this._addColor(p[m]);this._pixels=this._pixels.concat(p)},l.prototype.quantize=function(){this._preparePalette();for(var i=new g.Palette,p=0;p<this._colors;p++)if(this._sums[p]>0){var m=this._sums[p],v=this._reds[p]/m,_=this._greens[p]/m,b=this._blues[p]/m,E=this._alphas[p]/m,x=u.Point.createByRGBA(v|0,_|0,b|0,E|0);i.add(x)}return i.sort(),i},l.prototype._preparePalette=function(){this._calculateMoments();for(var i=0,p=s(this._colors),m=1;m<this._colors;++m){this._cut(this._cubes[i],this._cubes[m])?(p[i]=this._cubes[i].volume>1?this._calculateVariance(this._cubes[i]):0,p[m]=this._cubes[m].volume>1?this._calculateVariance(this._cubes[m]):0):(p[i]=0,m--),i=0;for(var v=p[0],_=1;_<=m;++_)p[_]>v&&(v=p[_],i=_);if(v<=0){this._colors=m+1;break}}for(var b=[],E=[],x=[],M=[],O=0;O<this._colors;++O){var j=l._volume(this._cubes[O],this._weights);j>0?(b[O]=l._volume(this._cubes[O],this._momentsRed)/j|0,E[O]=l._volume(this._cubes[O],this._momentsGreen)/j|0,x[O]=l._volume(this._cubes[O],this._momentsBlue)/j|0,M[O]=l._volume(this._cubes[O],this._momentsAlpha)/j|0):(b[O]=0,E[O]=0,x[O]=0,M[O]=0)}this._reds=s(this._colors+1),this._greens=s(this._colors+1),this._blues=s(this._colors+1),this._alphas=s(this._colors+1),this._sums=s(this._colors+1);for(var _=0,T=this._pixels.length;_<T;_++){for(var U=this._pixels[_],H=-1,D=H,P=Number.MAX_VALUE,B=0;B<this._colors;B++){var X=b[B],V=E[B],q=x[B],ee=M[B],Z=this._distance.calculateRaw(X,V,q,ee,U.r,U.g,U.b,U.a);Z<P&&(P=Z,D=B)}this._reds[D]+=U.r,this._greens[D]+=U.g,this._blues[D]+=U.b,this._alphas[D]+=U.a,this._sums[D]++}},l.prototype._addColor=function(i){var p=8-this._significantBitsPerChannel,m=(i.r>>p)+1,v=(i.g>>p)+1,_=(i.b>>p)+1,b=(i.a>>p)+1;this._weights[b][m][v][_]++,this._momentsRed[b][m][v][_]+=i.r,this._momentsGreen[b][m][v][_]+=i.g,this._momentsBlue[b][m][v][_]+=i.b,this._momentsAlpha[b][m][v][_]+=i.a,this._moments[b][m][v][_]+=this._table[i.r]+this._table[i.g]+this._table[i.b]+this._table[i.a]},l.prototype._calculateMoments=function(){for(var i=[],p=[],m=[],v=[],_=[],b=[],E=n(this._sideSize,this._sideSize,this._sideSize),x=n(this._sideSize,this._sideSize,this._sideSize),M=n(this._sideSize,this._sideSize,this._sideSize),O=n(this._sideSize,this._sideSize,this._sideSize),j=n(this._sideSize,this._sideSize,this._sideSize),T=n(this._sideSize,this._sideSize,this._sideSize),U=1;U<=this._alphaMaxSideIndex;++U){r(E,this._sideSize,this._sideSize,this._sideSize,0),r(x,this._sideSize,this._sideSize,this._sideSize,0),r(M,this._sideSize,this._sideSize,this._sideSize,0),r(O,this._sideSize,this._sideSize,this._sideSize,0),r(j,this._sideSize,this._sideSize,this._sideSize,0),r(T,this._sideSize,this._sideSize,this._sideSize,0);for(var H=1;H<=this._maxSideIndex;++H){f(i,this._sideSize,0),f(p,this._sideSize,0),f(m,this._sideSize,0),f(v,this._sideSize,0),f(_,this._sideSize,0),f(b,this._sideSize,0);for(var D=1;D<=this._maxSideIndex;++D)for(var P=0,B=0,X=0,V=0,q=0,ee=0,Z=1;Z<=this._maxSideIndex;++Z)P+=this._weights[U][H][D][Z],B+=this._momentsRed[U][H][D][Z],X+=this._momentsGreen[U][H][D][Z],V+=this._momentsBlue[U][H][D][Z],q+=this._momentsAlpha[U][H][D][Z],ee+=this._moments[U][H][D][Z],i[Z]+=P,p[Z]+=B,m[Z]+=X,v[Z]+=V,_[Z]+=q,b[Z]+=ee,E[H][D][Z]=E[H-1][D][Z]+i[Z],x[H][D][Z]=x[H-1][D][Z]+p[Z],M[H][D][Z]=M[H-1][D][Z]+m[Z],O[H][D][Z]=O[H-1][D][Z]+v[Z],j[H][D][Z]=j[H-1][D][Z]+_[Z],T[H][D][Z]=T[H-1][D][Z]+b[Z],this._weights[U][H][D][Z]=this._weights[U-1][H][D][Z]+E[H][D][Z],this._momentsRed[U][H][D][Z]=this._momentsRed[U-1][H][D][Z]+x[H][D][Z],this._momentsGreen[U][H][D][Z]=this._momentsGreen[U-1][H][D][Z]+M[H][D][Z],this._momentsBlue[U][H][D][Z]=this._momentsBlue[U-1][H][D][Z]+O[H][D][Z],this._momentsAlpha[U][H][D][Z]=this._momentsAlpha[U-1][H][D][Z]+j[H][D][Z],this._moments[U][H][D][Z]=this._moments[U-1][H][D][Z]+T[H][D][Z]}}},l._volumeFloat=function(i,p){return p[i.alphaMaximum][i.redMaximum][i.greenMaximum][i.blueMaximum]-p[i.alphaMaximum][i.redMaximum][i.greenMinimum][i.blueMaximum]-p[i.alphaMaximum][i.redMinimum][i.greenMaximum][i.blueMaximum]+p[i.alphaMaximum][i.redMinimum][i.greenMinimum][i.blueMaximum]-p[i.alphaMinimum][i.redMaximum][i.greenMaximum][i.blueMaximum]+p[i.alphaMinimum][i.redMaximum][i.greenMinimum][i.blueMaximum]+p[i.alphaMinimum][i.redMinimum][i.greenMaximum][i.blueMaximum]-p[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMaximum]-(p[i.alphaMaximum][i.redMaximum][i.greenMaximum][i.blueMinimum]-p[i.alphaMinimum][i.redMaximum][i.greenMaximum][i.blueMinimum]-p[i.alphaMaximum][i.redMaximum][i.greenMinimum][i.blueMinimum]+p[i.alphaMinimum][i.redMaximum][i.greenMinimum][i.blueMinimum]-p[i.alphaMaximum][i.redMinimum][i.greenMaximum][i.blueMinimum]+p[i.alphaMinimum][i.redMinimum][i.greenMaximum][i.blueMinimum]+p[i.alphaMaximum][i.redMinimum][i.greenMinimum][i.blueMinimum]-p[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMinimum])},l._volume=function(i,p){return l._volumeFloat(i,p)|0},l._top=function(i,p,m,v){var _;switch(p){case l.alpha:_=v[m][i.redMaximum][i.greenMaximum][i.blueMaximum]-v[m][i.redMaximum][i.greenMinimum][i.blueMaximum]-v[m][i.redMinimum][i.greenMaximum][i.blueMaximum]+v[m][i.redMinimum][i.greenMinimum][i.blueMaximum]-(v[m][i.redMaximum][i.greenMaximum][i.blueMinimum]-v[m][i.redMaximum][i.greenMinimum][i.blueMinimum]-v[m][i.redMinimum][i.greenMaximum][i.blueMinimum]+v[m][i.redMinimum][i.greenMinimum][i.blueMinimum]);break;case l.red:_=v[i.alphaMaximum][m][i.greenMaximum][i.blueMaximum]-v[i.alphaMaximum][m][i.greenMinimum][i.blueMaximum]-v[i.alphaMinimum][m][i.greenMaximum][i.blueMaximum]+v[i.alphaMinimum][m][i.greenMinimum][i.blueMaximum]-(v[i.alphaMaximum][m][i.greenMaximum][i.blueMinimum]-v[i.alphaMaximum][m][i.greenMinimum][i.blueMinimum]-v[i.alphaMinimum][m][i.greenMaximum][i.blueMinimum]+v[i.alphaMinimum][m][i.greenMinimum][i.blueMinimum]);break;case l.green:_=v[i.alphaMaximum][i.redMaximum][m][i.blueMaximum]-v[i.alphaMaximum][i.redMinimum][m][i.blueMaximum]-v[i.alphaMinimum][i.redMaximum][m][i.blueMaximum]+v[i.alphaMinimum][i.redMinimum][m][i.blueMaximum]-(v[i.alphaMaximum][i.redMaximum][m][i.blueMinimum]-v[i.alphaMaximum][i.redMinimum][m][i.blueMinimum]-v[i.alphaMinimum][i.redMaximum][m][i.blueMinimum]+v[i.alphaMinimum][i.redMinimum][m][i.blueMinimum]);break;case l.blue:_=v[i.alphaMaximum][i.redMaximum][i.greenMaximum][m]-v[i.alphaMaximum][i.redMaximum][i.greenMinimum][m]-v[i.alphaMaximum][i.redMinimum][i.greenMaximum][m]+v[i.alphaMaximum][i.redMinimum][i.greenMinimum][m]-(v[i.alphaMinimum][i.redMaximum][i.greenMaximum][m]-v[i.alphaMinimum][i.redMaximum][i.greenMinimum][m]-v[i.alphaMinimum][i.redMinimum][i.greenMaximum][m]+v[i.alphaMinimum][i.redMinimum][i.greenMinimum][m]);break;default:throw new Error("impossible")}return _|0},l._bottom=function(i,p,m){switch(p){case l.alpha:return-m[i.alphaMinimum][i.redMaximum][i.greenMaximum][i.blueMaximum]+m[i.alphaMinimum][i.redMaximum][i.greenMinimum][i.blueMaximum]+m[i.alphaMinimum][i.redMinimum][i.greenMaximum][i.blueMaximum]-m[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMaximum]-(-m[i.alphaMinimum][i.redMaximum][i.greenMaximum][i.blueMinimum]+m[i.alphaMinimum][i.redMaximum][i.greenMinimum][i.blueMinimum]+m[i.alphaMinimum][i.redMinimum][i.greenMaximum][i.blueMinimum]-m[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMinimum]);case l.red:return-m[i.alphaMaximum][i.redMinimum][i.greenMaximum][i.blueMaximum]+m[i.alphaMaximum][i.redMinimum][i.greenMinimum][i.blueMaximum]+m[i.alphaMinimum][i.redMinimum][i.greenMaximum][i.blueMaximum]-m[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMaximum]-(-m[i.alphaMaximum][i.redMinimum][i.greenMaximum][i.blueMinimum]+m[i.alphaMaximum][i.redMinimum][i.greenMinimum][i.blueMinimum]+m[i.alphaMinimum][i.redMinimum][i.greenMaximum][i.blueMinimum]-m[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMinimum]);case l.green:return-m[i.alphaMaximum][i.redMaximum][i.greenMinimum][i.blueMaximum]+m[i.alphaMaximum][i.redMinimum][i.greenMinimum][i.blueMaximum]+m[i.alphaMinimum][i.redMaximum][i.greenMinimum][i.blueMaximum]-m[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMaximum]-(-m[i.alphaMaximum][i.redMaximum][i.greenMinimum][i.blueMinimum]+m[i.alphaMaximum][i.redMinimum][i.greenMinimum][i.blueMinimum]+m[i.alphaMinimum][i.redMaximum][i.greenMinimum][i.blueMinimum]-m[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMinimum]);case l.blue:return-m[i.alphaMaximum][i.redMaximum][i.greenMaximum][i.blueMinimum]+m[i.alphaMaximum][i.redMaximum][i.greenMinimum][i.blueMinimum]+m[i.alphaMaximum][i.redMinimum][i.greenMaximum][i.blueMinimum]-m[i.alphaMaximum][i.redMinimum][i.greenMinimum][i.blueMinimum]-(-m[i.alphaMinimum][i.redMaximum][i.greenMaximum][i.blueMinimum]+m[i.alphaMinimum][i.redMaximum][i.greenMinimum][i.blueMinimum]+m[i.alphaMinimum][i.redMinimum][i.greenMaximum][i.blueMinimum]-m[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMinimum]);default:return 0}},l.prototype._calculateVariance=function(i){var p=l._volume(i,this._momentsRed),m=l._volume(i,this._momentsGreen),v=l._volume(i,this._momentsBlue),_=l._volume(i,this._momentsAlpha),b=l._volumeFloat(i,this._moments),E=l._volume(i,this._weights),x=p*p+m*m+v*v+_*_;return b-x/E},l.prototype._maximize=function(i,p,m,v,_,b,E,x,M){for(var O=l._bottom(i,p,this._momentsRed)|0,j=l._bottom(i,p,this._momentsGreen)|0,T=l._bottom(i,p,this._momentsBlue)|0,U=l._bottom(i,p,this._momentsAlpha)|0,H=l._bottom(i,p,this._weights)|0,D=0,P=-1,B=m;B<v;++B){var X=O+l._top(i,p,B,this._momentsRed),V=j+l._top(i,p,B,this._momentsGreen),q=T+l._top(i,p,B,this._momentsBlue),ee=U+l._top(i,p,B,this._momentsAlpha),Z=H+l._top(i,p,B,this._weights);if(Z!=0){var J=X*X+V*V+q*q+ee*ee,K=J/Z;X=_-X,V=b-V,q=E-q,ee=x-ee,Z=M-Z,Z!=0&&(J=X*X+V*V+q*q+ee*ee,K+=J/Z,K>D&&(D=K,P=B))}}return{max:D,position:P}},l.prototype._cut=function(i,p){var m,v=l._volume(i,this._momentsRed),_=l._volume(i,this._momentsGreen),b=l._volume(i,this._momentsBlue),E=l._volume(i,this._momentsAlpha),x=l._volume(i,this._weights),M=this._maximize(i,l.red,i.redMinimum+1,i.redMaximum,v,_,b,E,x),O=this._maximize(i,l.green,i.greenMinimum+1,i.greenMaximum,v,_,b,E,x),j=this._maximize(i,l.blue,i.blueMinimum+1,i.blueMaximum,v,_,b,E,x),T=this._maximize(i,l.alpha,i.alphaMinimum+1,i.alphaMaximum,v,_,b,E,x);if(T.max>=M.max&&T.max>=O.max&&T.max>=j.max){if(m=l.alpha,T.position<0)return!1}else M.max>=T.max&&M.max>=O.max&&M.max>=j.max?m=l.red:O.max>=T.max&&O.max>=M.max&&O.max>=j.max?m=l.green:m=l.blue;switch(p.redMaximum=i.redMaximum,p.greenMaximum=i.greenMaximum,p.blueMaximum=i.blueMaximum,p.alphaMaximum=i.alphaMaximum,m){case l.red:p.redMinimum=i.redMaximum=M.position,p.greenMinimum=i.greenMinimum,p.blueMinimum=i.blueMinimum,p.alphaMinimum=i.alphaMinimum;break;case l.green:p.greenMinimum=i.greenMaximum=O.position,p.redMinimum=i.redMinimum,p.blueMinimum=i.blueMinimum,p.alphaMinimum=i.alphaMinimum;break;case l.blue:p.blueMinimum=i.blueMaximum=j.position,p.redMinimum=i.redMinimum,p.greenMinimum=i.greenMinimum,p.alphaMinimum=i.alphaMinimum;break;case l.alpha:p.alphaMinimum=i.alphaMaximum=T.position,p.blueMinimum=i.blueMinimum,p.redMinimum=i.redMinimum,p.greenMinimum=i.greenMinimum;break}return i.volume=(i.redMaximum-i.redMinimum)*(i.greenMaximum-i.greenMinimum)*(i.blueMaximum-i.blueMinimum)*(i.alphaMaximum-i.alphaMinimum),p.volume=(p.redMaximum-p.redMinimum)*(p.greenMaximum-p.greenMinimum)*(p.blueMaximum-p.blueMinimum)*(p.alphaMaximum-p.alphaMinimum),!0},l.prototype._initialize=function(i){this._colors=i,this._cubes=[];for(var p=0;p<i;p++)this._cubes[p]=new c;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=a(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=a(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=a(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=a(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=a(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=a(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(var m=0;m<256;++m)this._table[m]=m*m;this._pixels=[]},l.prototype._setQuality=function(i){i===void 0&&(i=5),this._significantBitsPerChannel=i,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1},l.alpha=3,l.red=2,l.green=1,l.blue=0,l}();y.WuQuant=o},function(k,y,d){var g=d(31);y.NearestColor=g.NearestColor;var u=d(32);y.ErrorDiffusionArray=u.ErrorDiffusionArray,y.ErrorDiffusionArrayKernel=u.ErrorDiffusionArrayKernel;var s=d(33);y.ErrorDiffusionRiemersma=s.ErrorDiffusionRiemersma},function(k,y){var d=function(){function g(u){this._distance=u}return g.prototype.quantize=function(u,s){for(var a=u.getPointArray(),n=u.getWidth(),r=u.getHeight(),f=0;f<r;f++)for(var c=0,o=f*n;c<n;c++,o++){var l=a[o];l.from(s.getNearestColor(this._distance,l))}return u},g}();y.NearestColor=d},function(k,y,d){var g=d(24),u=d(6);(function(n){n[n.FloydSteinberg=0]="FloydSteinberg",n[n.FalseFloydSteinberg=1]="FalseFloydSteinberg",n[n.Stucki=2]="Stucki",n[n.Atkinson=3]="Atkinson",n[n.Jarvis=4]="Jarvis",n[n.Burkes=5]="Burkes",n[n.Sierra=6]="Sierra",n[n.TwoSierra=7]="TwoSierra",n[n.SierraLite=8]="SierraLite"})(y.ErrorDiffusionArrayKernel||(y.ErrorDiffusionArrayKernel={}));var s=y.ErrorDiffusionArrayKernel,a=function(){function n(r,f,c,o,l){c===void 0&&(c=!0),o===void 0&&(o=0),l===void 0&&(l=!1),this._setKernel(f),this._distance=r,this._minColorDistance=o,this._serpentine=c,this._calculateErrorLikeGIMP=l}return n.prototype.quantize=function(r,f){for(var c=r.getPointArray(),o=new g.Point,l=r.getWidth(),i=r.getHeight(),p=[],m=1,v=1,_=0;_<this._kernel.length;_++){var b=this._kernel[_][2]+1;v<b&&(v=b)}for(var _=0;_<v;_++)this._fillErrorLine(p[_]=[],l);for(var E=0;E<i;E++){this._serpentine&&(m=m*-1);var x=E*l,M=m==1?0:l-1,O=m==1?l:-1;this._fillErrorLine(p[0],l),p.push(p.shift());for(var j=p[0],T=M,U=x+M;T!==O;T+=m,U+=m){var H=c[U],D=j[T];o.from(H);var P=g.Point.createByRGBA(u.inRange0to255Rounded(H.r+D[0]),u.inRange0to255Rounded(H.g+D[1]),u.inRange0to255Rounded(H.b+D[2]),u.inRange0to255Rounded(H.a+D[3])),B=f.getNearestColor(this._distance,P);if(H.from(B),this._minColorDistance){var X=this._distance.calculateNormalized(H,B);if(X<this._minColorDistance)continue}var V=void 0,q=void 0,ee=void 0,Z=void 0;this._calculateErrorLikeGIMP?(V=P.r-B.r,q=P.g-B.g,ee=P.b-B.b,Z=P.a-B.a):(V=o.r-B.r,q=o.g-B.g,ee=o.b-B.b,Z=o.a-B.a);for(var J=m==1?0:this._kernel.length-1,K=m==1?this._kernel.length:-1,_=J;_!==K;_+=m){var re=this._kernel[_][1]*m,ue=this._kernel[_][2];if(re+T>=0&&re+T<l&&ue+E>=0&&ue+E<i){var ce=this._kernel[_][0],ve=p[ue][re+T];ve[0]=ve[0]+V*ce,ve[1]=ve[1]+q*ce,ve[2]=ve[2]+ee*ce,ve[3]=ve[3]+Z*ce}}}}return r},n.prototype._fillErrorLine=function(r,f){r.length>f&&(r.length=f);for(var c=r.length,o=0;o<c;o++){var l=r[o];l[0]=l[1]=l[2]=l[3]=0}for(var o=c;o<f;o++)r[o]=[0,0,0,0]},n.prototype._setKernel=function(r){switch(r){case s.FloydSteinberg:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case s.FalseFloydSteinberg:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case s.Stucki:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case s.Atkinson:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case s.Jarvis:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case s.Burkes:this._kernel=[[8/32,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[8/32,0,1],[4/32,1,1],[2/32,2,1]];break;case s.Sierra:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case s.TwoSierra:this._kernel=[[4/16,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case s.SierraLite:this._kernel=[[2/4,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error("ErrorDiffusionArray: unknown kernel = "+r)}},n}();y.ErrorDiffusionArray=a},function(k,y,d){var g=d(34),u=d(24),s=d(6),a=function(){function n(r,f,c){f===void 0&&(f=16),c===void 0&&(c=1),this._distance=r,this._errorPropagation=c,this._errorQueueSize=f,this._max=this._errorQueueSize,this._createWeights()}return n.prototype.quantize=function(r,f){for(var c=this,o=new g.HilbertCurveBase,l=r.getPointArray(),i=r.getWidth(),p=r.getHeight(),m=[],v=0,_=0;_<this._errorQueueSize;_++)m[_]={r:0,g:0,b:0,a:0};return o.walk(i,p,function(b,E){for(var x=l[b+E*i],M=x.r,O=x.g,j=x.b,T=x.a,U=0;U<c._errorQueueSize;U++){var H=c._weights[U],D=m[(U+v)%c._errorQueueSize];M+=D.r*H,O+=D.g*H,j+=D.b*H,T+=D.a*H}var P=u.Point.createByRGBA(s.inRange0to255Rounded(M),s.inRange0to255Rounded(O),s.inRange0to255Rounded(j),s.inRange0to255Rounded(T)),B=f.getNearestColor(c._distance,P);v=(v+1)%c._errorQueueSize;var X=(v+c._errorQueueSize-1)%c._errorQueueSize;m[X].r=x.r-B.r,m[X].g=x.g-B.g,m[X].b=x.b-B.b,m[X].a=x.a-B.a,x.from(B)}),r},n.prototype._createWeights=function(){this._weights=[];for(var r=Math.exp(Math.log(this._max)/(this._errorQueueSize-1)),f=0,c=1;f<this._errorQueueSize;f++)this._weights[f]=(c+.5|0)/this._max*this._errorPropagation,c*=r},n}();y.ErrorDiffusionRiemersma=a},function(k,y){var d;(function(u){u[u.NONE=0]="NONE",u[u.UP=1]="UP",u[u.LEFT=2]="LEFT",u[u.RIGHT=3]="RIGHT",u[u.DOWN=4]="DOWN"})(d||(d={}));var g=function(){function u(){}return u.prototype.walk=function(s,a,n){this._x=0,this._y=0,this._d=0,this._width=s,this._height=a,this._callback=n;var r=Math.max(s,a);this._level=Math.log(r)/Math.log(2)+1|0,this._walkHilbert(d.UP),this._visit(d.NONE)},u.prototype._walkHilbert=function(s){if(!(this._level<1)){switch(this._level--,s){case d.LEFT:this._walkHilbert(d.UP),this._visit(d.RIGHT),this._walkHilbert(d.LEFT),this._visit(d.DOWN),this._walkHilbert(d.LEFT),this._visit(d.LEFT),this._walkHilbert(d.DOWN);break;case d.RIGHT:this._walkHilbert(d.DOWN),this._visit(d.LEFT),this._walkHilbert(d.RIGHT),this._visit(d.UP),this._walkHilbert(d.RIGHT),this._visit(d.RIGHT),this._walkHilbert(d.UP);break;case d.UP:this._walkHilbert(d.LEFT),this._visit(d.DOWN),this._walkHilbert(d.UP),this._visit(d.RIGHT),this._walkHilbert(d.UP),this._visit(d.UP),this._walkHilbert(d.RIGHT);break;case d.DOWN:this._walkHilbert(d.RIGHT),this._visit(d.UP),this._walkHilbert(d.DOWN),this._visit(d.LEFT),this._walkHilbert(d.DOWN),this._visit(d.DOWN),this._walkHilbert(d.LEFT);break}this._level++}},u.prototype._visit=function(s){switch(this._x>=0&&this._x<this._width&&this._y>=0&&this._y<this._height&&(this._callback(this._x,this._y,this._d),this._d++),s){case d.LEFT:this._x--;break;case d.RIGHT:this._x++;break;case d.UP:this._y--;break;case d.DOWN:this._y++;break}},u}();y.HilbertCurveBase=g},function(k,y,d){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var g=d(36);y.SSIM=g.SSIM},function(k,y,d){var g=d(2),u=.01,s=.03,a=function(){function n(){}return n.prototype.compare=function(r,f){if(r.getHeight()!==f.getHeight()||r.getWidth()!==f.getWidth())throw new Error("Images have different sizes!");var c=8,o=(1<<c)-1,l=Math.pow(u*o,2),i=Math.pow(s*o,2),p=0,m=0;return this._iterate(r,f,function(v,_,b,E){for(var x=0,M=0,O=0,j=0;j<v.length;j++)M+=Math.pow(v[j]-b,2),O+=Math.pow(_[j]-E,2),x+=(v[j]-b)*(_[j]-E);var T=v.length-1;M/=T,O/=T,x/=T;var U=(2*b*E+l)*(2*x+i),H=(Math.pow(b,2)+Math.pow(E,2)+l)*(M+O+i),D=U/H;m+=D,p++}),m/p},n.prototype._iterate=function(r,f,c){for(var o=8,l=r.getWidth(),i=r.getHeight(),p=0;p<i;p+=o)for(var m=0;m<l;m+=o){var v=Math.min(o,l-m),_=Math.min(o,i-p),b=this._calculateLumaValuesForWindow(r,m,p,v,_),E=this._calculateLumaValuesForWindow(f,m,p,v,_),x=this._calculateAverageLuma(b),M=this._calculateAverageLuma(E);c(b,E,x,M)}},n.prototype._calculateLumaValuesForWindow=function(r,f,c,o,l){for(var i=r.getPointArray(),p=[],m=0,v=c;v<c+l;v++)for(var _=v*r.getWidth(),b=f;b<f+o;b++){var E=i[_+b];p[m]=E.r*g.Y.RED+E.g*g.Y.GREEN+E.b*g.Y.BLUE,m++}return p},n.prototype._calculateAverageLuma=function(r){for(var f=0,c=0;c<r.length;c++)f+=r[c];return f/r.length},n}();y.SSIM=a},function(k,y,d){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var g=d(6);y.arithmetic=g;var u=d(28);y.HueStatistics=u.HueStatistics;var s=d(22);y.Palette=s.Palette;var a=d(24);y.Point=a.Point;var n=d(23);y.PointContainer=n.PointContainer}])})},{}],75:[function(A,W,S){typeof Object.create=="function"?W.exports=function(y,d){d&&(y.super_=d,y.prototype=Object.create(d.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}))}:W.exports=function(y,d){if(d){y.super_=d;var g=function(){};g.prototype=d.prototype,y.prototype=new g,y.prototype.constructor=y}}},{}],76:[function(A,W,S){/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */W.exports=function(d){return d!=null&&(k(d)||y(d)||!!d._isBuffer)};function k(d){return!!d.constructor&&typeof d.constructor.isBuffer=="function"&&d.constructor.isBuffer(d)}function y(d){return typeof d.readFloatLE=="function"&&typeof d.slice=="function"&&k(d.slice(0,0))}},{}],77:[function(A,W,S){var k=Function.prototype.toString,y=/^\s*class\b/,d=function(f){try{var c=k.call(f);return y.test(c)}catch{return!1}},g=function(f){try{return d(f)?!1:(k.call(f),!0)}catch{return!1}},u=Object.prototype.toString,s="[object Function]",a="[object GeneratorFunction]",n=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol";W.exports=function(f){if(!f||typeof f!="function"&&typeof f!="object")return!1;if(typeof f=="function"&&!f.prototype)return!0;if(n)return g(f);if(d(f))return!1;var c=u.call(f);return c===s||c===a}},{}],78:[function(A,W,S){W.exports=y;var k=Object.prototype.toString;function y(d){var g=k.call(d);return g==="[object Function]"||typeof d=="function"&&g!=="[object RegExp]"||typeof ge<"u"&&(d===ge.setTimeout||d===ge.alert||d===ge.confirm||d===ge.prompt)}},{}],79:[function(A,W,S){var k={}.toString;W.exports=Array.isArray||function(y){return k.call(y)=="[object Array]"}},{}],80:[function(A,W,S){var k=A("./lib/encoder"),y=A("./lib/decoder");W.exports={encode:k,decode:y}},{"./lib/decoder":81,"./lib/encoder":82}],81:[function(A,W,S){(function(k){var y=function(){var u=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),s=4017,a=799,n=3406,r=2276,f=1567,c=3784,o=5793,l=2896;function i(){}function p(M,O){for(var j=0,T=[],U,H,D=16;D>0&&!M[D-1];)D--;T.push({children:[],index:0});var P=T[0],B;for(U=0;U<D;U++){for(H=0;H<M[U];H++){for(P=T.pop(),P.children[P.index]=O[j];P.index>0;){if(T.length===0)throw new Error("Could not recreate Huffman Table");P=T.pop()}for(P.index++,T.push(P);T.length<=U;)T.push(B={children:[],index:0}),P.children[P.index]=B.children,P=B;j++}U+1<D&&(T.push(B={children:[],index:0}),P.children[P.index]=B.children,P=B)}return T[0].children}function m(M,O,j,T,U,H,D,P,B,X){j.precision,j.samplesPerLine,j.scanLines;var V=j.mcusPerLine,q=j.progressive;j.maxH,j.maxV;var ee=O,Z=0,J=0;function K(){if(J>0)return J--,Z>>J&1;if(Z=M[O++],Z==255){var Ve=M[O++];if(Ve)throw new Error("unexpected marker: "+(Z<<8|Ve).toString(16))}return J=7,Z>>>7}function re(Ve){for(var We=Ve,Ue;(Ue=K())!==null;){if(We=We[Ue],typeof We=="number")return We;if(typeof We!="object")throw new Error("invalid huffman sequence")}return null}function ue(Ve){for(var We=0;Ve>0;){var Ue=K();if(Ue===null)return;We=We<<1|Ue,Ve--}return We}function ce(Ve){var We=ue(Ve);return We>=1<<Ve-1?We:We+(-1<<Ve)+1}function ve(Ve,We){var Ue=re(Ve.huffmanTableDC),et=Ue===0?0:ce(Ue);We[0]=Ve.pred+=et;for(var $e=1;$e<64;){var G=re(Ve.huffmanTableAC),be=G&15,Se=G>>4;if(be===0){if(Se<15)break;$e+=16;continue}$e+=Se;var Le=u[$e];We[Le]=ce(be),$e++}}function _e(Ve,We){var Ue=re(Ve.huffmanTableDC),et=Ue===0?0:ce(Ue)<<B;We[0]=Ve.pred+=et}function Re(Ve,We){We[0]|=K()<<B}var he=0;function fe(Ve,We){if(he>0){he--;return}for(var Ue=H,et=D;Ue<=et;){var $e=re(Ve.huffmanTableAC),G=$e&15,be=$e>>4;if(G===0){if(be<15){he=ue(be)+(1<<be)-1;break}Ue+=16;continue}Ue+=be;var Se=u[Ue];We[Se]=ce(G)*(1<<B),Ue++}}var ne=0,se;function oe(Ve,We){for(var Ue=H,et=D,$e=0;Ue<=et;){var G=u[Ue],be=We[G]<0?-1:1;switch(ne){case 0:var Se=re(Ve.huffmanTableAC),Le=Se&15,$e=Se>>4;if(Le===0)$e<15?(he=ue($e)+(1<<$e),ne=4):($e=16,ne=1);else{if(Le!==1)throw new Error("invalid ACn encoding");se=ce(Le),ne=$e?2:3}continue;case 1:case 2:We[G]?We[G]+=(K()<<B)*be:($e--,$e===0&&(ne=ne==2?3:0));break;case 3:We[G]?We[G]+=(K()<<B)*be:(We[G]=se<<B,ne=0);break;case 4:We[G]&&(We[G]+=(K()<<B)*be);break}Ue++}ne===4&&(he--,he===0&&(ne=0))}function Q(Ve,We,Ue,et,$e){var G=Ue/V|0,be=Ue%V,Se=G*Ve.v+et,Le=be*Ve.h+$e;Ve.blocks[Se]===void 0&&X.tolerantDecoding||We(Ve,Ve.blocks[Se][Le])}function I(Ve,We,Ue){var et=Ue/Ve.blocksPerLine|0,$e=Ue%Ve.blocksPerLine;Ve.blocks[et]===void 0&&X.tolerantDecoding||We(Ve,Ve.blocks[et][$e])}var L=T.length,te,$,N,C,ie,de;q?H===0?de=P===0?_e:Re:de=P===0?fe:oe:de=ve;var xe=0,Me,je;L==1?je=T[0].blocksPerLine*T[0].blocksPerColumn:je=V*j.mcusPerColumn,U||(U=je);for(var Ze,He;xe<je;){for($=0;$<L;$++)T[$].pred=0;if(he=0,L==1)for(te=T[0],ie=0;ie<U;ie++)I(te,de,xe),xe++;else for(ie=0;ie<U;ie++){for($=0;$<L;$++)for(te=T[$],Ze=te.h,He=te.v,N=0;N<He;N++)for(C=0;C<Ze;C++)Q(te,de,xe,N,C);if(xe++,xe===je)break}if(xe===je)do{if(M[O]===255&&M[O+1]!==0)break;O+=1}while(O<M.length-2);if(J=0,Me=M[O]<<8|M[O+1],Me<65280)throw new Error("marker was not found");if(Me>=65488&&Me<=65495)O+=2;else break}return O-ee}function v(M,O){var j=[],T=O.blocksPerLine,U=O.blocksPerColumn,H=T<<3,D=new Int32Array(64),P=new Uint8Array(64);function B(ue,ce,ve){var _e=O.quantizationTable,Re,he,fe,ne,se,oe,Q,I,L,te=ve,$;for($=0;$<64;$++)te[$]=ue[$]*_e[$];for($=0;$<8;++$){var N=8*$;if(te[1+N]==0&&te[2+N]==0&&te[3+N]==0&&te[4+N]==0&&te[5+N]==0&&te[6+N]==0&&te[7+N]==0){L=o*te[0+N]+512>>10,te[0+N]=L,te[1+N]=L,te[2+N]=L,te[3+N]=L,te[4+N]=L,te[5+N]=L,te[6+N]=L,te[7+N]=L;continue}Re=o*te[0+N]+128>>8,he=o*te[4+N]+128>>8,fe=te[2+N],ne=te[6+N],se=l*(te[1+N]-te[7+N])+128>>8,I=l*(te[1+N]+te[7+N])+128>>8,oe=te[3+N]<<4,Q=te[5+N]<<4,L=Re-he+1>>1,Re=Re+he+1>>1,he=L,L=fe*c+ne*f+128>>8,fe=fe*f-ne*c+128>>8,ne=L,L=se-Q+1>>1,se=se+Q+1>>1,Q=L,L=I+oe+1>>1,oe=I-oe+1>>1,I=L,L=Re-ne+1>>1,Re=Re+ne+1>>1,ne=L,L=he-fe+1>>1,he=he+fe+1>>1,fe=L,L=se*r+I*n+2048>>12,se=se*n-I*r+2048>>12,I=L,L=oe*a+Q*s+2048>>12,oe=oe*s-Q*a+2048>>12,Q=L,te[0+N]=Re+I,te[7+N]=Re-I,te[1+N]=he+Q,te[6+N]=he-Q,te[2+N]=fe+oe,te[5+N]=fe-oe,te[3+N]=ne+se,te[4+N]=ne-se}for($=0;$<8;++$){var C=$;if(te[8+C]==0&&te[16+C]==0&&te[24+C]==0&&te[32+C]==0&&te[40+C]==0&&te[48+C]==0&&te[56+C]==0){L=o*ve[$+0]+8192>>14,te[0+C]=L,te[8+C]=L,te[16+C]=L,te[24+C]=L,te[32+C]=L,te[40+C]=L,te[48+C]=L,te[56+C]=L;continue}Re=o*te[0+C]+2048>>12,he=o*te[32+C]+2048>>12,fe=te[16+C],ne=te[48+C],se=l*(te[8+C]-te[56+C])+2048>>12,I=l*(te[8+C]+te[56+C])+2048>>12,oe=te[24+C],Q=te[40+C],L=Re-he+1>>1,Re=Re+he+1>>1,he=L,L=fe*c+ne*f+2048>>12,fe=fe*f-ne*c+2048>>12,ne=L,L=se-Q+1>>1,se=se+Q+1>>1,Q=L,L=I+oe+1>>1,oe=I-oe+1>>1,I=L,L=Re-ne+1>>1,Re=Re+ne+1>>1,ne=L,L=he-fe+1>>1,he=he+fe+1>>1,fe=L,L=se*r+I*n+2048>>12,se=se*n-I*r+2048>>12,I=L,L=oe*a+Q*s+2048>>12,oe=oe*s-Q*a+2048>>12,Q=L,te[0+C]=Re+I,te[56+C]=Re-I,te[8+C]=he+Q,te[48+C]=he-Q,te[16+C]=fe+oe,te[40+C]=fe-oe,te[24+C]=ne+se,te[32+C]=ne-se}for($=0;$<64;++$){var ie=128+(te[$]+8>>4);ce[$]=ie<0?0:ie>255?255:ie}}x(H*U*8);for(var X,V,q=0;q<U;q++){var ee=q<<3;for(X=0;X<8;X++)j.push(new Uint8Array(H));for(var Z=0;Z<T;Z++){B(O.blocks[q][Z],P,D);var J=0,K=Z<<3;for(V=0;V<8;V++){var re=j[ee+V];for(X=0;X<8;X++)re[K+X]=P[J++]}}}return j}function _(M){return M<0?0:M>255?255:M}i.prototype={load:function(O){var j=new XMLHttpRequest;j.open("GET",O,!0),j.responseType="arraybuffer",j.onload=(function(){var T=new Uint8Array(j.response||j.mozResponseArrayBuffer);this.parse(T),this.onload&&this.onload()}).bind(this),j.send(null)},parse:function(O){var j=this.opts.maxResolutionInMP*1e3*1e3,T=0;O.length;function U(){var $e=O[T]<<8|O[T+1];return T+=2,$e}function H(){var $e=U(),G=O.subarray(T,T+$e-2);return T+=G.length,G}function D($e){var G=0,be=0,Se,Le;for(Le in $e.components)$e.components.hasOwnProperty(Le)&&(Se=$e.components[Le],G<Se.h&&(G=Se.h),be<Se.v&&(be=Se.v));var we=Math.ceil($e.samplesPerLine/8/G),Ce=Math.ceil($e.scanLines/8/be);for(Le in $e.components)if($e.components.hasOwnProperty(Le)){Se=$e.components[Le];var ae=Math.ceil(Math.ceil($e.samplesPerLine/8)*Se.h/G),Be=Math.ceil(Math.ceil($e.scanLines/8)*Se.v/be),qe=we*Se.h,w=Ce*Se.v,ye=w*qe,Ae=[];x(ye*256);for(var F=0;F<w;F++){for(var pe=[],Oe=0;Oe<qe;Oe++)pe.push(new Int32Array(64));Ae.push(pe)}Se.blocksPerLine=ae,Se.blocksPerColumn=Be,Se.blocks=Ae}$e.maxH=G,$e.maxV=be,$e.mcusPerLine=we,$e.mcusPerColumn=Ce}var P=null,B=null,X,V,q=[],ee=[],Z=[],J=[],K=U();if(K!=65496)throw new Error("SOI not found");for(K=U();K!=65497;){var re,ue;switch(K){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var ce=H();K===65504&&ce[0]===74&&ce[1]===70&&ce[2]===73&&ce[3]===70&&ce[4]===0&&(P={version:{major:ce[5],minor:ce[6]},densityUnits:ce[7],xDensity:ce[8]<<8|ce[9],yDensity:ce[10]<<8|ce[11],thumbWidth:ce[12],thumbHeight:ce[13],thumbData:ce.subarray(14,14+3*ce[12]*ce[13])}),K===65505&&ce[0]===69&&ce[1]===120&&ce[2]===105&&ce[3]===102&&ce[4]===0&&(this.exifBuffer=ce.subarray(5,ce.length)),K===65518&&ce[0]===65&&ce[1]===100&&ce[2]===111&&ce[3]===98&&ce[4]===101&&ce[5]===0&&(B={version:ce[6],flags0:ce[7]<<8|ce[8],flags1:ce[9]<<8|ce[10],transformCode:ce[11]});break;case 65499:for(var ve=U(),_e=ve+T-2;T<_e;){var Re=O[T++];x(256);var he=new Int32Array(64);if(Re>>4===0)for(ue=0;ue<64;ue++){var fe=u[ue];he[fe]=O[T++]}else if(Re>>4===1)for(ue=0;ue<64;ue++){var fe=u[ue];he[fe]=U()}else throw new Error("DQT: invalid table spec");q[Re&15]=he}break;case 65472:case 65473:case 65474:U(),X={},X.extended=K===65473,X.progressive=K===65474,X.precision=O[T++],X.scanLines=U(),X.samplesPerLine=U(),X.components={},X.componentsOrder=[];var ne=X.scanLines*X.samplesPerLine;if(ne>j){var se=Math.ceil((ne-j)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${se}MP`)}var oe=O[T++],Q;for(re=0;re<oe;re++){Q=O[T];var I=O[T+1]>>4,L=O[T+1]&15,te=O[T+2];X.componentsOrder.push(Q),X.components[Q]={h:I,v:L,quantizationIdx:te},T+=3}D(X),ee.push(X);break;case 65476:var $=U();for(re=2;re<$;){var N=O[T++],C=new Uint8Array(16),ie=0;for(ue=0;ue<16;ue++,T++)ie+=C[ue]=O[T];x(16+ie);var de=new Uint8Array(ie);for(ue=0;ue<ie;ue++,T++)de[ue]=O[T];re+=17+ie,(N>>4===0?J:Z)[N&15]=p(C,de)}break;case 65501:U(),V=U();break;case 65498:U();var xe=O[T++],Me=[],je;for(re=0;re<xe;re++){je=X.components[O[T++]];var Ze=O[T++];je.huffmanTableDC=J[Ze>>4],je.huffmanTableAC=Z[Ze&15],Me.push(je)}var He=O[T++],Ve=O[T++],We=O[T++],Ue=m(O,T,X,Me,V,He,Ve,We>>4,We&15,this.opts);T+=Ue;break;case 65535:O[T]!==255&&T--;break;default:if(O[T-3]==255&&O[T-2]>=192&&O[T-2]<=254){T-=3;break}throw new Error("unknown JPEG marker "+K.toString(16))}K=U()}if(ee.length!=1)throw new Error("only single frame JPEGs supported");for(var re=0;re<ee.length;re++){var et=ee[re].components;for(var ue in et)et[ue].quantizationTable=q[et[ue].quantizationIdx],delete et[ue].quantizationIdx}this.width=X.samplesPerLine,this.height=X.scanLines,this.jfif=P,this.adobe=B,this.components=[];for(var re=0;re<X.componentsOrder.length;re++){var je=X.components[X.componentsOrder[re]];this.components.push({lines:v(X,je),scaleX:je.h/X.maxH,scaleY:je.v/X.maxV})}},getData:function(O,j){var T=this.width/O,U=this.height/j,H,D,P,B,X,V,q,ee,Z,J,K=0,re,ue,ce,ve,_e,Re,he,fe,ne,se,oe,Q=O*j*this.components.length;x(Q);var I=new Uint8Array(Q);switch(this.components.length){case 1:for(H=this.components[0],J=0;J<j;J++)for(X=H.lines[0|J*H.scaleY*U],Z=0;Z<O;Z++)re=X[0|Z*H.scaleX*T],I[K++]=re;break;case 2:for(H=this.components[0],D=this.components[1],J=0;J<j;J++)for(X=H.lines[0|J*H.scaleY*U],V=D.lines[0|J*D.scaleY*U],Z=0;Z<O;Z++)re=X[0|Z*H.scaleX*T],I[K++]=re,re=V[0|Z*D.scaleX*T],I[K++]=re;break;case 3:for(oe=!0,this.adobe&&this.adobe.transformCode?oe=!0:typeof this.opts.colorTransform<"u"&&(oe=!!this.opts.colorTransform),H=this.components[0],D=this.components[1],P=this.components[2],J=0;J<j;J++)for(X=H.lines[0|J*H.scaleY*U],V=D.lines[0|J*D.scaleY*U],q=P.lines[0|J*P.scaleY*U],Z=0;Z<O;Z++)oe?(re=X[0|Z*H.scaleX*T],ue=V[0|Z*D.scaleX*T],ce=q[0|Z*P.scaleX*T],fe=_(re+1.402*(ce-128)),ne=_(re-.3441363*(ue-128)-.71413636*(ce-128)),se=_(re+1.772*(ue-128))):(fe=X[0|Z*H.scaleX*T],ne=V[0|Z*D.scaleX*T],se=q[0|Z*P.scaleX*T]),I[K++]=fe,I[K++]=ne,I[K++]=se;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(oe=!1,this.adobe&&this.adobe.transformCode?oe=!0:typeof this.opts.colorTransform<"u"&&(oe=!!this.opts.colorTransform),H=this.components[0],D=this.components[1],P=this.components[2],B=this.components[3],J=0;J<j;J++)for(X=H.lines[0|J*H.scaleY*U],V=D.lines[0|J*D.scaleY*U],q=P.lines[0|J*P.scaleY*U],ee=B.lines[0|J*B.scaleY*U],Z=0;Z<O;Z++)oe?(re=X[0|Z*H.scaleX*T],ue=V[0|Z*D.scaleX*T],ce=q[0|Z*P.scaleX*T],ve=ee[0|Z*B.scaleX*T],_e=255-_(re+1.402*(ce-128)),Re=255-_(re-.3441363*(ue-128)-.71413636*(ce-128)),he=255-_(re+1.772*(ue-128))):(_e=X[0|Z*H.scaleX*T],Re=V[0|Z*D.scaleX*T],he=q[0|Z*P.scaleX*T],ve=ee[0|Z*B.scaleX*T]),I[K++]=255-_e,I[K++]=255-Re,I[K++]=255-he,I[K++]=255-ve;break;default:throw new Error("Unsupported color mode")}return I},copyToImageData:function(O,j){var T=O.width,U=O.height,H=O.data,D=this.getData(T,U),P=0,B=0,X,V,q,ee,Z,J,K,re,ue;switch(this.components.length){case 1:for(V=0;V<U;V++)for(X=0;X<T;X++)q=D[P++],H[B++]=q,H[B++]=q,H[B++]=q,j&&(H[B++]=255);break;case 3:for(V=0;V<U;V++)for(X=0;X<T;X++)K=D[P++],re=D[P++],ue=D[P++],H[B++]=K,H[B++]=re,H[B++]=ue,j&&(H[B++]=255);break;case 4:for(V=0;V<U;V++)for(X=0;X<T;X++)Z=D[P++],J=D[P++],q=D[P++],ee=D[P++],K=255-_(Z*(1-ee/255)+ee),re=255-_(J*(1-ee/255)+ee),ue=255-_(q*(1-ee/255)+ee),H[B++]=K,H[B++]=re,H[B++]=ue,j&&(H[B++]=255);break;default:throw new Error("Unsupported color mode")}}};var b=0,E=0;function x(M=0){var O=b+M;if(O>E){var j=Math.ceil((O-E)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${j}MB`)}b=O}return i.resetMaxMemoryUsage=function(M){b=0,E=M},i.getBytesAllocated=function(){return b},i.requestMemoryAllocation=x,i}();typeof W<"u"?W.exports=d:typeof ge<"u"&&(ge["jpeg-js"]=ge["jpeg-js"]||{},ge["jpeg-js"].decode=d);function d(g,u={}){var s={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},a={...s,...u},n=new Uint8Array(g),r=new y;r.opts=a,y.resetMaxMemoryUsage(a.maxMemoryUsageInMB*1024*1024),r.parse(n);var f=a.formatAsRGBA?4:3,c=r.width*r.height*f;try{y.requestMemoryAllocation(c);var o={width:r.width,height:r.height,exifBuffer:r.exifBuffer,data:a.useTArray?new Uint8Array(c):new k(c)}}catch(l){throw l instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+c):l}return r.copyToImageData(o,a.formatAsRGBA),o}}).call(this,A("buffer").Buffer)},{buffer:48}],82:[function(A,W,S){(function(k){function y(g){var u=Math.floor,s=new Array(64),a=new Array(64),n=new Array(64),r=new Array(64),f,c,o,l,i=new Array(65535),p=new Array(65535),m=new Array(64),v=new Array(64),_=[],b=0,E=7,x=new Array(64),M=new Array(64),O=new Array(64),j=new Array(256),T=new Array(2048),U,H=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],X=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],V=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function J(C){for(var ie=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],de=0;de<64;de++){var xe=u((ie[de]*C+50)/100);xe<1?xe=1:xe>255&&(xe=255),s[H[de]]=xe}for(var Me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],je=0;je<64;je++){var Ze=u((Me[je]*C+50)/100);Ze<1?Ze=1:Ze>255&&(Ze=255),a[H[je]]=Ze}for(var He=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ve=0,We=0;We<8;We++)for(var Ue=0;Ue<8;Ue++)n[Ve]=1/(s[H[Ve]]*He[We]*He[Ue]*8),r[Ve]=1/(a[H[Ve]]*He[We]*He[Ue]*8),Ve++}function K(C,ie){for(var de=0,xe=0,Me=new Array,je=1;je<=16;je++){for(var Ze=1;Ze<=C[je];Ze++)Me[ie[xe]]=[],Me[ie[xe]][0]=de,Me[ie[xe]][1]=je,xe++,de++;de*=2}return Me}function re(){f=K(D,P),c=K(V,q),o=K(B,X),l=K(ee,Z)}function ue(){for(var C=1,ie=2,de=1;de<=15;de++){for(var xe=C;xe<ie;xe++)p[32767+xe]=de,i[32767+xe]=[],i[32767+xe][1]=de,i[32767+xe][0]=xe;for(var Me=-(ie-1);Me<=-C;Me++)p[32767+Me]=de,i[32767+Me]=[],i[32767+Me][1]=de,i[32767+Me][0]=ie-1+Me;C<<=1,ie<<=1}}function ce(){for(var C=0;C<256;C++)T[C]=19595*C,T[C+256>>0]=38470*C,T[C+512>>0]=7471*C+32768,T[C+768>>0]=-11059*C,T[C+1024>>0]=-21709*C,T[C+1280>>0]=32768*C+8421375,T[C+1536>>0]=-27439*C,T[C+1792>>0]=-5329*C}function ve(C){for(var ie=C[0],de=C[1]-1;de>=0;)ie&1<<de&&(b|=1<<E),de--,E--,E<0&&(b==255?(_e(255),_e(0)):_e(b),E=7,b=0)}function _e(C){_.push(C)}function Re(C){_e(C>>8&255),_e(C&255)}function he(C,ie){var de,xe,Me,je,Ze,He,Ve,We,Ue=0,et,$e=8,G=64;for(et=0;et<$e;++et){de=C[Ue],xe=C[Ue+1],Me=C[Ue+2],je=C[Ue+3],Ze=C[Ue+4],He=C[Ue+5],Ve=C[Ue+6],We=C[Ue+7];var be=de+We,Se=de-We,Le=xe+Ve,we=xe-Ve,Ce=Me+He,ae=Me-He,Be=je+Ze,qe=je-Ze,w=be+Be,ye=be-Be,Ae=Le+Ce,F=Le-Ce;C[Ue]=w+Ae,C[Ue+4]=w-Ae;var pe=(F+ye)*.707106781;C[Ue+2]=ye+pe,C[Ue+6]=ye-pe,w=qe+ae,Ae=ae+we,F=we+Se;var Oe=(w-F)*.382683433,Ge=.5411961*w+Oe,Fe=1.306562965*F+Oe,Je=Ae*.707106781,tt=Se+Je,Tt=Se-Je;C[Ue+5]=Tt+Ge,C[Ue+3]=Tt-Ge,C[Ue+1]=tt+Fe,C[Ue+7]=tt-Fe,Ue+=8}for(Ue=0,et=0;et<$e;++et){de=C[Ue],xe=C[Ue+8],Me=C[Ue+16],je=C[Ue+24],Ze=C[Ue+32],He=C[Ue+40],Ve=C[Ue+48],We=C[Ue+56];var vt=de+We,ht=de-We,_t=xe+Ve,xt=xe-Ve,bt=Me+He,br=Me-He,Er=je+Ze,Rt=je-Ze,Nt=vt+Er,kt=vt-Er,Gt=_t+bt,jt=_t-bt;C[Ue]=Nt+Gt,C[Ue+32]=Nt-Gt;var tn=(jt+kt)*.707106781;C[Ue+16]=kt+tn,C[Ue+48]=kt-tn,Nt=Rt+br,Gt=br+xt,jt=xt+ht;var bi=(Nt-jt)*.382683433,At=.5411961*Nt+bi,Ei=1.306562965*jt+bi,vn=Gt*.707106781,Un=ht+vn,rn=ht-vn;C[Ue+40]=rn+At,C[Ue+24]=rn-At,C[Ue+8]=Un+Ei,C[Ue+56]=Un-Ei,Ue++}var gn;for(et=0;et<G;++et)gn=C[et]*ie[et],m[et]=gn>0?gn+.5|0:gn-.5|0;return m}function fe(){Re(65504),Re(16),_e(74),_e(70),_e(73),_e(70),_e(0),_e(1),_e(1),_e(0),Re(1),Re(1),_e(0),_e(0)}function ne(C){if(C){Re(65505),C[0]===69&&C[1]===120&&C[2]===105&&C[3]===102?Re(C.length+2):(Re(C.length+5+2),_e(69),_e(120),_e(105),_e(102),_e(0));for(var ie=0;ie<C.length;ie++)_e(C[ie])}}function se(C,ie){Re(65472),Re(17),_e(8),Re(ie),Re(C),_e(3),_e(1),_e(17),_e(0),_e(2),_e(17),_e(1),_e(3),_e(17),_e(1)}function oe(){Re(65499),Re(132),_e(0);for(var C=0;C<64;C++)_e(s[C]);_e(1);for(var ie=0;ie<64;ie++)_e(a[ie])}function Q(){Re(65476),Re(418),_e(0);for(var C=0;C<16;C++)_e(D[C+1]);for(var ie=0;ie<=11;ie++)_e(P[ie]);_e(16);for(var de=0;de<16;de++)_e(B[de+1]);for(var xe=0;xe<=161;xe++)_e(X[xe]);_e(1);for(var Me=0;Me<16;Me++)_e(V[Me+1]);for(var je=0;je<=11;je++)_e(q[je]);_e(17);for(var Ze=0;Ze<16;Ze++)_e(ee[Ze+1]);for(var He=0;He<=161;He++)_e(Z[He])}function I(){Re(65498),Re(12),_e(3),_e(1),_e(0),_e(2),_e(17),_e(3),_e(17),_e(0),_e(63),_e(0)}function L(C,ie,de,xe,Me){for(var je=Me[0],Ze=Me[240],He,Ve=16,We=63,Ue=64,et=he(C,ie),$e=0;$e<Ue;++$e)v[H[$e]]=et[$e];var G=v[0]-de;de=v[0],G==0?ve(xe[0]):(He=32767+G,ve(xe[p[He]]),ve(i[He]));for(var be=63;be>0&&v[be]==0;be--);if(be==0)return ve(je),de;for(var Se=1,Le;Se<=be;){for(var we=Se;v[Se]==0&&Se<=be;++Se);var Ce=Se-we;if(Ce>=Ve){Le=Ce>>4;for(var ae=1;ae<=Le;++ae)ve(Ze);Ce=Ce&15}He=32767+v[Se],ve(Me[(Ce<<4)+p[He]]),ve(i[He]),Se++}return be!=We&&ve(je),de}function te(){for(var C=String.fromCharCode,ie=0;ie<256;ie++)j[ie]=C(ie)}this.encode=function(C,ie){new Date().getTime(),ie&&$(ie),_=new Array,b=0,E=7,Re(65496),fe(),ne(C.exifBuffer),oe(),se(C.width,C.height),Q(),I();var de=0,xe=0,Me=0;b=0,E=7,this.encode.displayName="_encode_";for(var je=C.data,Ze=C.width,He=C.height,Ve=Ze*4,We,Ue=0,et,$e,G,be,Se,Le,we,Ce;Ue<He;){for(We=0;We<Ve;){for(be=Ve*Ue+We,Se=be,Le=-1,we=0,Ce=0;Ce<64;Ce++)we=Ce>>3,Le=(Ce&7)*4,Se=be+we*Ve+Le,Ue+we>=He&&(Se-=Ve*(Ue+1+we-He)),We+Le>=Ve&&(Se-=We+Le-Ve+4),et=je[Se++],$e=je[Se++],G=je[Se++],x[Ce]=(T[et]+T[$e+256>>0]+T[G+512>>0]>>16)-128,M[Ce]=(T[et+768>>0]+T[$e+1024>>0]+T[G+1280>>0]>>16)-128,O[Ce]=(T[et+1280>>0]+T[$e+1536>>0]+T[G+1792>>0]>>16)-128;de=L(x,n,de,f,o),xe=L(M,r,xe,c,l),Me=L(O,r,Me,c,l),We+=32}Ue+=8}if(E>=0){var ae=[];ae[1]=E+1,ae[0]=(1<<E+1)-1,ve(ae)}return Re(65497),typeof W>"u"?new Uint8Array(_):new k(_)};function $(C){if(C<=0&&(C=1),C>100&&(C=100),U!=C){var ie=0;C<50?ie=Math.floor(5e3/C):ie=Math.floor(200-C*2),J(ie),U=C}}function N(){var C=new Date().getTime();g||(g=50),te(),re(),ue(),ce(),$(g),new Date().getTime()-C}N()}typeof W<"u"?W.exports=d:typeof ge<"u"&&(ge["jpeg-js"]=ge["jpeg-js"]||{},ge["jpeg-js"].encode=d);function d(g,u){typeof u>"u"&&(u=50);var s=new y(u),a=s.encode(g,u);return{data:a,width:g.width,height:g.height}}}).call(this,A("buffer").Buffer)},{buffer:48}],83:[function(A,W,S){(function(k){var y=A("path"),d=A("fs"),g=parseInt("0777",8);W.exports=u.mkdirp=u.mkdirP=u;function u(s,a,n,r){typeof a=="function"?(n=a,a={}):(!a||typeof a!="object")&&(a={mode:a});var f=a.mode,c=a.fs||d;f===void 0&&(f=g&~k.umask()),r||(r=null);var o=n||function(){};s=y.resolve(s),c.mkdir(s,f,function(l){if(!l)return r=r||s,o(null,r);switch(l.code){case"ENOENT":u(y.dirname(s),a,function(i,p){i?o(i,p):u(s,a,o,p)});break;default:c.stat(s,function(i,p){i||!p.isDirectory()?o(l,r):o(null,r)});break}})}u.sync=function s(a,n,r){(!n||typeof n!="object")&&(n={mode:n});var f=n.mode,c=n.fs||d;f===void 0&&(f=g&~k.umask()),r||(r=null),a=y.resolve(a);try{c.mkdirSync(a,f),r=r||a}catch(l){switch(l.code){case"ENOENT":r=s(y.dirname(a),n,r),s(a,n,r);break;default:var o;try{o=c.statSync(a)}catch{throw l}if(!o.isDirectory())throw l;break}}return r}}).call(this,A("_process"))},{_process:133,fs:47,path:107}],84:[function(A,W,S){var k=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;function g(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function u(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var a={},n=0;n<10;n++)a["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(a).map(function(c){return a[c]});if(r.join("")!=="0123456789")return!1;var f={};return"abcdefghijklmnopqrst".split("").forEach(function(c){f[c]=c}),Object.keys(Object.assign({},f)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}W.exports=u()?Object.assign:function(s,a){for(var n,r=g(s),f,c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var o in n)y.call(n,o)&&(r[o]=n[o]);if(k){f=k(n);for(var l=0;l<f.length;l++)d.call(n,f[l])&&(r[f[l]]=n[f[l]])}}return r}},{}],85:[function(A,W,S){arguments[4][64][0].apply(S,arguments)},{dup:64}],86:[function(A,W,S){var k=A("./lib/utils/common").assign,y=A("./lib/deflate"),d=A("./lib/inflate"),g=A("./lib/zlib/constants"),u={};k(u,y,d,g),W.exports=u},{"./lib/deflate":87,"./lib/inflate":88,"./lib/utils/common":89,"./lib/zlib/constants":92}],87:[function(A,W,S){var k=A("./zlib/deflate"),y=A("./utils/common"),d=A("./utils/strings"),g=A("./zlib/messages"),u=A("./zlib/zstream"),s=Object.prototype.toString,a=0,n=4,r=0,f=1,c=2,o=-1,l=0,i=8;function p(b){if(!(this instanceof p))return new p(b);this.options=y.assign({level:o,method:i,chunkSize:16384,windowBits:15,memLevel:8,strategy:l,to:""},b||{});var E=this.options;E.raw&&E.windowBits>0?E.windowBits=-E.windowBits:E.gzip&&E.windowBits>0&&E.windowBits<16&&(E.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var x=k.deflateInit2(this.strm,E.level,E.method,E.windowBits,E.memLevel,E.strategy);if(x!==r)throw new Error(g[x]);if(E.header&&k.deflateSetHeader(this.strm,E.header),E.dictionary){var M;if(typeof E.dictionary=="string"?M=d.string2buf(E.dictionary):s.call(E.dictionary)==="[object ArrayBuffer]"?M=new Uint8Array(E.dictionary):M=E.dictionary,x=k.deflateSetDictionary(this.strm,M),x!==r)throw new Error(g[x]);this._dict_set=!0}}p.prototype.push=function(b,E){var x=this.strm,M=this.options.chunkSize,O,j;if(this.ended)return!1;j=E===~~E?E:E===!0?n:a,typeof b=="string"?x.input=d.string2buf(b):s.call(b)==="[object ArrayBuffer]"?x.input=new Uint8Array(b):x.input=b,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new y.Buf8(M),x.next_out=0,x.avail_out=M),O=k.deflate(x,j),O!==f&&O!==r)return this.onEnd(O),this.ended=!0,!1;(x.avail_out===0||x.avail_in===0&&(j===n||j===c))&&(this.options.to==="string"?this.onData(d.buf2binstring(y.shrinkBuf(x.output,x.next_out))):this.onData(y.shrinkBuf(x.output,x.next_out)))}while((x.avail_in>0||x.avail_out===0)&&O!==f);return j===n?(O=k.deflateEnd(this.strm),this.onEnd(O),this.ended=!0,O===r):(j===c&&(this.onEnd(r),x.avail_out=0),!0)},p.prototype.onData=function(b){this.chunks.push(b)},p.prototype.onEnd=function(b){b===r&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg};function m(b,E){var x=new p(E);if(x.push(b,!0),x.err)throw x.msg||g[x.err];return x.result}function v(b,E){return E=E||{},E.raw=!0,m(b,E)}function _(b,E){return E=E||{},E.gzip=!0,m(b,E)}S.Deflate=p,S.deflate=m,S.deflateRaw=v,S.gzip=_},{"./utils/common":89,"./utils/strings":90,"./zlib/deflate":94,"./zlib/messages":99,"./zlib/zstream":101}],88:[function(A,W,S){var k=A("./zlib/inflate"),y=A("./utils/common"),d=A("./utils/strings"),g=A("./zlib/constants"),u=A("./zlib/messages"),s=A("./zlib/zstream"),a=A("./zlib/gzheader"),n=Object.prototype.toString;function r(o){if(!(this instanceof r))return new r(o);this.options=y.assign({chunkSize:16384,windowBits:0,to:""},o||{});var l=this.options;l.raw&&l.windowBits>=0&&l.windowBits<16&&(l.windowBits=-l.windowBits,l.windowBits===0&&(l.windowBits=-15)),l.windowBits>=0&&l.windowBits<16&&!(o&&o.windowBits)&&(l.windowBits+=32),l.windowBits>15&&l.windowBits<48&&(l.windowBits&15)===0&&(l.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var i=k.inflateInit2(this.strm,l.windowBits);if(i!==g.Z_OK)throw new Error(u[i]);this.header=new a,k.inflateGetHeader(this.strm,this.header)}r.prototype.push=function(o,l){var i=this.strm,p=this.options.chunkSize,m=this.options.dictionary,v,_,b,E,x,M,O=!1;if(this.ended)return!1;_=l===~~l?l:l===!0?g.Z_FINISH:g.Z_NO_FLUSH,typeof o=="string"?i.input=d.binstring2buf(o):n.call(o)==="[object ArrayBuffer]"?i.input=new Uint8Array(o):i.input=o,i.next_in=0,i.avail_in=i.input.length;do{if(i.avail_out===0&&(i.output=new y.Buf8(p),i.next_out=0,i.avail_out=p),v=k.inflate(i,g.Z_NO_FLUSH),v===g.Z_NEED_DICT&&m&&(typeof m=="string"?M=d.string2buf(m):n.call(m)==="[object ArrayBuffer]"?M=new Uint8Array(m):M=m,v=k.inflateSetDictionary(this.strm,M)),v===g.Z_BUF_ERROR&&O===!0&&(v=g.Z_OK,O=!1),v!==g.Z_STREAM_END&&v!==g.Z_OK)return this.onEnd(v),this.ended=!0,!1;i.next_out&&(i.avail_out===0||v===g.Z_STREAM_END||i.avail_in===0&&(_===g.Z_FINISH||_===g.Z_SYNC_FLUSH))&&(this.options.to==="string"?(b=d.utf8border(i.output,i.next_out),E=i.next_out-b,x=d.buf2string(i.output,b),i.next_out=E,i.avail_out=p-E,E&&y.arraySet(i.output,i.output,b,E,0),this.onData(x)):this.onData(y.shrinkBuf(i.output,i.next_out))),i.avail_in===0&&i.avail_out===0&&(O=!0)}while((i.avail_in>0||i.avail_out===0)&&v!==g.Z_STREAM_END);return v===g.Z_STREAM_END&&(_=g.Z_FINISH),_===g.Z_FINISH?(v=k.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===g.Z_OK):(_===g.Z_SYNC_FLUSH&&(this.onEnd(g.Z_OK),i.avail_out=0),!0)},r.prototype.onData=function(o){this.chunks.push(o)},r.prototype.onEnd=function(o){o===g.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=o,this.msg=this.strm.msg};function f(o,l){var i=new r(l);if(i.push(o,!0),i.err)throw i.msg||u[i.err];return i.result}function c(o,l){return l=l||{},l.raw=!0,f(o,l)}S.Inflate=r,S.inflate=f,S.inflateRaw=c,S.ungzip=f},{"./utils/common":89,"./utils/strings":90,"./zlib/constants":92,"./zlib/gzheader":95,"./zlib/inflate":97,"./zlib/messages":99,"./zlib/zstream":101}],89:[function(A,W,S){arguments[4][36][0].apply(S,arguments)},{dup:36}],90:[function(A,W,S){var k=A("./common"),y=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch{y=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{d=!1}for(var g=new k.Buf8(256),u=0;u<256;u++)g[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;g[254]=g[254]=1,S.string2buf=function(a){var n,r,f,c,o,l=a.length,i=0;for(c=0;c<l;c++)r=a.charCodeAt(c),(r&64512)===55296&&c+1<l&&(f=a.charCodeAt(c+1),(f&64512)===56320&&(r=65536+(r-55296<<10)+(f-56320),c++)),i+=r<128?1:r<2048?2:r<65536?3:4;for(n=new k.Buf8(i),o=0,c=0;o<i;c++)r=a.charCodeAt(c),(r&64512)===55296&&c+1<l&&(f=a.charCodeAt(c+1),(f&64512)===56320&&(r=65536+(r-55296<<10)+(f-56320),c++)),r<128?n[o++]=r:r<2048?(n[o++]=192|r>>>6,n[o++]=128|r&63):r<65536?(n[o++]=224|r>>>12,n[o++]=128|r>>>6&63,n[o++]=128|r&63):(n[o++]=240|r>>>18,n[o++]=128|r>>>12&63,n[o++]=128|r>>>6&63,n[o++]=128|r&63);return n};function s(a,n){if(n<65537&&(a.subarray&&d||!a.subarray&&y))return String.fromCharCode.apply(null,k.shrinkBuf(a,n));for(var r="",f=0;f<n;f++)r+=String.fromCharCode(a[f]);return r}S.buf2binstring=function(a){return s(a,a.length)},S.binstring2buf=function(a){for(var n=new k.Buf8(a.length),r=0,f=n.length;r<f;r++)n[r]=a.charCodeAt(r);return n},S.buf2string=function(a,n){var r,f,c,o,l=n||a.length,i=new Array(l*2);for(f=0,r=0;r<l;){if(c=a[r++],c<128){i[f++]=c;continue}if(o=g[c],o>4){i[f++]=65533,r+=o-1;continue}for(c&=o===2?31:o===3?15:7;o>1&&r<l;)c=c<<6|a[r++]&63,o--;if(o>1){i[f++]=65533;continue}c<65536?i[f++]=c:(c-=65536,i[f++]=55296|c>>10&1023,i[f++]=56320|c&1023)}return s(i,f)},S.utf8border=function(a,n){var r;for(n=n||a.length,n>a.length&&(n=a.length),r=n-1;r>=0&&(a[r]&192)===128;)r--;return r<0||r===0?n:r+g[a[r]]>n?r:n}},{"./common":89}],91:[function(A,W,S){arguments[4][37][0].apply(S,arguments)},{dup:37}],92:[function(A,W,S){arguments[4][38][0].apply(S,arguments)},{dup:38}],93:[function(A,W,S){arguments[4][39][0].apply(S,arguments)},{dup:39}],94:[function(A,W,S){var k=A("../utils/common"),y=A("./trees"),d=A("./adler32"),g=A("./crc32"),u=A("./messages"),s=0,a=1,n=3,r=4,f=5,c=0,o=1,l=-2,i=-3,p=-5,m=-1,v=1,_=2,b=3,E=4,x=0,M=2,O=8,j=9,T=15,U=8,H=29,D=256,P=D+1+H,B=30,X=19,V=2*P+1,q=15,ee=3,Z=258,J=Z+ee+1,K=32,re=42,ue=69,ce=73,ve=91,_e=103,Re=113,he=666,fe=1,ne=2,se=3,oe=4,Q=3;function I(w,ye){return w.msg=u[ye],ye}function L(w){return(w<<1)-(w>4?9:0)}function te(w){for(var ye=w.length;--ye>=0;)w[ye]=0}function $(w){var ye=w.state,Ae=ye.pending;Ae>w.avail_out&&(Ae=w.avail_out),Ae!==0&&(k.arraySet(w.output,ye.pending_buf,ye.pending_out,Ae,w.next_out),w.next_out+=Ae,ye.pending_out+=Ae,w.total_out+=Ae,w.avail_out-=Ae,ye.pending-=Ae,ye.pending===0&&(ye.pending_out=0))}function N(w,ye){y._tr_flush_block(w,w.block_start>=0?w.block_start:-1,w.strstart-w.block_start,ye),w.block_start=w.strstart,$(w.strm)}function C(w,ye){w.pending_buf[w.pending++]=ye}function ie(w,ye){w.pending_buf[w.pending++]=ye>>>8&255,w.pending_buf[w.pending++]=ye&255}function de(w,ye,Ae,F){var pe=w.avail_in;return pe>F&&(pe=F),pe===0?0:(w.avail_in-=pe,k.arraySet(ye,w.input,w.next_in,pe,Ae),w.state.wrap===1?w.adler=d(w.adler,ye,pe,Ae):w.state.wrap===2&&(w.adler=g(w.adler,ye,pe,Ae)),w.next_in+=pe,w.total_in+=pe,pe)}function xe(w,ye){var Ae=w.max_chain_length,F=w.strstart,pe,Oe,Ge=w.prev_length,Fe=w.nice_match,Je=w.strstart>w.w_size-J?w.strstart-(w.w_size-J):0,tt=w.window,Tt=w.w_mask,vt=w.prev,ht=w.strstart+Z,_t=tt[F+Ge-1],xt=tt[F+Ge];w.prev_length>=w.good_match&&(Ae>>=2),Fe>w.lookahead&&(Fe=w.lookahead);do if(pe=ye,!(tt[pe+Ge]!==xt||tt[pe+Ge-1]!==_t||tt[pe]!==tt[F]||tt[++pe]!==tt[F+1])){F+=2,pe++;do;while(tt[++F]===tt[++pe]&&tt[++F]===tt[++pe]&&tt[++F]===tt[++pe]&&tt[++F]===tt[++pe]&&tt[++F]===tt[++pe]&&tt[++F]===tt[++pe]&&tt[++F]===tt[++pe]&&tt[++F]===tt[++pe]&&F<ht);if(Oe=Z-(ht-F),F=ht-Z,Oe>Ge){if(w.match_start=ye,Ge=Oe,Oe>=Fe)break;_t=tt[F+Ge-1],xt=tt[F+Ge]}}while((ye=vt[ye&Tt])>Je&&--Ae!==0);return Ge<=w.lookahead?Ge:w.lookahead}function Me(w){var ye=w.w_size,Ae,F,pe,Oe,Ge;do{if(Oe=w.window_size-w.lookahead-w.strstart,w.strstart>=ye+(ye-J)){k.arraySet(w.window,w.window,ye,ye,0),w.match_start-=ye,w.strstart-=ye,w.block_start-=ye,F=w.hash_size,Ae=F;do pe=w.head[--Ae],w.head[Ae]=pe>=ye?pe-ye:0;while(--F);F=ye,Ae=F;do pe=w.prev[--Ae],w.prev[Ae]=pe>=ye?pe-ye:0;while(--F);Oe+=ye}if(w.strm.avail_in===0)break;if(F=de(w.strm,w.window,w.strstart+w.lookahead,Oe),w.lookahead+=F,w.lookahead+w.insert>=ee)for(Ge=w.strstart-w.insert,w.ins_h=w.window[Ge],w.ins_h=(w.ins_h<<w.hash_shift^w.window[Ge+1])&w.hash_mask;w.insert&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[Ge+ee-1])&w.hash_mask,w.prev[Ge&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=Ge,Ge++,w.insert--,!(w.lookahead+w.insert<ee)););}while(w.lookahead<J&&w.strm.avail_in!==0)}function je(w,ye){var Ae=65535;for(Ae>w.pending_buf_size-5&&(Ae=w.pending_buf_size-5);;){if(w.lookahead<=1){if(Me(w),w.lookahead===0&&ye===s)return fe;if(w.lookahead===0)break}w.strstart+=w.lookahead,w.lookahead=0;var F=w.block_start+Ae;if((w.strstart===0||w.strstart>=F)&&(w.lookahead=w.strstart-F,w.strstart=F,N(w,!1),w.strm.avail_out===0)||w.strstart-w.block_start>=w.w_size-J&&(N(w,!1),w.strm.avail_out===0))return fe}return w.insert=0,ye===r?(N(w,!0),w.strm.avail_out===0?se:oe):(w.strstart>w.block_start&&(N(w,!1),w.strm.avail_out===0),fe)}function Ze(w,ye){for(var Ae,F;;){if(w.lookahead<J){if(Me(w),w.lookahead<J&&ye===s)return fe;if(w.lookahead===0)break}if(Ae=0,w.lookahead>=ee&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+ee-1])&w.hash_mask,Ae=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),Ae!==0&&w.strstart-Ae<=w.w_size-J&&(w.match_length=xe(w,Ae)),w.match_length>=ee)if(F=y._tr_tally(w,w.strstart-w.match_start,w.match_length-ee),w.lookahead-=w.match_length,w.match_length<=w.max_lazy_match&&w.lookahead>=ee){w.match_length--;do w.strstart++,w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+ee-1])&w.hash_mask,Ae=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart;while(--w.match_length!==0);w.strstart++}else w.strstart+=w.match_length,w.match_length=0,w.ins_h=w.window[w.strstart],w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+1])&w.hash_mask;else F=y._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++;if(F&&(N(w,!1),w.strm.avail_out===0))return fe}return w.insert=w.strstart<ee-1?w.strstart:ee-1,ye===r?(N(w,!0),w.strm.avail_out===0?se:oe):w.last_lit&&(N(w,!1),w.strm.avail_out===0)?fe:ne}function He(w,ye){for(var Ae,F,pe;;){if(w.lookahead<J){if(Me(w),w.lookahead<J&&ye===s)return fe;if(w.lookahead===0)break}if(Ae=0,w.lookahead>=ee&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+ee-1])&w.hash_mask,Ae=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),w.prev_length=w.match_length,w.prev_match=w.match_start,w.match_length=ee-1,Ae!==0&&w.prev_length<w.max_lazy_match&&w.strstart-Ae<=w.w_size-J&&(w.match_length=xe(w,Ae),w.match_length<=5&&(w.strategy===v||w.match_length===ee&&w.strstart-w.match_start>4096)&&(w.match_length=ee-1)),w.prev_length>=ee&&w.match_length<=w.prev_length){pe=w.strstart+w.lookahead-ee,F=y._tr_tally(w,w.strstart-1-w.prev_match,w.prev_length-ee),w.lookahead-=w.prev_length-1,w.prev_length-=2;do++w.strstart<=pe&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+ee-1])&w.hash_mask,Ae=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart);while(--w.prev_length!==0);if(w.match_available=0,w.match_length=ee-1,w.strstart++,F&&(N(w,!1),w.strm.avail_out===0))return fe}else if(w.match_available){if(F=y._tr_tally(w,0,w.window[w.strstart-1]),F&&N(w,!1),w.strstart++,w.lookahead--,w.strm.avail_out===0)return fe}else w.match_available=1,w.strstart++,w.lookahead--}return w.match_available&&(F=y._tr_tally(w,0,w.window[w.strstart-1]),w.match_available=0),w.insert=w.strstart<ee-1?w.strstart:ee-1,ye===r?(N(w,!0),w.strm.avail_out===0?se:oe):w.last_lit&&(N(w,!1),w.strm.avail_out===0)?fe:ne}function Ve(w,ye){for(var Ae,F,pe,Oe,Ge=w.window;;){if(w.lookahead<=Z){if(Me(w),w.lookahead<=Z&&ye===s)return fe;if(w.lookahead===0)break}if(w.match_length=0,w.lookahead>=ee&&w.strstart>0&&(pe=w.strstart-1,F=Ge[pe],F===Ge[++pe]&&F===Ge[++pe]&&F===Ge[++pe])){Oe=w.strstart+Z;do;while(F===Ge[++pe]&&F===Ge[++pe]&&F===Ge[++pe]&&F===Ge[++pe]&&F===Ge[++pe]&&F===Ge[++pe]&&F===Ge[++pe]&&F===Ge[++pe]&&pe<Oe);w.match_length=Z-(Oe-pe),w.match_length>w.lookahead&&(w.match_length=w.lookahead)}if(w.match_length>=ee?(Ae=y._tr_tally(w,1,w.match_length-ee),w.lookahead-=w.match_length,w.strstart+=w.match_length,w.match_length=0):(Ae=y._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++),Ae&&(N(w,!1),w.strm.avail_out===0))return fe}return w.insert=0,ye===r?(N(w,!0),w.strm.avail_out===0?se:oe):w.last_lit&&(N(w,!1),w.strm.avail_out===0)?fe:ne}function We(w,ye){for(var Ae;;){if(w.lookahead===0&&(Me(w),w.lookahead===0)){if(ye===s)return fe;break}if(w.match_length=0,Ae=y._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++,Ae&&(N(w,!1),w.strm.avail_out===0))return fe}return w.insert=0,ye===r?(N(w,!0),w.strm.avail_out===0?se:oe):w.last_lit&&(N(w,!1),w.strm.avail_out===0)?fe:ne}function Ue(w,ye,Ae,F,pe){this.good_length=w,this.max_lazy=ye,this.nice_length=Ae,this.max_chain=F,this.func=pe}var et;et=[new Ue(0,0,0,0,je),new Ue(4,4,8,4,Ze),new Ue(4,5,16,8,Ze),new Ue(4,6,32,32,Ze),new Ue(4,4,16,16,He),new Ue(8,16,32,32,He),new Ue(8,16,128,128,He),new Ue(8,32,128,256,He),new Ue(32,128,258,1024,He),new Ue(32,258,258,4096,He)];function $e(w){w.window_size=2*w.w_size,te(w.head),w.max_lazy_match=et[w.level].max_lazy,w.good_match=et[w.level].good_length,w.nice_match=et[w.level].nice_length,w.max_chain_length=et[w.level].max_chain,w.strstart=0,w.block_start=0,w.lookahead=0,w.insert=0,w.match_length=w.prev_length=ee-1,w.match_available=0,w.ins_h=0}function G(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=O,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new k.Buf16(V*2),this.dyn_dtree=new k.Buf16((2*B+1)*2),this.bl_tree=new k.Buf16((2*X+1)*2),te(this.dyn_ltree),te(this.dyn_dtree),te(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new k.Buf16(q+1),this.heap=new k.Buf16(2*P+1),te(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new k.Buf16(2*P+1),te(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function be(w){var ye;return!w||!w.state?I(w,l):(w.total_in=w.total_out=0,w.data_type=M,ye=w.state,ye.pending=0,ye.pending_out=0,ye.wrap<0&&(ye.wrap=-ye.wrap),ye.status=ye.wrap?re:Re,w.adler=ye.wrap===2?0:1,ye.last_flush=s,y._tr_init(ye),c)}function Se(w){var ye=be(w);return ye===c&&$e(w.state),ye}function Le(w,ye){return!w||!w.state||w.state.wrap!==2?l:(w.state.gzhead=ye,c)}function we(w,ye,Ae,F,pe,Oe){if(!w)return l;var Ge=1;if(ye===m&&(ye=6),F<0?(Ge=0,F=-F):F>15&&(Ge=2,F-=16),pe<1||pe>j||Ae!==O||F<8||F>15||ye<0||ye>9||Oe<0||Oe>E)return I(w,l);F===8&&(F=9);var Fe=new G;return w.state=Fe,Fe.strm=w,Fe.wrap=Ge,Fe.gzhead=null,Fe.w_bits=F,Fe.w_size=1<<Fe.w_bits,Fe.w_mask=Fe.w_size-1,Fe.hash_bits=pe+7,Fe.hash_size=1<<Fe.hash_bits,Fe.hash_mask=Fe.hash_size-1,Fe.hash_shift=~~((Fe.hash_bits+ee-1)/ee),Fe.window=new k.Buf8(Fe.w_size*2),Fe.head=new k.Buf16(Fe.hash_size),Fe.prev=new k.Buf16(Fe.w_size),Fe.lit_bufsize=1<<pe+6,Fe.pending_buf_size=Fe.lit_bufsize*4,Fe.pending_buf=new k.Buf8(Fe.pending_buf_size),Fe.d_buf=1*Fe.lit_bufsize,Fe.l_buf=3*Fe.lit_bufsize,Fe.level=ye,Fe.strategy=Oe,Fe.method=Ae,Se(w)}function Ce(w,ye){return we(w,ye,O,T,U,x)}function ae(w,ye){var Ae,F,pe,Oe;if(!w||!w.state||ye>f||ye<0)return w?I(w,l):l;if(F=w.state,!w.output||!w.input&&w.avail_in!==0||F.status===he&&ye!==r)return I(w,w.avail_out===0?p:l);if(F.strm=w,Ae=F.last_flush,F.last_flush=ye,F.status===re)if(F.wrap===2)w.adler=0,C(F,31),C(F,139),C(F,8),F.gzhead?(C(F,(F.gzhead.text?1:0)+(F.gzhead.hcrc?2:0)+(F.gzhead.extra?4:0)+(F.gzhead.name?8:0)+(F.gzhead.comment?16:0)),C(F,F.gzhead.time&255),C(F,F.gzhead.time>>8&255),C(F,F.gzhead.time>>16&255),C(F,F.gzhead.time>>24&255),C(F,F.level===9?2:F.strategy>=_||F.level<2?4:0),C(F,F.gzhead.os&255),F.gzhead.extra&&F.gzhead.extra.length&&(C(F,F.gzhead.extra.length&255),C(F,F.gzhead.extra.length>>8&255)),F.gzhead.hcrc&&(w.adler=g(w.adler,F.pending_buf,F.pending,0)),F.gzindex=0,F.status=ue):(C(F,0),C(F,0),C(F,0),C(F,0),C(F,0),C(F,F.level===9?2:F.strategy>=_||F.level<2?4:0),C(F,Q),F.status=Re);else{var Ge=O+(F.w_bits-8<<4)<<8,Fe=-1;F.strategy>=_||F.level<2?Fe=0:F.level<6?Fe=1:F.level===6?Fe=2:Fe=3,Ge|=Fe<<6,F.strstart!==0&&(Ge|=K),Ge+=31-Ge%31,F.status=Re,ie(F,Ge),F.strstart!==0&&(ie(F,w.adler>>>16),ie(F,w.adler&65535)),w.adler=1}if(F.status===ue)if(F.gzhead.extra){for(pe=F.pending;F.gzindex<(F.gzhead.extra.length&65535)&&!(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>pe&&(w.adler=g(w.adler,F.pending_buf,F.pending-pe,pe)),$(w),pe=F.pending,F.pending===F.pending_buf_size));)C(F,F.gzhead.extra[F.gzindex]&255),F.gzindex++;F.gzhead.hcrc&&F.pending>pe&&(w.adler=g(w.adler,F.pending_buf,F.pending-pe,pe)),F.gzindex===F.gzhead.extra.length&&(F.gzindex=0,F.status=ce)}else F.status=ce;if(F.status===ce)if(F.gzhead.name){pe=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>pe&&(w.adler=g(w.adler,F.pending_buf,F.pending-pe,pe)),$(w),pe=F.pending,F.pending===F.pending_buf_size)){Oe=1;break}F.gzindex<F.gzhead.name.length?Oe=F.gzhead.name.charCodeAt(F.gzindex++)&255:Oe=0,C(F,Oe)}while(Oe!==0);F.gzhead.hcrc&&F.pending>pe&&(w.adler=g(w.adler,F.pending_buf,F.pending-pe,pe)),Oe===0&&(F.gzindex=0,F.status=ve)}else F.status=ve;if(F.status===ve)if(F.gzhead.comment){pe=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>pe&&(w.adler=g(w.adler,F.pending_buf,F.pending-pe,pe)),$(w),pe=F.pending,F.pending===F.pending_buf_size)){Oe=1;break}F.gzindex<F.gzhead.comment.length?Oe=F.gzhead.comment.charCodeAt(F.gzindex++)&255:Oe=0,C(F,Oe)}while(Oe!==0);F.gzhead.hcrc&&F.pending>pe&&(w.adler=g(w.adler,F.pending_buf,F.pending-pe,pe)),Oe===0&&(F.status=_e)}else F.status=_e;if(F.status===_e&&(F.gzhead.hcrc?(F.pending+2>F.pending_buf_size&&$(w),F.pending+2<=F.pending_buf_size&&(C(F,w.adler&255),C(F,w.adler>>8&255),w.adler=0,F.status=Re)):F.status=Re),F.pending!==0){if($(w),w.avail_out===0)return F.last_flush=-1,c}else if(w.avail_in===0&&L(ye)<=L(Ae)&&ye!==r)return I(w,p);if(F.status===he&&w.avail_in!==0)return I(w,p);if(w.avail_in!==0||F.lookahead!==0||ye!==s&&F.status!==he){var Je=F.strategy===_?We(F,ye):F.strategy===b?Ve(F,ye):et[F.level].func(F,ye);if((Je===se||Je===oe)&&(F.status=he),Je===fe||Je===se)return w.avail_out===0&&(F.last_flush=-1),c;if(Je===ne&&(ye===a?y._tr_align(F):ye!==f&&(y._tr_stored_block(F,0,0,!1),ye===n&&(te(F.head),F.lookahead===0&&(F.strstart=0,F.block_start=0,F.insert=0))),$(w),w.avail_out===0))return F.last_flush=-1,c}return ye!==r?c:F.wrap<=0?o:(F.wrap===2?(C(F,w.adler&255),C(F,w.adler>>8&255),C(F,w.adler>>16&255),C(F,w.adler>>24&255),C(F,w.total_in&255),C(F,w.total_in>>8&255),C(F,w.total_in>>16&255),C(F,w.total_in>>24&255)):(ie(F,w.adler>>>16),ie(F,w.adler&65535)),$(w),F.wrap>0&&(F.wrap=-F.wrap),F.pending!==0?c:o)}function Be(w){var ye;return!w||!w.state?l:(ye=w.state.status,ye!==re&&ye!==ue&&ye!==ce&&ye!==ve&&ye!==_e&&ye!==Re&&ye!==he?I(w,l):(w.state=null,ye===Re?I(w,i):c))}function qe(w,ye){var Ae=ye.length,F,pe,Oe,Ge,Fe,Je,tt,Tt;if(!w||!w.state||(F=w.state,Ge=F.wrap,Ge===2||Ge===1&&F.status!==re||F.lookahead))return l;for(Ge===1&&(w.adler=d(w.adler,ye,Ae,0)),F.wrap=0,Ae>=F.w_size&&(Ge===0&&(te(F.head),F.strstart=0,F.block_start=0,F.insert=0),Tt=new k.Buf8(F.w_size),k.arraySet(Tt,ye,Ae-F.w_size,F.w_size,0),ye=Tt,Ae=F.w_size),Fe=w.avail_in,Je=w.next_in,tt=w.input,w.avail_in=Ae,w.next_in=0,w.input=ye,Me(F);F.lookahead>=ee;){pe=F.strstart,Oe=F.lookahead-(ee-1);do F.ins_h=(F.ins_h<<F.hash_shift^F.window[pe+ee-1])&F.hash_mask,F.prev[pe&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=pe,pe++;while(--Oe);F.strstart=pe,F.lookahead=ee-1,Me(F)}return F.strstart+=F.lookahead,F.block_start=F.strstart,F.insert=F.lookahead,F.lookahead=0,F.match_length=F.prev_length=ee-1,F.match_available=0,w.next_in=Je,w.input=tt,w.avail_in=Fe,F.wrap=Ge,c}S.deflateInit=Ce,S.deflateInit2=we,S.deflateReset=Se,S.deflateResetKeep=be,S.deflateSetHeader=Le,S.deflate=ae,S.deflateEnd=Be,S.deflateSetDictionary=qe,S.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":89,"./adler32":91,"./crc32":93,"./messages":99,"./trees":100}],95:[function(A,W,S){function k(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}W.exports=k},{}],96:[function(A,W,S){arguments[4][41][0].apply(S,arguments)},{dup:41}],97:[function(A,W,S){arguments[4][42][0].apply(S,arguments)},{"../utils/common":89,"./adler32":91,"./crc32":93,"./inffast":96,"./inftrees":98,dup:42}],98:[function(A,W,S){arguments[4][43][0].apply(S,arguments)},{"../utils/common":89,dup:43}],99:[function(A,W,S){arguments[4][44][0].apply(S,arguments)},{dup:44}],100:[function(A,W,S){var k=A("../utils/common"),y=4,d=0,g=1,u=2;function s(G){for(var be=G.length;--be>=0;)G[be]=0}var a=0,n=1,r=2,f=3,c=258,o=29,l=256,i=l+1+o,p=30,m=19,v=2*i+1,_=15,b=16,E=7,x=256,M=16,O=17,j=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],U=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=512,B=new Array((i+2)*2);s(B);var X=new Array(p*2);s(X);var V=new Array(P);s(V);var q=new Array(c-f+1);s(q);var ee=new Array(o);s(ee);var Z=new Array(p);s(Z);function J(G,be,Se,Le,we){this.static_tree=G,this.extra_bits=be,this.extra_base=Se,this.elems=Le,this.max_length=we,this.has_stree=G&&G.length}var K,re,ue;function ce(G,be){this.dyn_tree=G,this.max_code=0,this.stat_desc=be}function ve(G){return G<256?V[G]:V[256+(G>>>7)]}function _e(G,be){G.pending_buf[G.pending++]=be&255,G.pending_buf[G.pending++]=be>>>8&255}function Re(G,be,Se){G.bi_valid>b-Se?(G.bi_buf|=be<<G.bi_valid&65535,_e(G,G.bi_buf),G.bi_buf=be>>b-G.bi_valid,G.bi_valid+=Se-b):(G.bi_buf|=be<<G.bi_valid&65535,G.bi_valid+=Se)}function he(G,be,Se){Re(G,Se[be*2],Se[be*2+1])}function fe(G,be){var Se=0;do Se|=G&1,G>>>=1,Se<<=1;while(--be>0);return Se>>>1}function ne(G){G.bi_valid===16?(_e(G,G.bi_buf),G.bi_buf=0,G.bi_valid=0):G.bi_valid>=8&&(G.pending_buf[G.pending++]=G.bi_buf&255,G.bi_buf>>=8,G.bi_valid-=8)}function se(G,be){var Se=be.dyn_tree,Le=be.max_code,we=be.stat_desc.static_tree,Ce=be.stat_desc.has_stree,ae=be.stat_desc.extra_bits,Be=be.stat_desc.extra_base,qe=be.stat_desc.max_length,w,ye,Ae,F,pe,Oe,Ge=0;for(F=0;F<=_;F++)G.bl_count[F]=0;for(Se[G.heap[G.heap_max]*2+1]=0,w=G.heap_max+1;w<v;w++)ye=G.heap[w],F=Se[Se[ye*2+1]*2+1]+1,F>qe&&(F=qe,Ge++),Se[ye*2+1]=F,!(ye>Le)&&(G.bl_count[F]++,pe=0,ye>=Be&&(pe=ae[ye-Be]),Oe=Se[ye*2],G.opt_len+=Oe*(F+pe),Ce&&(G.static_len+=Oe*(we[ye*2+1]+pe)));if(Ge!==0){do{for(F=qe-1;G.bl_count[F]===0;)F--;G.bl_count[F]--,G.bl_count[F+1]+=2,G.bl_count[qe]--,Ge-=2}while(Ge>0);for(F=qe;F!==0;F--)for(ye=G.bl_count[F];ye!==0;)Ae=G.heap[--w],!(Ae>Le)&&(Se[Ae*2+1]!==F&&(G.opt_len+=(F-Se[Ae*2+1])*Se[Ae*2],Se[Ae*2+1]=F),ye--)}}function oe(G,be,Se){var Le=new Array(_+1),we=0,Ce,ae;for(Ce=1;Ce<=_;Ce++)Le[Ce]=we=we+Se[Ce-1]<<1;for(ae=0;ae<=be;ae++){var Be=G[ae*2+1];Be!==0&&(G[ae*2]=fe(Le[Be]++,Be))}}function Q(){var G,be,Se,Le,we,Ce=new Array(_+1);for(Se=0,Le=0;Le<o-1;Le++)for(ee[Le]=Se,G=0;G<1<<T[Le];G++)q[Se++]=Le;for(q[Se-1]=Le,we=0,Le=0;Le<16;Le++)for(Z[Le]=we,G=0;G<1<<U[Le];G++)V[we++]=Le;for(we>>=7;Le<p;Le++)for(Z[Le]=we<<7,G=0;G<1<<U[Le]-7;G++)V[256+we++]=Le;for(be=0;be<=_;be++)Ce[be]=0;for(G=0;G<=143;)B[G*2+1]=8,G++,Ce[8]++;for(;G<=255;)B[G*2+1]=9,G++,Ce[9]++;for(;G<=279;)B[G*2+1]=7,G++,Ce[7]++;for(;G<=287;)B[G*2+1]=8,G++,Ce[8]++;for(oe(B,i+1,Ce),G=0;G<p;G++)X[G*2+1]=5,X[G*2]=fe(G,5);K=new J(B,T,l+1,i,_),re=new J(X,U,0,p,_),ue=new J(new Array(0),H,0,m,E)}function I(G){var be;for(be=0;be<i;be++)G.dyn_ltree[be*2]=0;for(be=0;be<p;be++)G.dyn_dtree[be*2]=0;for(be=0;be<m;be++)G.bl_tree[be*2]=0;G.dyn_ltree[x*2]=1,G.opt_len=G.static_len=0,G.last_lit=G.matches=0}function L(G){G.bi_valid>8?_e(G,G.bi_buf):G.bi_valid>0&&(G.pending_buf[G.pending++]=G.bi_buf),G.bi_buf=0,G.bi_valid=0}function te(G,be,Se,Le){L(G),_e(G,Se),_e(G,~Se),k.arraySet(G.pending_buf,G.window,be,Se,G.pending),G.pending+=Se}function $(G,be,Se,Le){var we=be*2,Ce=Se*2;return G[we]<G[Ce]||G[we]===G[Ce]&&Le[be]<=Le[Se]}function N(G,be,Se){for(var Le=G.heap[Se],we=Se<<1;we<=G.heap_len&&(we<G.heap_len&&$(be,G.heap[we+1],G.heap[we],G.depth)&&we++,!$(be,Le,G.heap[we],G.depth));)G.heap[Se]=G.heap[we],Se=we,we<<=1;G.heap[Se]=Le}function C(G,be,Se){var Le,we,Ce=0,ae,Be;if(G.last_lit!==0)do Le=G.pending_buf[G.d_buf+Ce*2]<<8|G.pending_buf[G.d_buf+Ce*2+1],we=G.pending_buf[G.l_buf+Ce],Ce++,Le===0?he(G,we,be):(ae=q[we],he(G,ae+l+1,be),Be=T[ae],Be!==0&&(we-=ee[ae],Re(G,we,Be)),Le--,ae=ve(Le),he(G,ae,Se),Be=U[ae],Be!==0&&(Le-=Z[ae],Re(G,Le,Be)));while(Ce<G.last_lit);he(G,x,be)}function ie(G,be){var Se=be.dyn_tree,Le=be.stat_desc.static_tree,we=be.stat_desc.has_stree,Ce=be.stat_desc.elems,ae,Be,qe=-1,w;for(G.heap_len=0,G.heap_max=v,ae=0;ae<Ce;ae++)Se[ae*2]!==0?(G.heap[++G.heap_len]=qe=ae,G.depth[ae]=0):Se[ae*2+1]=0;for(;G.heap_len<2;)w=G.heap[++G.heap_len]=qe<2?++qe:0,Se[w*2]=1,G.depth[w]=0,G.opt_len--,we&&(G.static_len-=Le[w*2+1]);for(be.max_code=qe,ae=G.heap_len>>1;ae>=1;ae--)N(G,Se,ae);w=Ce;do ae=G.heap[1],G.heap[1]=G.heap[G.heap_len--],N(G,Se,1),Be=G.heap[1],G.heap[--G.heap_max]=ae,G.heap[--G.heap_max]=Be,Se[w*2]=Se[ae*2]+Se[Be*2],G.depth[w]=(G.depth[ae]>=G.depth[Be]?G.depth[ae]:G.depth[Be])+1,Se[ae*2+1]=Se[Be*2+1]=w,G.heap[1]=w++,N(G,Se,1);while(G.heap_len>=2);G.heap[--G.heap_max]=G.heap[1],se(G,be),oe(Se,qe,G.bl_count)}function de(G,be,Se){var Le,we=-1,Ce,ae=be[0*2+1],Be=0,qe=7,w=4;for(ae===0&&(qe=138,w=3),be[(Se+1)*2+1]=65535,Le=0;Le<=Se;Le++)Ce=ae,ae=be[(Le+1)*2+1],!(++Be<qe&&Ce===ae)&&(Be<w?G.bl_tree[Ce*2]+=Be:Ce!==0?(Ce!==we&&G.bl_tree[Ce*2]++,G.bl_tree[M*2]++):Be<=10?G.bl_tree[O*2]++:G.bl_tree[j*2]++,Be=0,we=Ce,ae===0?(qe=138,w=3):Ce===ae?(qe=6,w=3):(qe=7,w=4))}function xe(G,be,Se){var Le,we=-1,Ce,ae=be[0*2+1],Be=0,qe=7,w=4;for(ae===0&&(qe=138,w=3),Le=0;Le<=Se;Le++)if(Ce=ae,ae=be[(Le+1)*2+1],!(++Be<qe&&Ce===ae)){if(Be<w)do he(G,Ce,G.bl_tree);while(--Be!==0);else Ce!==0?(Ce!==we&&(he(G,Ce,G.bl_tree),Be--),he(G,M,G.bl_tree),Re(G,Be-3,2)):Be<=10?(he(G,O,G.bl_tree),Re(G,Be-3,3)):(he(G,j,G.bl_tree),Re(G,Be-11,7));Be=0,we=Ce,ae===0?(qe=138,w=3):Ce===ae?(qe=6,w=3):(qe=7,w=4)}}function Me(G){var be;for(de(G,G.dyn_ltree,G.l_desc.max_code),de(G,G.dyn_dtree,G.d_desc.max_code),ie(G,G.bl_desc),be=m-1;be>=3&&G.bl_tree[D[be]*2+1]===0;be--);return G.opt_len+=3*(be+1)+5+5+4,be}function je(G,be,Se,Le){var we;for(Re(G,be-257,5),Re(G,Se-1,5),Re(G,Le-4,4),we=0;we<Le;we++)Re(G,G.bl_tree[D[we]*2+1],3);xe(G,G.dyn_ltree,be-1),xe(G,G.dyn_dtree,Se-1)}function Ze(G){var be=4093624447,Se;for(Se=0;Se<=31;Se++,be>>>=1)if(be&1&&G.dyn_ltree[Se*2]!==0)return d;if(G.dyn_ltree[9*2]!==0||G.dyn_ltree[10*2]!==0||G.dyn_ltree[13*2]!==0)return g;for(Se=32;Se<l;Se++)if(G.dyn_ltree[Se*2]!==0)return g;return d}var He=!1;function Ve(G){He||(Q(),He=!0),G.l_desc=new ce(G.dyn_ltree,K),G.d_desc=new ce(G.dyn_dtree,re),G.bl_desc=new ce(G.bl_tree,ue),G.bi_buf=0,G.bi_valid=0,I(G)}function We(G,be,Se,Le){Re(G,(a<<1)+(Le?1:0),3),te(G,be,Se)}function Ue(G){Re(G,n<<1,3),he(G,x,B),ne(G)}function et(G,be,Se,Le){var we,Ce,ae=0;G.level>0?(G.strm.data_type===u&&(G.strm.data_type=Ze(G)),ie(G,G.l_desc),ie(G,G.d_desc),ae=Me(G),we=G.opt_len+3+7>>>3,Ce=G.static_len+3+7>>>3,Ce<=we&&(we=Ce)):we=Ce=Se+5,Se+4<=we&&be!==-1?We(G,be,Se,Le):G.strategy===y||Ce===we?(Re(G,(n<<1)+(Le?1:0),3),C(G,B,X)):(Re(G,(r<<1)+(Le?1:0),3),je(G,G.l_desc.max_code+1,G.d_desc.max_code+1,ae+1),C(G,G.dyn_ltree,G.dyn_dtree)),I(G),Le&&L(G)}function $e(G,be,Se){return G.pending_buf[G.d_buf+G.last_lit*2]=be>>>8&255,G.pending_buf[G.d_buf+G.last_lit*2+1]=be&255,G.pending_buf[G.l_buf+G.last_lit]=Se&255,G.last_lit++,be===0?G.dyn_ltree[Se*2]++:(G.matches++,be--,G.dyn_ltree[(q[Se]+l+1)*2]++,G.dyn_dtree[ve(be)*2]++),G.last_lit===G.lit_bufsize-1}S._tr_init=Ve,S._tr_stored_block=We,S._tr_flush_block=et,S._tr_tally=$e,S._tr_align=Ue},{"../utils/common":89}],101:[function(A,W,S){arguments[4][46][0].apply(S,arguments)},{dup:46}],102:[function(A,W,S){W.exports=function(u){if(!u)throw new Error("no data provided");u=u.toString().trim();var s={pages:[],chars:[],kernings:[]},a=u.split(/\r\n?|\n/g);if(a.length===0)throw new Error("no data in BMFont file");for(var n=0;n<a.length;n++){var r=k(a[n],n);if(r)if(r.key==="page"){if(typeof r.data.id!="number")throw new Error("malformed file at line "+n+" -- needs page id=N");if(typeof r.data.file!="string")throw new Error("malformed file at line "+n+' -- needs page file="path"');s.pages[r.data.id]=r.data.file}else r.key==="chars"||r.key==="kernings"||(r.key==="char"?s.chars.push(r.data):r.key==="kerning"?s.kernings.push(r.data):s[r.key]=r.data)}return s};function k(g,u){if(g=g.replace(/\t+/g," ").trim(),!g)return null;var s=g.indexOf(" ");if(s===-1)throw new Error("no named row at line "+u);var a=g.substring(0,s);g=g.substring(s+1),g=g.replace(/letter=[\'\"]\S+[\'\"]/gi,""),g=g.split("="),g=g.map(function(o){return o.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var n=[],r=0;r<g.length;r++){var f=g[r];r===0?n.push({key:f[0],data:""}):r===g.length-1?n[n.length-1].data=y(f[0]):(n[n.length-1].data=y(f[0]),n.push({key:f[1],data:""}))}var c={key:a,data:{}};return n.forEach(function(o){c.data[o.key]=o.data}),c}function y(g){return!g||g.length===0?"":g.indexOf('"')===0||g.indexOf("'")===0?g.substring(1,g.length-1):g.indexOf(",")!==-1?d(g):parseInt(g,10)}function d(g){return g.split(",").map(function(u){return parseInt(u,10)})}},{}],103:[function(A,W,S){var k=[66,77,70];W.exports=function(c){if(c.length<6)throw new Error("invalid buffer length for BMFont");var o=k.every(function(v,_){return c.readUInt8(_)===v});if(!o)throw new Error("BMFont missing BMF byte header");var l=3,i=c.readUInt8(l++);if(i>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var p={kernings:[],chars:[]},m=0;m<5;m++)l+=y(p,c,l);return p};function y(f,c,o){if(o>c.length-1)return 0;var l=c.readUInt8(o++),i=c.readInt32LE(o);switch(o+=4,l){case 1:f.info=d(c,o);break;case 2:f.common=g(c,o);break;case 3:f.pages=u(c,o,i);break;case 4:f.chars=s(c,o,i);break;case 5:f.kernings=a(c,o,i);break}return 5+i}function d(f,c){var o={};o.size=f.readInt16LE(c);var l=f.readUInt8(c+2);return o.smooth=l>>7&1,o.unicode=l>>6&1,o.italic=l>>5&1,o.bold=l>>4&1,l>>3&1&&(o.fixedHeight=1),o.charset=f.readUInt8(c+3)||"",o.stretchH=f.readUInt16LE(c+4),o.aa=f.readUInt8(c+6),o.padding=[f.readInt8(c+7),f.readInt8(c+8),f.readInt8(c+9),f.readInt8(c+10)],o.spacing=[f.readInt8(c+11),f.readInt8(c+12)],o.outline=f.readUInt8(c+13),o.face=r(f,c+14),o}function g(f,c){var o={};return o.lineHeight=f.readUInt16LE(c),o.base=f.readUInt16LE(c+2),o.scaleW=f.readUInt16LE(c+4),o.scaleH=f.readUInt16LE(c+6),o.pages=f.readUInt16LE(c+8),f.readUInt8(c+10),o.packed=0,o.alphaChnl=f.readUInt8(c+11),o.redChnl=f.readUInt8(c+12),o.greenChnl=f.readUInt8(c+13),o.blueChnl=f.readUInt8(c+14),o}function u(f,c,o){for(var l=[],i=n(f,c),p=i.length+1,m=o/p,v=0;v<m;v++)l[v]=f.slice(c,c+i.length).toString("utf8"),c+=p;return l}function s(f,c,o){for(var l=[],i=o/20,p=0;p<i;p++){var m={},v=p*20;m.id=f.readUInt32LE(c+0+v),m.x=f.readUInt16LE(c+4+v),m.y=f.readUInt16LE(c+6+v),m.width=f.readUInt16LE(c+8+v),m.height=f.readUInt16LE(c+10+v),m.xoffset=f.readInt16LE(c+12+v),m.yoffset=f.readInt16LE(c+14+v),m.xadvance=f.readInt16LE(c+16+v),m.page=f.readUInt8(c+18+v),m.chnl=f.readUInt8(c+19+v),l[p]=m}return l}function a(f,c,o){for(var l=[],i=o/10,p=0;p<i;p++){var m={},v=p*10;m.first=f.readUInt32LE(c+0+v),m.second=f.readUInt32LE(c+4+v),m.amount=f.readInt16LE(c+8+v),l[p]=m}return l}function n(f,c){for(var o=c;o<f.length&&f[o]!==0;o++);return f.slice(c,o)}function r(f,c){return n(f,c).toString("utf8")}},{}],104:[function(A,W,S){var k=A("./parse-attribs"),y=A("xml-parse-from-string"),d={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};W.exports=function(n){n=n.toString();var r=y(n),f={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(v){var _=r.getElementsByTagName(v)[0];_&&(f[v]=k(g(_)))});var c=r.getElementsByTagName("pages")[0];if(!c)throw new Error("malformed file -- no <pages> element");for(var o=c.getElementsByTagName("page"),l=0;l<o.length;l++){var i=o[l],p=parseInt(i.getAttribute("id"),10),m=i.getAttribute("file");if(isNaN(p))throw new Error('malformed file -- page "id" attribute is NaN');if(!m)throw new Error('malformed file -- needs page "file" attribute');f.pages[parseInt(p,10)]=m}return["chars","kernings"].forEach(function(v){var _=r.getElementsByTagName(v)[0];if(_)for(var b=v.substring(0,v.length-1),E=_.getElementsByTagName(b),x=0;x<E.length;x++){var M=E[x];f[v].push(k(g(M)))}}),f};function g(a){var n=u(a);return n.reduce(function(r,f){var c=s(f.nodeName);return r[c]=f.nodeValue,r},{})}function u(a){for(var n=[],r=0;r<a.attributes.length;r++)n.push(a.attributes[r]);return n}function s(a){return d[a.toLowerCase()]||a}},{"./parse-attribs":105,"xml-parse-from-string":188}],105:[function(A,W,S){var k="chasrset";W.exports=function(g){k in g&&(g.charset=g[k],delete g[k]);for(var u in g)u==="face"||u==="charset"||(u==="padding"||u==="spacing"?g[u]=y(g[u]):g[u]=parseInt(g[u],10));return g};function y(d){return d.split(",").map(function(g){return parseInt(g,10)})}},{}],106:[function(A,W,S){var k=A("trim"),y=A("for-each"),d=function(g){return Object.prototype.toString.call(g)==="[object Array]"};W.exports=function(g){if(!g)return{};var u={};return y(k(g).split(`
`),function(s){var a=s.indexOf(":"),n=k(s.slice(0,a)).toLowerCase(),r=k(s.slice(a+1));typeof u[n]>"u"?u[n]=r:d(u[n])?u[n].push(r):u[n]=[u[n],r]}),u}},{"for-each":63,trim:179}],107:[function(A,W,S){(function(k){function y(s,a){for(var n=0,r=s.length-1;r>=0;r--){var f=s[r];f==="."?s.splice(r,1):f===".."?(s.splice(r,1),n++):n&&(s.splice(r,1),n--)}if(a)for(;n--;n)s.unshift("..");return s}S.resolve=function(){for(var s="",a=!1,n=arguments.length-1;n>=-1&&!a;n--){var r=n>=0?arguments[n]:k.cwd();if(typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!r)continue;s=r+"/"+s,a=r.charAt(0)==="/"}return s=y(g(s.split("/"),function(f){return!!f}),!a).join("/"),(a?"/":"")+s||"."},S.normalize=function(s){var a=S.isAbsolute(s),n=u(s,-1)==="/";return s=y(g(s.split("/"),function(r){return!!r}),!a).join("/"),!s&&!a&&(s="."),s&&n&&(s+="/"),(a?"/":"")+s},S.isAbsolute=function(s){return s.charAt(0)==="/"},S.join=function(){var s=Array.prototype.slice.call(arguments,0);return S.normalize(g(s,function(a,n){if(typeof a!="string")throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},S.relative=function(s,a){s=S.resolve(s).substr(1),a=S.resolve(a).substr(1);function n(p){for(var m=0;m<p.length&&p[m]==="";m++);for(var v=p.length-1;v>=0&&p[v]==="";v--);return m>v?[]:p.slice(m,v-m+1)}for(var r=n(s.split("/")),f=n(a.split("/")),c=Math.min(r.length,f.length),o=c,l=0;l<c;l++)if(r[l]!==f[l]){o=l;break}for(var i=[],l=o;l<r.length;l++)i.push("..");return i=i.concat(f.slice(o)),i.join("/")},S.sep="/",S.delimiter=":",S.dirname=function(s){if(typeof s!="string"&&(s=s+""),s.length===0)return".";for(var a=s.charCodeAt(0),n=a===47,r=-1,f=!0,c=s.length-1;c>=1;--c)if(a=s.charCodeAt(c),a===47){if(!f){r=c;break}}else f=!1;return r===-1?n?"/":".":n&&r===1?"/":s.slice(0,r)};function d(s){typeof s!="string"&&(s=s+"");var a=0,n=-1,r=!0,f;for(f=s.length-1;f>=0;--f)if(s.charCodeAt(f)===47){if(!r){a=f+1;break}}else n===-1&&(r=!1,n=f+1);return n===-1?"":s.slice(a,n)}S.basename=function(s,a){var n=d(s);return a&&n.substr(-1*a.length)===a&&(n=n.substr(0,n.length-a.length)),n},S.extname=function(s){typeof s!="string"&&(s=s+"");for(var a=-1,n=0,r=-1,f=!0,c=0,o=s.length-1;o>=0;--o){var l=s.charCodeAt(o);if(l===47){if(!f){n=o+1;break}continue}r===-1&&(f=!1,r=o+1),l===46?a===-1?a=o:c!==1&&(c=1):a!==-1&&(c=-1)}return a===-1||r===-1||c===0||c===1&&a===r-1&&a===n+1?"":s.slice(a,r)};function g(s,a){if(s.filter)return s.filter(a);for(var n=[],r=0;r<s.length;r++)a(s[r],r,s)&&n.push(s[r]);return n}var u="ab".substr(-1)==="b"?function(s,a,n){return s.substr(a,n)}:function(s,a,n){return a<0&&(a=s.length+a),s.substr(a,n)}}).call(this,A("_process"))},{_process:133}],108:[function(A,W,S){(function(k){var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},d=A("http"),g=A("https"),u=A("url"),s=A("querystring"),a=A("zlib"),n=A("util"),r=function(c,o){if(typeof c!="string"&&!c.hasOwnProperty("url"))throw new Error("Missing url option from options for request method.");var l=(typeof c>"u"?"undefined":y(c))==="object"?u.parse(c.url):u.parse(c),i={hostname:l.hostname,port:l.port||(l.protocol.toLowerCase()==="http:"?80:443),path:l.path,method:"GET",headers:{},auth:l.auth||null,parse:"none",stream:!1};if((typeof c>"u"?"undefined":y(c))==="object"&&(i=Object.assign(i,c)),i.port=Number(i.port),i.hasOwnProperty("timeout")&&delete i.timeout,i.compressed===!0&&(i.headers["accept-encoding"]="gzip, deflate"),c.hasOwnProperty("form")){if(y(c.form)!=="object")throw new Error("phin 'form' option must be of type Object if present.");var p=s.stringify(c.form);i.headers["Content-Type"]="application/x-www-form-urlencoded",i.headers["Content-Length"]=k.byteLength(p),c.data=p}var m=void 0,v=function(x){var M=x;i.compressed===!0&&(x.headers["content-encoding"]==="gzip"?M=x.pipe(a.createGunzip()):x.headers["content-encoding"]==="deflate"&&(M=x.pipe(a.createInflate()))),i.stream===!0?(x.stream=M,o(null,x)):(x.body=new k([]),M.on("data",function(O){x.body=k.concat([x.body,O])}),M.on("end",function(){if(o){if(i.parse==="json")try{x.body=JSON.parse(x.body.toString())}catch{o("Invalid JSON received.",x);return}o(null,x)}}))};switch(l.protocol.toLowerCase()){case"http:":m=d.request(i,v);break;case"https:":m=g.request(i,v);break;default:o&&o(new Error("Invalid / unknown URL protocol. Expected HTTP or HTTPS."),null);return}if(typeof c.timeout=="number"&&m.setTimeout(c.timeout,function(){m.abort(),o(new Error("Timeout has been reached."),null),o=null}),m.on("error",function(E){o&&o(E,null)}),c.hasOwnProperty("data")){var _=c.data;if(!(c.data instanceof k)&&y(c.data)==="object"){var b=i.headers["content-type"]||i.headers["Content-Type"];if(b==="application/x-www-form-urlencoded")_=s.stringify(c.data);else try{_=JSON.stringify(c.data)}catch{o(new Error("Couldn't stringify object. (Likely due to a circular reference.)"),null)}}m.write(_)}m.end()};r.promisified=function(f,c){return new Promise(function(o,l){r(f,function(i,p){i?l(i):o(p)})})},n.promisify&&(r[n.promisify.custom]=r.promisified),W.exports=r}).call(this,A("buffer").Buffer)},{buffer:48,http:156,https:72,querystring:137,url:180,util:186,zlib:35}],109:[function(A,W,S){W.exports=k;function k(f,c,o,l,i,p){p||(p={});for(var m=p.threshold===void 0?.1:p.threshold,v=35215*m*m,_=0,b=0;b<i;b++)for(var E=0;E<l;E++){var x=(b*l+E)*4,M=d(f,c,x,x);if(M>v)!p.includeAA&&(y(f,E,b,l,i,c)||y(c,E,b,l,i,f))?o&&n(o,x,255,255,0):(o&&n(o,x,255,0,0),_++);else if(o){var O=a(r(f,x),.1);n(o,x,O,O,O)}}return _}function y(f,c,o,l,i,p){for(var m=Math.max(c-1,0),v=Math.max(o-1,0),_=Math.min(c+1,l-1),b=Math.min(o+1,i-1),E=(o*l+c)*4,x=0,M=0,O=0,j=0,T=0,U,H,D,P,B=m;B<=_;B++)for(var X=v;X<=b;X++)if(!(B===c&&X===o)){var V=d(f,f,E,(X*l+B)*4,!0);if(V===0?x++:V<0?O++:V>0&&M++,x>2)return!1;p&&(V<j&&(j=V,U=B,H=X),V>T&&(T=V,D=B,P=X))}return p?O===0||M===0?!1:!y(f,U,H,l,i)&&!y(p,U,H,l,i)||!y(f,D,P,l,i)&&!y(p,D,P,l,i):!0}function d(f,c,o,l,i){var p=f[o+3]/255,m=c[l+3]/255,v=a(f[o+0],p),_=a(f[o+1],p),b=a(f[o+2],p),E=a(c[l+0],m),x=a(c[l+1],m),M=a(c[l+2],m),O=g(v,_,b)-g(E,x,M);if(i)return O;var j=u(v,_,b)-u(E,x,M),T=s(v,_,b)-s(E,x,M);return .5053*O*O+.299*j*j+.1957*T*T}function g(f,c,o){return f*.29889531+c*.58662247+o*.11448223}function u(f,c,o){return f*.59597799-c*.2741761-o*.32180189}function s(f,c,o){return f*.21147017-c*.52261711+o*.31114694}function a(f,c){return 255+(f-255)*c}function n(f,c,o,l,i){f[c+0]=o,f[c+1]=l,f[c+2]=i,f[c+3]=255}function r(f,c){var o=f[c+3]/255,l=a(f[c+0],o),i=a(f[c+1],o),p=a(f[c+2],o);return g(l,i,p)}},{}],110:[function(A,W,S){(function(k){var y=A("./interlace"),d={1:{0:0,1:0,2:0,3:255},2:{0:0,1:0,2:0,3:1},3:{0:0,1:1,2:2,3:255},4:{0:0,1:1,2:2,3:3}};function g(a,n){var r=[],f=0;function c(){if(f===a.length)throw new Error("Ran out of data");var o=a[f];f++;var l,i,p,m,v,_,b,E;switch(n){default:throw new Error("unrecognised depth");case 16:b=a[f],f++,r.push((o<<8)+b);break;case 4:b=o&15,E=o>>4,r.push(E,b);break;case 2:v=o&3,_=o>>2&3,b=o>>4&3,E=o>>6&3,r.push(E,b,_,v);break;case 1:l=o&1,i=o>>1&1,p=o>>2&1,m=o>>3&1,v=o>>4&1,_=o>>5&1,b=o>>6&1,E=o>>7&1,r.push(E,b,_,v,m,p,i,l);break}}return{get:function(o){for(;r.length<o;)c();var l=r.slice(0,o);return r=r.slice(o),l},resetAfterLine:function(){r.length=0},end:function(){if(f!==a.length)throw new Error("extra data found")}}}function u(a,n,r,f,c,o){for(var l=a.width,i=a.height,p=a.index,m=0;m<i;m++)for(var v=0;v<l;v++){for(var _=r(v,m,p),b=0;b<4;b++){var E=d[f][b];if(E===255)n[_+b]=255;else{var x=E+o;if(x===c.length)throw new Error("Ran out of data");n[_+b]=c[x]}}o+=f}return o}function s(a,n,r,f,c,o){for(var l=a.width,i=a.height,p=a.index,m=0;m<i;m++){for(var v=0;v<l;v++)for(var _=c.get(f),b=r(v,m,p),E=0;E<4;E++){var x=d[f][E];n[b+E]=x!==255?_[x]:o}c.resetAfterLine()}}S.dataToBitMap=function(a,n){var r=n.width,f=n.height,c=n.depth,o=n.bpp,l=n.interlace;if(c!==8)var i=g(a,c);var p;c<=8?p=new k(r*f*4):p=new Uint16Array(r*f*4);var m=Math.pow(2,c)-1,v=0,_,b;if(l)_=y.getImagePasses(r,f),b=y.getInterlaceIterator(r,f);else{var E=0;b=function(){var M=E;return E+=4,M},_=[{width:r,height:f}]}for(var x=0;x<_.length;x++)c===8?v=u(_[x],p,b,o,a,v):s(_[x],p,b,o,i,m);if(c===8){if(v!==a.length)throw new Error("extra data found")}else i.end();return p}}).call(this,A("buffer").Buffer)},{"./interlace":120,buffer:48}],111:[function(A,W,S){(function(k){var y=A("./constants");W.exports=function(d,g,u,s){var a=[y.COLORTYPE_COLOR_ALPHA,y.COLORTYPE_ALPHA].indexOf(s.colorType)!==-1;if(s.colorType===s.inputColorType){var n=function(){var M=new ArrayBuffer(2);return new DataView(M).setInt16(0,256,!0),new Int16Array(M)[0]!==256}();if(s.bitDepth===8||s.bitDepth===16&&n)return d}var r=s.bitDepth!==16?d:new Uint16Array(d.buffer),f=255,c=y.COLORTYPE_TO_BPP_MAP[s.inputColorType];c==4&&!s.inputHasAlpha&&(c=3);var o=y.COLORTYPE_TO_BPP_MAP[s.colorType];s.bitDepth===16&&(f=65535,o*=2);var l=new k(g*u*o),i=0,p=0,m=s.bgColor||{};m.red===void 0&&(m.red=f),m.green===void 0&&(m.green=f),m.blue===void 0&&(m.blue=f);function v(M,O){var j,T,U,H=f;switch(s.inputColorType){case y.COLORTYPE_COLOR_ALPHA:H=M[O+3],j=M[O],T=M[O+1],U=M[O+2];break;case y.COLORTYPE_COLOR:j=M[O],T=M[O+1],U=M[O+2];break;case y.COLORTYPE_ALPHA:H=M[O+1],j=M[O],T=j,U=j;break;case y.COLORTYPE_GRAYSCALE:j=M[O],T=j,U=j;break;default:throw new Error("input color type:"+s.inputColorType+" is not supported at present")}return s.inputHasAlpha&&(a||(H/=f,j=Math.min(Math.max(Math.round((1-H)*m.red+H*j),0),f),T=Math.min(Math.max(Math.round((1-H)*m.green+H*T),0),f),U=Math.min(Math.max(Math.round((1-H)*m.blue+H*U),0),f))),{red:j,green:T,blue:U,alpha:H}}for(var _=0;_<u;_++)for(var b=0;b<g;b++){var E=v(r,i);switch(s.colorType){case y.COLORTYPE_COLOR_ALPHA:case y.COLORTYPE_COLOR:s.bitDepth===8?(l[p]=E.red,l[p+1]=E.green,l[p+2]=E.blue,a&&(l[p+3]=E.alpha)):(l.writeUInt16BE(E.red,p),l.writeUInt16BE(E.green,p+2),l.writeUInt16BE(E.blue,p+4),a&&l.writeUInt16BE(E.alpha,p+6));break;case y.COLORTYPE_ALPHA:case y.COLORTYPE_GRAYSCALE:var x=(E.red+E.green+E.blue)/3;s.bitDepth===8?(l[p]=x,a&&(l[p+1]=E.alpha)):(l.writeUInt16BE(x,p),a&&l.writeUInt16BE(E.alpha,p+2));break}i+=c,p+=o}return l}}).call(this,A("buffer").Buffer)},{"./constants":113,buffer:48}],112:[function(A,W,S){(function(k,y){var d=A("util"),g=A("stream"),u=W.exports=function(){g.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};d.inherits(u,g),u.prototype.read=function(s,a){this._reads.push({length:Math.abs(s),allowLess:s<0,func:a}),k.nextTick((function(){this._process(),this._paused&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}).bind(this))},u.prototype.write=function(s,a){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;var n;return y.isBuffer(s)?n=s:n=new y(s,a||this._encoding),this._buffers.push(n),this._buffered+=n.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused},u.prototype.end=function(s,a){s&&this.write(s,a),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))},u.prototype.destroySoon=u.prototype.end,u.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("There are some read requests waiting on finished stream")),this.destroy()},u.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},u.prototype._processReadAllowingLess=function(s){this._reads.shift();var a=this._buffers[0];a.length>s.length?(this._buffered-=s.length,this._buffers[0]=a.slice(s.length),s.func.call(this,a.slice(0,s.length))):(this._buffered-=a.length,this._buffers.shift(),s.func.call(this,a))},u.prototype._processRead=function(s){this._reads.shift();for(var a=0,n=0,r=new y(s.length);a<s.length;){var f=this._buffers[n++],c=Math.min(f.length,s.length-a);f.copy(r,a,0,c),a+=c,c!==f.length&&(this._buffers[--n]=f.slice(c))}n>0&&this._buffers.splice(0,n),this._buffered-=s.length,s.func.call(this,r)},u.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){var s=this._reads[0];if(s.allowLess)this._processReadAllowingLess(s);else if(this._buffered>=s.length)this._processRead(s);else break}this._buffers&&this._buffers.length>0&&this._buffers[0]===null&&this._end()}catch(a){this.emit("error",a)}}}).call(this,A("_process"),A("buffer").Buffer)},{_process:133,buffer:48,stream:155,util:186}],113:[function(A,W,S){W.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],114:[function(A,W,S){var k=[];(function(){for(var d=0;d<256;d++){for(var g=d,u=0;u<8;u++)g&1?g=3988292384^g>>>1:g=g>>>1;k[d]=g}})();var y=W.exports=function(){this._crc=-1};y.prototype.write=function(d){for(var g=0;g<d.length;g++)this._crc=k[(this._crc^d[g])&255]^this._crc>>>8;return!0},y.prototype.crc32=function(){return this._crc^-1},y.crc32=function(d){for(var g=-1,u=0;u<d.length;u++)g=k[(g^d[u])&255]^g>>>8;return g^-1}},{}],115:[function(A,W,S){(function(k){var y=A("./paeth-predictor");function d(p,m,v,_,b){for(var E=0;E<v;E++)_[b+E]=p[m+E]}function g(p,m,v){for(var _=0,b=m+v,E=m;E<b;E++)_+=Math.abs(p[E]);return _}function u(p,m,v,_,b,E){for(var x=0;x<v;x++){var M=x>=E?p[m+x-E]:0,O=p[m+x]-M;_[b+x]=O}}function s(p,m,v,_){for(var b=0,E=0;E<v;E++){var x=E>=_?p[m+E-_]:0,M=p[m+E]-x;b+=Math.abs(M)}return b}function a(p,m,v,_,b){for(var E=0;E<v;E++){var x=m>0?p[m+E-v]:0,M=p[m+E]-x;_[b+E]=M}}function n(p,m,v){for(var _=0,b=m+v,E=m;E<b;E++){var x=m>0?p[E-v]:0,M=p[E]-x;_+=Math.abs(M)}return _}function r(p,m,v,_,b,E){for(var x=0;x<v;x++){var M=x>=E?p[m+x-E]:0,O=m>0?p[m+x-v]:0,j=p[m+x]-(M+O>>1);_[b+x]=j}}function f(p,m,v,_){for(var b=0,E=0;E<v;E++){var x=E>=_?p[m+E-_]:0,M=m>0?p[m+E-v]:0,O=p[m+E]-(x+M>>1);b+=Math.abs(O)}return b}function c(p,m,v,_,b,E){for(var x=0;x<v;x++){var M=x>=E?p[m+x-E]:0,O=m>0?p[m+x-v]:0,j=m>0&&x>=E?p[m+x-(v+E)]:0,T=p[m+x]-y(M,O,j);_[b+x]=T}}function o(p,m,v,_){for(var b=0,E=0;E<v;E++){var x=E>=_?p[m+E-_]:0,M=m>0?p[m+E-v]:0,O=m>0&&E>=_?p[m+E-(v+_)]:0,j=p[m+E]-y(x,M,O);b+=Math.abs(j)}return b}var l={0:d,1:u,2:a,3:r,4:c},i={0:g,1:s,2:n,3:f,4:o};W.exports=function(p,m,v,_,b){var E;if(!("filterType"in _)||_.filterType===-1)E=[0,1,2,3,4];else if(typeof _.filterType=="number")E=[_.filterType];else throw new Error("unrecognised filter types");_.bitDepth===16&&(b*=2);for(var x=m*b,M=0,O=0,j=new k((x+1)*v),T=E[0],U=0;U<v;U++){if(E.length>1)for(var H=1/0,D=0;D<E.length;D++){var P=i[E[D]](p,O,x,b);P<H&&(T=E[D],H=P)}j[M]=T,M++,l[T](p,O,x,j,M,b),M+=x,O+=x}return j}}).call(this,A("buffer").Buffer)},{"./paeth-predictor":124,buffer:48}],116:[function(A,W,S){(function(k){var y=A("util"),d=A("./chunkstream"),g=A("./filter-parse"),u=W.exports=function(s){d.call(this);var a=[],n=this;this._filter=new g(s,{read:this.read.bind(this),write:function(r){a.push(r)},complete:function(){n.emit("complete",k.concat(a))}}),this._filter.start()};y.inherits(u,d)}).call(this,A("buffer").Buffer)},{"./chunkstream":112,"./filter-parse":118,buffer:48,util:186}],117:[function(A,W,S){(function(k){var y=A("./sync-reader"),d=A("./filter-parse");S.process=function(g,u){var s=[],a=new y(g),n=new d(u,{read:a.read.bind(a),write:function(r){s.push(r)},complete:function(){}});return n.start(),a.process(),k.concat(s)}}).call(this,A("buffer").Buffer)},{"./filter-parse":118,"./sync-reader":131,buffer:48}],118:[function(A,W,S){(function(k){var y=A("./interlace"),d=A("./paeth-predictor");function g(s,a,n){var r=s*a;return n!==8&&(r=Math.ceil(r/(8/n))),r}var u=W.exports=function(s,a){var n=s.width,r=s.height,f=s.interlace,c=s.bpp,o=s.depth;if(this.read=a.read,this.write=a.write,this.complete=a.complete,this._imageIndex=0,this._images=[],f)for(var l=y.getImagePasses(n,r),i=0;i<l.length;i++)this._images.push({byteWidth:g(l[i].width,c,o),height:l[i].height,lineIndex:0});else this._images.push({byteWidth:g(n,c,o),height:r,lineIndex:0});o===8?this._xComparison=c:o===16?this._xComparison=c*2:this._xComparison=1};u.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},u.prototype._unFilterType1=function(s,a,n){for(var r=this._xComparison,f=r-1,c=0;c<n;c++){var o=s[1+c],l=c>f?a[c-r]:0;a[c]=o+l}},u.prototype._unFilterType2=function(s,a,n){for(var r=this._lastLine,f=0;f<n;f++){var c=s[1+f],o=r?r[f]:0;a[f]=c+o}},u.prototype._unFilterType3=function(s,a,n){for(var r=this._xComparison,f=r-1,c=this._lastLine,o=0;o<n;o++){var l=s[1+o],i=c?c[o]:0,p=o>f?a[o-r]:0,m=Math.floor((p+i)/2);a[o]=l+m}},u.prototype._unFilterType4=function(s,a,n){for(var r=this._xComparison,f=r-1,c=this._lastLine,o=0;o<n;o++){var l=s[1+o],i=c?c[o]:0,p=o>f?a[o-r]:0,m=o>f&&c?c[o-r]:0,v=d(p,i,m);a[o]=l+v}},u.prototype._reverseFilterLine=function(s){var a=s[0],n,r=this._images[this._imageIndex],f=r.byteWidth;if(a===0)n=s.slice(1,f+1);else switch(n=new k(f),a){case 1:this._unFilterType1(s,n,f);break;case 2:this._unFilterType2(s,n,f);break;case 3:this._unFilterType3(s,n,f);break;case 4:this._unFilterType4(s,n,f);break;default:throw new Error("Unrecognised filter type - "+a)}this.write(n),r.lineIndex++,r.lineIndex>=r.height?(this._lastLine=null,this._imageIndex++,r=this._images[this._imageIndex]):this._lastLine=n,r?this.read(r.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this,A("buffer").Buffer)},{"./interlace":120,"./paeth-predictor":124,buffer:48}],119:[function(A,W,S){(function(k){function y(u,s,a,n,r){for(var f=0,c=0;c<n;c++)for(var o=0;o<a;o++){var l=r[u[f]];if(!l)throw new Error("index "+u[f]+" not in palette");for(var i=0;i<4;i++)s[f+i]=l[i];f+=4}}function d(u,s,a,n,r){for(var f=0,c=0;c<n;c++)for(var o=0;o<a;o++){var l=!1;if(r.length===1?r[0]===u[f]&&(l=!0):r[0]===u[f]&&r[1]===u[f+1]&&r[2]===u[f+2]&&(l=!0),l)for(var i=0;i<4;i++)s[f+i]=0;f+=4}}function g(u,s,a,n,r){for(var f=255,c=Math.pow(2,r)-1,o=0,l=0;l<n;l++)for(var i=0;i<a;i++){for(var p=0;p<4;p++)s[o+p]=Math.floor(u[o+p]*f/c+.5);o+=4}}W.exports=function(u,s){var a=s.depth,n=s.width,r=s.height,f=s.colorType,c=s.transColor,o=s.palette,l=u;return f===3?y(u,l,n,r,o):(c&&d(u,l,n,r,c),a!==8&&(a===16&&(l=new k(n*r*4)),g(u,l,n,r,a))),l}}).call(this,A("buffer").Buffer)},{buffer:48}],120:[function(A,W,S){var k=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];S.getImagePasses=function(y,d){for(var g=[],u=y%8,s=d%8,a=(y-u)/8,n=(d-s)/8,r=0;r<k.length;r++){for(var f=k[r],c=a*f.x.length,o=n*f.y.length,l=0;l<f.x.length&&f.x[l]<u;l++)c++;for(l=0;l<f.y.length&&f.y[l]<s;l++)o++;c>0&&o>0&&g.push({width:c,height:o,index:r})}return g},S.getInterlaceIterator=function(y){return function(d,g,u){var s=d%k[u].x.length,a=(d-s)/k[u].x.length*8+k[u].x[s],n=g%k[u].y.length,r=(g-n)/k[u].y.length*8+k[u].y[n];return a*4+r*y*4}}},{}],121:[function(A,W,S){(function(k){var y=A("util"),d=A("stream"),g=A("./constants"),u=A("./packer"),s=W.exports=function(a){d.call(this);var n=a||{};this._packer=new u(n),this._deflate=this._packer.createDeflate(),this.readable=!0};y.inherits(s,d),s.prototype.pack=function(a,n,r,f){this.emit("data",new k(g.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(n,r)),f&&this.emit("data",this._packer.packGAMA(f));var c=this._packer.filterData(a,n,r);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",(function(o){this.emit("data",this._packer.packIDAT(o))}).bind(this)),this._deflate.on("end",(function(){this.emit("data",this._packer.packIEND()),this.emit("end")}).bind(this)),this._deflate.end(c)}}).call(this,A("buffer").Buffer)},{"./constants":113,"./packer":123,buffer:48,stream:155,util:186}],122:[function(A,W,S){(function(k){var y=!0,d=A("zlib");d.deflateSync||(y=!1);var g=A("./constants"),u=A("./packer");W.exports=function(s,a){if(!y)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var n=a||{},r=new u(n),f=[];f.push(new k(g.PNG_SIGNATURE)),f.push(r.packIHDR(s.width,s.height)),s.gamma&&f.push(r.packGAMA(s.gamma));var c=r.filterData(s.data,s.width,s.height),o=d.deflateSync(c,r.getDeflateOptions());if(c=null,!o||!o.length)throw new Error("bad png - invalid compressed data response");return f.push(r.packIDAT(o)),f.push(r.packIEND()),k.concat(f)}}).call(this,A("buffer").Buffer)},{"./constants":113,"./packer":123,buffer:48,zlib:35}],123:[function(A,W,S){(function(k){var y=A("./constants"),d=A("./crc"),g=A("./bitpacker"),u=A("./filter-pack"),s=A("zlib"),a=W.exports=function(n){if(this._options=n,n.deflateChunkSize=n.deflateChunkSize||32*1024,n.deflateLevel=n.deflateLevel!=null?n.deflateLevel:9,n.deflateStrategy=n.deflateStrategy!=null?n.deflateStrategy:3,n.inputHasAlpha=n.inputHasAlpha!=null?n.inputHasAlpha:!0,n.deflateFactory=n.deflateFactory||s.createDeflate,n.bitDepth=n.bitDepth||8,n.colorType=typeof n.colorType=="number"?n.colorType:y.COLORTYPE_COLOR_ALPHA,n.inputColorType=typeof n.inputColorType=="number"?n.inputColorType:y.COLORTYPE_COLOR_ALPHA,[y.COLORTYPE_GRAYSCALE,y.COLORTYPE_COLOR,y.COLORTYPE_COLOR_ALPHA,y.COLORTYPE_ALPHA].indexOf(n.colorType)===-1)throw new Error("option color type:"+n.colorType+" is not supported at present");if([y.COLORTYPE_GRAYSCALE,y.COLORTYPE_COLOR,y.COLORTYPE_COLOR_ALPHA,y.COLORTYPE_ALPHA].indexOf(n.inputColorType)===-1)throw new Error("option input color type:"+n.inputColorType+" is not supported at present");if(n.bitDepth!==8&&n.bitDepth!==16)throw new Error("option bit depth:"+n.bitDepth+" is not supported at present")};a.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},a.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},a.prototype.filterData=function(n,r,f){var c=g(n,r,f,this._options),o=y.COLORTYPE_TO_BPP_MAP[this._options.colorType],l=u(c,r,f,this._options,o);return l},a.prototype._packChunk=function(n,r){var f=r?r.length:0,c=new k(f+12);return c.writeUInt32BE(f,0),c.writeUInt32BE(n,4),r&&r.copy(c,8),c.writeInt32BE(d.crc32(c.slice(4,c.length-4)),c.length-4),c},a.prototype.packGAMA=function(n){var r=new k(4);return r.writeUInt32BE(Math.floor(n*y.GAMMA_DIVISION),0),this._packChunk(y.TYPE_gAMA,r)},a.prototype.packIHDR=function(n,r){var f=new k(13);return f.writeUInt32BE(n,0),f.writeUInt32BE(r,4),f[8]=this._options.bitDepth,f[9]=this._options.colorType,f[10]=0,f[11]=0,f[12]=0,this._packChunk(y.TYPE_IHDR,f)},a.prototype.packIDAT=function(n){return this._packChunk(y.TYPE_IDAT,n)},a.prototype.packIEND=function(){return this._packChunk(y.TYPE_IEND,null)}}).call(this,A("buffer").Buffer)},{"./bitpacker":111,"./constants":113,"./crc":114,"./filter-pack":115,buffer:48,zlib:35}],124:[function(A,W,S){W.exports=function(y,d,g){var u=y+d-g,s=Math.abs(u-y),a=Math.abs(u-d),n=Math.abs(u-g);return s<=a&&s<=n?y:a<=n?d:g}},{}],125:[function(A,W,S){var k=A("util"),y=A("zlib"),d=A("./chunkstream"),g=A("./filter-parse-async"),u=A("./parser"),s=A("./bitmapper"),a=A("./format-normaliser"),n=W.exports=function(r){d.call(this),this._parser=new u(r,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this)}),this._options=r,this.writable=!0,this._parser.start()};k.inherits(n,d),n.prototype._handleError=function(r){this.emit("error",r),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},n.prototype._inflateData=function(r){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=y.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{var f=(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1,c=f*this._bitmapInfo.height,o=Math.max(c,y.Z_MIN_CHUNK);this._inflate=y.createInflate({chunkSize:o});var l=c,i=this.emit.bind(this,"error");this._inflate.on("error",function(m){l&&i(m)}),this._filter.on("complete",this._complete.bind(this));var p=this._filter.write.bind(this._filter);this._inflate.on("data",function(m){l&&(m.length>l&&(m=m.slice(0,l)),l-=m.length,p(m))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(r)},n.prototype._handleMetaData=function(r){this.emit("metadata",r),this._bitmapInfo=Object.create(r),this._filter=new g(this._bitmapInfo)},n.prototype._handleTransColor=function(r){this._bitmapInfo.transColor=r},n.prototype._handlePalette=function(r){this._bitmapInfo.palette=r},n.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"),this.destroySoon())},n.prototype._complete=function(r){if(!this.errord){try{var f=s.dataToBitMap(r,this._bitmapInfo),c=a(f,this._bitmapInfo);f=null}catch(o){this._handleError(o);return}this.emit("parsed",c)}}},{"./bitmapper":110,"./chunkstream":112,"./filter-parse-async":116,"./format-normaliser":119,"./parser":127,util:186,zlib:35}],126:[function(A,W,S){(function(k){var y=!0,d=A("zlib"),g=A("./sync-inflate");d.deflateSync||(y=!1);var u=A("./sync-reader"),s=A("./filter-parse-sync"),a=A("./parser"),n=A("./bitmapper"),r=A("./format-normaliser");W.exports=function(f,c){if(!y)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var o;function l(X){o=X}var i;function p(X){i=X}function m(X){i.transColor=X}function v(X){i.palette=X}var _;function b(X){_=X}var E=[];function x(X){E.push(X)}var M=new u(f),O=new a(c,{read:M.read.bind(M),error:l,metadata:p,gamma:b,palette:v,transColor:m,inflateData:x});if(O.start(),M.process(),o)throw o;var j=k.concat(E);E.length=0;var T;if(i.interlace)T=d.inflateSync(j);else{var U=(i.width*i.bpp*i.depth+7>>3)+1,H=U*i.height;T=g(j,{chunkSize:H,maxLength:H})}if(j=null,!T||!T.length)throw new Error("bad png - invalid inflate data response");var D=s.process(T,i);j=null;var P=n.dataToBitMap(D,i);D=null;var B=r(P,i);return i.data=B,i.gamma=_||0,i}}).call(this,A("buffer").Buffer)},{"./bitmapper":110,"./filter-parse-sync":117,"./format-normaliser":119,"./parser":127,"./sync-inflate":130,"./sync-reader":131,buffer:48,zlib:35}],127:[function(A,W,S){(function(k){var y=A("./constants"),d=A("./crc"),g=W.exports=function(u,s){this._options=u,u.checkCRC=u.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[y.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[y.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[y.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[y.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[y.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[y.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=s.read,this.error=s.error,this.metadata=s.metadata,this.gamma=s.gamma,this.transColor=s.transColor,this.palette=s.palette,this.parsed=s.parsed,this.inflateData=s.inflateData,this.finished=s.finished};g.prototype.start=function(){this.read(y.PNG_SIGNATURE.length,this._parseSignature.bind(this))},g.prototype._parseSignature=function(u){for(var s=y.PNG_SIGNATURE,a=0;a<s.length;a++)if(u[a]!==s[a]){this.error(new Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))},g.prototype._parseChunkBegin=function(u){for(var s=u.readUInt32BE(0),a=u.readUInt32BE(4),n="",r=4;r<8;r++)n+=String.fromCharCode(u[r]);var f=!!(u[4]&32);if(!this._hasIHDR&&a!==y.TYPE_IHDR){this.error(new Error("Expected IHDR on beggining"));return}if(this._crc=new d,this._crc.write(new k(n)),this._chunks[a])return this._chunks[a](s);if(!f){this.error(new Error("Unsupported critical chunk type "+n));return}this.read(s+4,this._skipChunk.bind(this))},g.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},g.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},g.prototype._parseChunkEnd=function(u){var s=u.readInt32BE(0),a=this._crc.crc32();if(this._options.checkCRC&&a!==s){this.error(new Error("Crc error - "+s+" - "+a));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},g.prototype._handleIHDR=function(u){this.read(u,this._parseIHDR.bind(this))},g.prototype._parseIHDR=function(u){this._crc.write(u);var s=u.readUInt32BE(0),a=u.readUInt32BE(4),n=u[8],r=u[9],f=u[10],c=u[11],o=u[12];if(n!==8&&n!==4&&n!==2&&n!==1&&n!==16){this.error(new Error("Unsupported bit depth "+n));return}if(!(r in y.COLORTYPE_TO_BPP_MAP)){this.error(new Error("Unsupported color type"));return}if(f!==0){this.error(new Error("Unsupported compression method"));return}if(c!==0){this.error(new Error("Unsupported filter method"));return}if(o!==0&&o!==1){this.error(new Error("Unsupported interlace method"));return}this._colorType=r;var l=y.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:s,height:a,depth:n,interlace:!!o,palette:!!(r&y.COLORTYPE_PALETTE),color:!!(r&y.COLORTYPE_COLOR),alpha:!!(r&y.COLORTYPE_ALPHA),bpp:l,colorType:r}),this._handleChunkEnd()},g.prototype._handlePLTE=function(u){this.read(u,this._parsePLTE.bind(this))},g.prototype._parsePLTE=function(u){this._crc.write(u);for(var s=Math.floor(u.length/3),a=0;a<s;a++)this._palette.push([u[a*3],u[a*3+1],u[a*3+2],255]);this.palette(this._palette),this._handleChunkEnd()},g.prototype._handleTRNS=function(u){this.read(u,this._parseTRNS.bind(this))},g.prototype._parseTRNS=function(u){if(this._crc.write(u),this._colorType===y.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0){this.error(new Error("Transparency chunk must be after palette"));return}if(u.length>this._palette.length){this.error(new Error("More transparent colors than palette size"));return}for(var s=0;s<u.length;s++)this._palette[s][3]=u[s];this.palette(this._palette)}this._colorType===y.COLORTYPE_GRAYSCALE&&this.transColor([u.readUInt16BE(0)]),this._colorType===y.COLORTYPE_COLOR&&this.transColor([u.readUInt16BE(0),u.readUInt16BE(2),u.readUInt16BE(4)]),this._handleChunkEnd()},g.prototype._handleGAMA=function(u){this.read(u,this._parseGAMA.bind(this))},g.prototype._parseGAMA=function(u){this._crc.write(u),this.gamma(u.readUInt32BE(0)/y.GAMMA_DIVISION),this._handleChunkEnd()},g.prototype._handleIDAT=function(u){this.read(-u,this._parseIDAT.bind(this,u))},g.prototype._parseIDAT=function(u,s){if(this._crc.write(s),this._colorType===y.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(s);var a=u-s.length;a>0?this._handleIDAT(a):this._handleChunkEnd()},g.prototype._handleIEND=function(u){this.read(u,this._parseIEND.bind(this))},g.prototype._parseIEND=function(u){this._crc.write(u),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this,A("buffer").Buffer)},{"./constants":113,"./crc":114,buffer:48}],128:[function(A,W,S){var k=A("./parser-sync"),y=A("./packer-sync");S.read=function(d,g){return k(d,g||{})},S.write=function(d,g){return y(d,g)}},{"./packer-sync":122,"./parser-sync":126}],129:[function(A,W,S){(function(k,y){var d=A("util"),g=A("stream"),u=A("./parser-async"),s=A("./packer-async"),a=A("./png-sync"),n=S.PNG=function(r){g.call(this),r=r||{},this.width=r.width|0,this.height=r.height|0,this.data=this.width>0&&this.height>0?new y(4*this.width*this.height):null,r.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new u(r),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",(function(f){this.data=f,this.emit("parsed",f)}).bind(this)),this._packer=new s(r),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};d.inherits(n,g),n.sync=a,n.prototype.pack=function(){return!this.data||!this.data.length?(this.emit("error","No data provided"),this):(k.nextTick((function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}).bind(this)),this)},n.prototype.parse=function(r,f){if(f){var c,o;c=(function(l){this.removeListener("error",o),this.data=l,f(null,this)}).bind(this),o=(function(l){this.removeListener("parsed",c),f(l,null)}).bind(this),this.once("parsed",c),this.once("error",o)}return this.end(r),this},n.prototype.write=function(r){return this._parser.write(r),!0},n.prototype.end=function(r){this._parser.end(r)},n.prototype._metadata=function(r){this.width=r.width,this.height=r.height,this.emit("metadata",r)},n.prototype._gamma=function(r){this.gamma=r},n.prototype._handleClose=function(){!this._parser.writable&&!this._packer.readable&&this.emit("close")},n.bitblt=function(r,f,c,o,l,i,p,m){if(c|=0,o|=0,l|=0,i|=0,p|=0,m|=0,c>r.width||o>r.height||c+l>r.width||o+i>r.height)throw new Error("bitblt reading outside image");if(p>f.width||m>f.height||p+l>f.width||m+i>f.height)throw new Error("bitblt writing outside image");for(var v=0;v<i;v++)r.data.copy(f.data,(m+v)*f.width+p<<2,(o+v)*r.width+c<<2,(o+v)*r.width+c+l<<2)},n.prototype.bitblt=function(r,f,c,o,l,i,p){return n.bitblt(this,r,f,c,o,l,i,p),this},n.adjustGamma=function(r){if(r.gamma){for(var f=0;f<r.height;f++)for(var c=0;c<r.width;c++)for(var o=r.width*f+c<<2,l=0;l<3;l++){var i=r.data[o+l]/255;i=Math.pow(i,1/2.2/r.gamma),r.data[o+l]=Math.round(i*255)}r.gamma=0}},n.prototype.adjustGamma=function(){n.adjustGamma(this)}}).call(this,A("_process"),A("buffer").Buffer)},{"./packer-async":121,"./parser-async":125,"./png-sync":128,_process:133,buffer:48,stream:155,util:186}],130:[function(A,W,S){(function(k,y){var d=A("assert").ok,g=A("zlib"),u=A("util"),s=A("buffer").kMaxLength;function a(o){if(!(this instanceof a))return new a(o);o&&o.chunkSize<g.Z_MIN_CHUNK&&(o.chunkSize=g.Z_MIN_CHUNK),g.Inflate.call(this,o),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,o&&o.maxLength!=null&&(this._maxLength=o.maxLength)}function n(o){return new a(o)}function r(o,l){o._handle&&(o._handle.close(),o._handle=null)}a.prototype._processChunk=function(o,l,i){if(typeof i=="function")return g.Inflate._processChunk.call(this,o,l,i);var p=this,m=o&&o.length,v=this._chunkSize-this._offset,_=this._maxLength,b=0,E=[],x=0,M;this.on("error",function(U){M=U});function O(U,H){if(!p._hadError){var D=v-H;if(d(D>=0,"have should not go down"),D>0){var P=p._buffer.slice(p._offset,p._offset+D);if(p._offset+=D,P.length>_&&(P=P.slice(0,_)),E.push(P),x+=P.length,_-=P.length,_===0)return!1}return(H===0||p._offset>=p._chunkSize)&&(v=p._chunkSize,p._offset=0,p._buffer=y.allocUnsafe(p._chunkSize)),H===0?(b+=m-U,m=U,!0):!1}}d(this._handle,"zlib binding closed");do{var j=this._handle.writeSync(l,o,b,m,this._buffer,this._offset,v);j=j||this._writeState}while(!this._hadError&&O(j[0],j[1]));if(this._hadError)throw M;if(x>=s)throw r(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+s.toString(16)+" bytes");var T=y.concat(E,x);return r(this),T},u.inherits(a,g.Inflate);function f(o,l){if(typeof l=="string"&&(l=y.from(l)),!(l instanceof y))throw new TypeError("Not a string or buffer");var i=o._finishFlushFlag;return i==null&&(i=g.Z_FINISH),o._processChunk(l,i)}function c(o,l){return f(new a(l),o)}W.exports=S=c,S.Inflate=a,S.createInflate=n,S.inflateSync=c}).call(this,A("_process"),A("buffer").Buffer)},{_process:133,assert:25,buffer:48,util:186,zlib:35}],131:[function(A,W,S){var k=W.exports=function(y){this._buffer=y,this._reads=[]};k.prototype.read=function(y,d){this._reads.push({length:Math.abs(y),allowLess:y<0,func:d})},k.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){var y=this._reads[0];if(this._buffer.length&&(this._buffer.length>=y.length||y.allowLess)){this._reads.shift();var d=this._buffer;this._buffer=d.slice(y.length),y.func.call(this,d.slice(0,y.length))}else break}if(this._reads.length>0)return new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)return new Error("unrecognised content at end of stream")}},{}],132:[function(A,W,S){(function(k){typeof k>"u"||!k.version||k.version.indexOf("v0.")===0||k.version.indexOf("v1.")===0&&k.version.indexOf("v1.8.")!==0?W.exports={nextTick:y}:W.exports=k;function y(d,g,u,s){if(typeof d!="function")throw new TypeError('"callback" argument must be a function');var a=arguments.length,n,r;switch(a){case 0:case 1:return k.nextTick(d);case 2:return k.nextTick(function(){d.call(null,g)});case 3:return k.nextTick(function(){d.call(null,g,u)});case 4:return k.nextTick(function(){d.call(null,g,u,s)});default:for(n=new Array(a-1),r=0;r<n.length;)n[r++]=arguments[r];return k.nextTick(function(){d.apply(null,n)})}}}).call(this,A("_process"))},{_process:133}],133:[function(A,W,S){var k=W.exports={},y,d;function g(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?y=setTimeout:y=g}catch{y=g}try{typeof clearTimeout=="function"?d=clearTimeout:d=u}catch{d=u}})();function s(m){if(y===setTimeout)return setTimeout(m,0);if((y===g||!y)&&setTimeout)return y=setTimeout,setTimeout(m,0);try{return y(m,0)}catch{try{return y.call(null,m,0)}catch{return y.call(this,m,0)}}}function a(m){if(d===clearTimeout)return clearTimeout(m);if((d===u||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(m);try{return d(m)}catch{try{return d.call(null,m)}catch{return d.call(this,m)}}}var n=[],r=!1,f,c=-1;function o(){!r||!f||(r=!1,f.length?n=f.concat(n):c=-1,n.length&&l())}function l(){if(!r){var m=s(o);r=!0;for(var v=n.length;v;){for(f=n,n=[];++c<v;)f&&f[c].run();c=-1,v=n.length}f=null,r=!1,a(m)}}k.nextTick=function(m){var v=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)v[_-1]=arguments[_];n.push(new i(m,v)),n.length===1&&!r&&s(l)};function i(m,v){this.fun=m,this.array=v}i.prototype.run=function(){this.fun.apply(null,this.array)},k.title="browser",k.browser=!0,k.env={},k.argv=[],k.version="",k.versions={};function p(){}k.on=p,k.addListener=p,k.once=p,k.off=p,k.removeListener=p,k.removeAllListeners=p,k.emit=p,k.prependListener=p,k.prependOnceListener=p,k.listeners=function(m){return[]},k.binding=function(m){throw new Error("process.binding is not supported")},k.cwd=function(){return"/"},k.chdir=function(m){throw new Error("process.chdir is not supported")},k.umask=function(){return 0}},{}],134:[function(A,W,S){(function(k){(function(y){var d=typeof S=="object"&&S&&!S.nodeType&&S,g=typeof W=="object"&&W&&!W.nodeType&&W,u=typeof k=="object"&&k;(u.global===u||u.window===u||u.self===u)&&(y=u);var s,a=2147483647,n=36,r=1,f=26,c=38,o=700,l=72,i=128,p="-",m=/^xn--/,v=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=n-r,x=Math.floor,M=String.fromCharCode,O;function j(J){throw new RangeError(b[J])}function T(J,K){for(var re=J.length,ue=[];re--;)ue[re]=K(J[re]);return ue}function U(J,K){var re=J.split("@"),ue="";re.length>1&&(ue=re[0]+"@",J=re[1]),J=J.replace(_,".");var ce=J.split("."),ve=T(ce,K).join(".");return ue+ve}function H(J){for(var K=[],re=0,ue=J.length,ce,ve;re<ue;)ce=J.charCodeAt(re++),ce>=55296&&ce<=56319&&re<ue?(ve=J.charCodeAt(re++),(ve&64512)==56320?K.push(((ce&1023)<<10)+(ve&1023)+65536):(K.push(ce),re--)):K.push(ce);return K}function D(J){return T(J,function(K){var re="";return K>65535&&(K-=65536,re+=M(K>>>10&1023|55296),K=56320|K&1023),re+=M(K),re}).join("")}function P(J){return J-48<10?J-22:J-65<26?J-65:J-97<26?J-97:n}function B(J,K){return J+22+75*(J<26)-((K!=0)<<5)}function X(J,K,re){var ue=0;for(J=re?x(J/o):J>>1,J+=x(J/K);J>E*f>>1;ue+=n)J=x(J/E);return x(ue+(E+1)*J/(J+c))}function V(J){var K=[],re=J.length,ue,ce=0,ve=i,_e=l,Re,he,fe,ne,se,oe,Q,I,L;for(Re=J.lastIndexOf(p),Re<0&&(Re=0),he=0;he<Re;++he)J.charCodeAt(he)>=128&&j("not-basic"),K.push(J.charCodeAt(he));for(fe=Re>0?Re+1:0;fe<re;){for(ne=ce,se=1,oe=n;fe>=re&&j("invalid-input"),Q=P(J.charCodeAt(fe++)),(Q>=n||Q>x((a-ce)/se))&&j("overflow"),ce+=Q*se,I=oe<=_e?r:oe>=_e+f?f:oe-_e,!(Q<I);oe+=n)L=n-I,se>x(a/L)&&j("overflow"),se*=L;ue=K.length+1,_e=X(ce-ne,ue,ne==0),x(ce/ue)>a-ve&&j("overflow"),ve+=x(ce/ue),ce%=ue,K.splice(ce++,0,ve)}return D(K)}function q(J){var K,re,ue,ce,ve,_e,Re,he,fe,ne,se,oe=[],Q,I,L,te;for(J=H(J),Q=J.length,K=i,re=0,ve=l,_e=0;_e<Q;++_e)se=J[_e],se<128&&oe.push(M(se));for(ue=ce=oe.length,ce&&oe.push(p);ue<Q;){for(Re=a,_e=0;_e<Q;++_e)se=J[_e],se>=K&&se<Re&&(Re=se);for(I=ue+1,Re-K>x((a-re)/I)&&j("overflow"),re+=(Re-K)*I,K=Re,_e=0;_e<Q;++_e)if(se=J[_e],se<K&&++re>a&&j("overflow"),se==K){for(he=re,fe=n;ne=fe<=ve?r:fe>=ve+f?f:fe-ve,!(he<ne);fe+=n)te=he-ne,L=n-ne,oe.push(M(B(ne+te%L,0))),he=x(te/L);oe.push(M(B(he,0))),ve=X(re,I,ue==ce),re=0,++ue}++re,++K}return oe.join("")}function ee(J){return U(J,function(K){return m.test(K)?V(K.slice(4).toLowerCase()):K})}function Z(J){return U(J,function(K){return v.test(K)?"xn--"+q(K):K})}if(s={version:"1.4.1",ucs2:{decode:H,encode:D},decode:V,encode:q,toASCII:Z,toUnicode:ee},d&&g)if(W.exports==d)g.exports=s;else for(O in s)s.hasOwnProperty(O)&&(d[O]=s[O]);else y.punycode=s})(this)}).call(this,typeof wt<"u"?wt:typeof self<"u"?self:typeof ge<"u"?ge:{})},{}],135:[function(A,W,S){function k(d,g){return Object.prototype.hasOwnProperty.call(d,g)}W.exports=function(d,g,u,s){g=g||"&",u=u||"=";var a={};if(typeof d!="string"||d.length===0)return a;var n=/\+/g;d=d.split(g);var r=1e3;s&&typeof s.maxKeys=="number"&&(r=s.maxKeys);var f=d.length;r>0&&f>r&&(f=r);for(var c=0;c<f;++c){var o=d[c].replace(n,"%20"),l=o.indexOf(u),i,p,m,v;l>=0?(i=o.substr(0,l),p=o.substr(l+1)):(i=o,p=""),m=decodeURIComponent(i),v=decodeURIComponent(p),k(a,m)?y(a[m])?a[m].push(v):a[m]=[a[m],v]:a[m]=v}return a};var y=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"}},{}],136:[function(A,W,S){var k=function(u){switch(typeof u){case"string":return u;case"boolean":return u?"true":"false";case"number":return isFinite(u)?u:"";default:return""}};W.exports=function(u,s,a,n){return s=s||"&",a=a||"=",u===null&&(u=void 0),typeof u=="object"?d(g(u),function(r){var f=encodeURIComponent(k(r))+a;return y(u[r])?d(u[r],function(c){return f+encodeURIComponent(k(c))}).join(s):f+encodeURIComponent(k(u[r]))}).join(s):n?encodeURIComponent(k(n))+a+encodeURIComponent(k(u)):""};var y=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function d(u,s){if(u.map)return u.map(s);for(var a=[],n=0;n<u.length;n++)a.push(s(u[n],n));return a}var g=Object.keys||function(u){var s=[];for(var a in u)Object.prototype.hasOwnProperty.call(u,a)&&s.push(a);return s}},{}],137:[function(A,W,S){S.decode=S.parse=A("./decode"),S.encode=S.stringify=A("./encode")},{"./decode":135,"./encode":136}],138:[function(A,W,S){W.exports=A("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":139}],139:[function(A,W,S){var k=A("process-nextick-args"),y=Object.keys||function(o){var l=[];for(var i in o)l.push(i);return l};W.exports=r;var d=A("core-util-is");d.inherits=A("inherits");var g=A("./_stream_readable"),u=A("./_stream_writable");d.inherits(r,g);for(var s=y(u.prototype),a=0;a<s.length;a++){var n=s[a];r.prototype[n]||(r.prototype[n]=u.prototype[n])}function r(o){if(!(this instanceof r))return new r(o);g.call(this,o),u.call(this,o),o&&o.readable===!1&&(this.readable=!1),o&&o.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,o&&o.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",f)}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function f(){this.allowHalfOpen||this._writableState.ended||k.nextTick(c,this)}function c(o){o.end()}Object.defineProperty(r.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(o){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=o,this._writableState.destroyed=o)}}),r.prototype._destroy=function(o,l){this.push(null),this.end(),k.nextTick(l,o)}},{"./_stream_readable":141,"./_stream_writable":143,"core-util-is":51,inherits:75,"process-nextick-args":132}],140:[function(A,W,S){W.exports=d;var k=A("./_stream_transform"),y=A("core-util-is");y.inherits=A("inherits"),y.inherits(d,k);function d(g){if(!(this instanceof d))return new d(g);k.call(this,g)}d.prototype._transform=function(g,u,s){s(null,g)}},{"./_stream_transform":142,"core-util-is":51,inherits:75}],141:[function(A,W,S){(function(k,y){var d=A("process-nextick-args");W.exports=x;var g=A("isarray"),u;x.ReadableState=E,A("events").EventEmitter;var s=function(ne,se){return ne.listeners(se).length},a=A("./internal/streams/stream"),n=A("safe-buffer").Buffer,r=y.Uint8Array||function(){};function f(ne){return n.from(ne)}function c(ne){return n.isBuffer(ne)||ne instanceof r}var o=A("core-util-is");o.inherits=A("inherits");var l=A("util"),i=void 0;l&&l.debuglog?i=l.debuglog("stream"):i=function(){};var p=A("./internal/streams/BufferList"),m=A("./internal/streams/destroy"),v;o.inherits(x,a);var _=["error","close","destroy","pause","resume"];function b(ne,se,oe){if(typeof ne.prependListener=="function")return ne.prependListener(se,oe);!ne._events||!ne._events[se]?ne.on(se,oe):g(ne._events[se])?ne._events[se].unshift(oe):ne._events[se]=[oe,ne._events[se]]}function E(ne,se){u=u||A("./_stream_duplex"),ne=ne||{};var oe=se instanceof u;this.objectMode=!!ne.objectMode,oe&&(this.objectMode=this.objectMode||!!ne.readableObjectMode);var Q=ne.highWaterMark,I=ne.readableHighWaterMark,L=this.objectMode?16:16*1024;Q||Q===0?this.highWaterMark=Q:oe&&(I||I===0)?this.highWaterMark=I:this.highWaterMark=L,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=ne.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ne.encoding&&(v||(v=A("string_decoder/").StringDecoder),this.decoder=new v(ne.encoding),this.encoding=ne.encoding)}function x(ne){if(u=u||A("./_stream_duplex"),!(this instanceof x))return new x(ne);this._readableState=new E(ne,this),this.readable=!0,ne&&(typeof ne.read=="function"&&(this._read=ne.read),typeof ne.destroy=="function"&&(this._destroy=ne.destroy)),a.call(this)}Object.defineProperty(x.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ne){this._readableState&&(this._readableState.destroyed=ne)}}),x.prototype.destroy=m.destroy,x.prototype._undestroy=m.undestroy,x.prototype._destroy=function(ne,se){this.push(null),se(ne)},x.prototype.push=function(ne,se){var oe=this._readableState,Q;return oe.objectMode?Q=!0:typeof ne=="string"&&(se=se||oe.defaultEncoding,se!==oe.encoding&&(ne=n.from(ne,se),se=""),Q=!0),M(this,ne,se,!1,Q)},x.prototype.unshift=function(ne){return M(this,ne,null,!0,!1)};function M(ne,se,oe,Q,I){var L=ne._readableState;if(se===null)L.reading=!1,P(ne,L);else{var te;I||(te=j(L,se)),te?ne.emit("error",te):L.objectMode||se&&se.length>0?(typeof se!="string"&&!L.objectMode&&Object.getPrototypeOf(se)!==n.prototype&&(se=f(se)),Q?L.endEmitted?ne.emit("error",new Error("stream.unshift() after end event")):O(ne,L,se,!0):L.ended?ne.emit("error",new Error("stream.push() after EOF")):(L.reading=!1,L.decoder&&!oe?(se=L.decoder.write(se),L.objectMode||se.length!==0?O(ne,L,se,!1):V(ne,L)):O(ne,L,se,!1))):Q||(L.reading=!1)}return T(L)}function O(ne,se,oe,Q){se.flowing&&se.length===0&&!se.sync?(ne.emit("data",oe),ne.read(0)):(se.length+=se.objectMode?1:oe.length,Q?se.buffer.unshift(oe):se.buffer.push(oe),se.needReadable&&B(ne)),V(ne,se)}function j(ne,se){var oe;return!c(se)&&typeof se!="string"&&se!==void 0&&!ne.objectMode&&(oe=new TypeError("Invalid non-string/buffer chunk")),oe}function T(ne){return!ne.ended&&(ne.needReadable||ne.length<ne.highWaterMark||ne.length===0)}x.prototype.isPaused=function(){return this._readableState.flowing===!1},x.prototype.setEncoding=function(ne){return v||(v=A("string_decoder/").StringDecoder),this._readableState.decoder=new v(ne),this._readableState.encoding=ne,this};var U=8388608;function H(ne){return ne>=U?ne=U:(ne--,ne|=ne>>>1,ne|=ne>>>2,ne|=ne>>>4,ne|=ne>>>8,ne|=ne>>>16,ne++),ne}function D(ne,se){return ne<=0||se.length===0&&se.ended?0:se.objectMode?1:ne!==ne?se.flowing&&se.length?se.buffer.head.data.length:se.length:(ne>se.highWaterMark&&(se.highWaterMark=H(ne)),ne<=se.length?ne:se.ended?se.length:(se.needReadable=!0,0))}x.prototype.read=function(ne){i("read",ne),ne=parseInt(ne,10);var se=this._readableState,oe=ne;if(ne!==0&&(se.emittedReadable=!1),ne===0&&se.needReadable&&(se.length>=se.highWaterMark||se.ended))return i("read: emitReadable",se.length,se.ended),se.length===0&&se.ended?Re(this):B(this),null;if(ne=D(ne,se),ne===0&&se.ended)return se.length===0&&Re(this),null;var Q=se.needReadable;i("need readable",Q),(se.length===0||se.length-ne<se.highWaterMark)&&(Q=!0,i("length less than watermark",Q)),se.ended||se.reading?(Q=!1,i("reading or ended",Q)):Q&&(i("do read"),se.reading=!0,se.sync=!0,se.length===0&&(se.needReadable=!0),this._read(se.highWaterMark),se.sync=!1,se.reading||(ne=D(oe,se)));var I;return ne>0?I=ue(ne,se):I=null,I===null?(se.needReadable=!0,ne=0):se.length-=ne,se.length===0&&(se.ended||(se.needReadable=!0),oe!==ne&&se.ended&&Re(this)),I!==null&&this.emit("data",I),I};function P(ne,se){if(!se.ended){if(se.decoder){var oe=se.decoder.end();oe&&oe.length&&(se.buffer.push(oe),se.length+=se.objectMode?1:oe.length)}se.ended=!0,B(ne)}}function B(ne){var se=ne._readableState;se.needReadable=!1,se.emittedReadable||(i("emitReadable",se.flowing),se.emittedReadable=!0,se.sync?d.nextTick(X,ne):X(ne))}function X(ne){i("emit readable"),ne.emit("readable"),re(ne)}function V(ne,se){se.readingMore||(se.readingMore=!0,d.nextTick(q,ne,se))}function q(ne,se){for(var oe=se.length;!se.reading&&!se.flowing&&!se.ended&&se.length<se.highWaterMark&&(i("maybeReadMore read 0"),ne.read(0),oe!==se.length);)oe=se.length;se.readingMore=!1}x.prototype._read=function(ne){this.emit("error",new Error("_read() is not implemented"))},x.prototype.pipe=function(ne,se){var oe=this,Q=this._readableState;switch(Q.pipesCount){case 0:Q.pipes=ne;break;case 1:Q.pipes=[Q.pipes,ne];break;default:Q.pipes.push(ne);break}Q.pipesCount+=1,i("pipe count=%d opts=%j",Q.pipesCount,se);var I=(!se||se.end!==!1)&&ne!==k.stdout&&ne!==k.stderr,L=I?$:He;Q.endEmitted?d.nextTick(L):oe.once("end",L),ne.on("unpipe",te);function te(Ve,We){i("onunpipe"),Ve===oe&&We&&We.hasUnpiped===!1&&(We.hasUnpiped=!0,ie())}function $(){i("onend"),ne.end()}var N=ee(oe);ne.on("drain",N);var C=!1;function ie(){i("cleanup"),ne.removeListener("close",je),ne.removeListener("finish",Ze),ne.removeListener("drain",N),ne.removeListener("error",Me),ne.removeListener("unpipe",te),oe.removeListener("end",$),oe.removeListener("end",He),oe.removeListener("data",xe),C=!0,Q.awaitDrain&&(!ne._writableState||ne._writableState.needDrain)&&N()}var de=!1;oe.on("data",xe);function xe(Ve){i("ondata"),de=!1;var We=ne.write(Ve);We===!1&&!de&&((Q.pipesCount===1&&Q.pipes===ne||Q.pipesCount>1&&fe(Q.pipes,ne)!==-1)&&!C&&(i("false write response, pause",oe._readableState.awaitDrain),oe._readableState.awaitDrain++,de=!0),oe.pause())}function Me(Ve){i("onerror",Ve),He(),ne.removeListener("error",Me),s(ne,"error")===0&&ne.emit("error",Ve)}b(ne,"error",Me);function je(){ne.removeListener("finish",Ze),He()}ne.once("close",je);function Ze(){i("onfinish"),ne.removeListener("close",je),He()}ne.once("finish",Ze);function He(){i("unpipe"),oe.unpipe(ne)}return ne.emit("pipe",oe),Q.flowing||(i("pipe resume"),oe.resume()),ne};function ee(ne){return function(){var se=ne._readableState;i("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&s(ne,"data")&&(se.flowing=!0,re(ne))}}x.prototype.unpipe=function(ne){var se=this._readableState,oe={hasUnpiped:!1};if(se.pipesCount===0)return this;if(se.pipesCount===1)return ne&&ne!==se.pipes?this:(ne||(ne=se.pipes),se.pipes=null,se.pipesCount=0,se.flowing=!1,ne&&ne.emit("unpipe",this,oe),this);if(!ne){var Q=se.pipes,I=se.pipesCount;se.pipes=null,se.pipesCount=0,se.flowing=!1;for(var L=0;L<I;L++)Q[L].emit("unpipe",this,oe);return this}var te=fe(se.pipes,ne);return te===-1?this:(se.pipes.splice(te,1),se.pipesCount-=1,se.pipesCount===1&&(se.pipes=se.pipes[0]),ne.emit("unpipe",this,oe),this)},x.prototype.on=function(ne,se){var oe=a.prototype.on.call(this,ne,se);if(ne==="data")this._readableState.flowing!==!1&&this.resume();else if(ne==="readable"){var Q=this._readableState;!Q.endEmitted&&!Q.readableListening&&(Q.readableListening=Q.needReadable=!0,Q.emittedReadable=!1,Q.reading?Q.length&&B(this):d.nextTick(Z,this))}return oe},x.prototype.addListener=x.prototype.on;function Z(ne){i("readable nexttick read 0"),ne.read(0)}x.prototype.resume=function(){var ne=this._readableState;return ne.flowing||(i("resume"),ne.flowing=!0,J(this,ne)),this};function J(ne,se){se.resumeScheduled||(se.resumeScheduled=!0,d.nextTick(K,ne,se))}function K(ne,se){se.reading||(i("resume read 0"),ne.read(0)),se.resumeScheduled=!1,se.awaitDrain=0,ne.emit("resume"),re(ne),se.flowing&&!se.reading&&ne.read(0)}x.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function re(ne){var se=ne._readableState;for(i("flow",se.flowing);se.flowing&&ne.read()!==null;);}x.prototype.wrap=function(ne){var se=this,oe=this._readableState,Q=!1;ne.on("end",function(){if(i("wrapped end"),oe.decoder&&!oe.ended){var te=oe.decoder.end();te&&te.length&&se.push(te)}se.push(null)}),ne.on("data",function(te){if(i("wrapped data"),oe.decoder&&(te=oe.decoder.write(te)),!(oe.objectMode&&te==null)&&!(!oe.objectMode&&(!te||!te.length))){var $=se.push(te);$||(Q=!0,ne.pause())}});for(var I in ne)this[I]===void 0&&typeof ne[I]=="function"&&(this[I]=function(te){return function(){return ne[te].apply(ne,arguments)}}(I));for(var L=0;L<_.length;L++)ne.on(_[L],this.emit.bind(this,_[L]));return this._read=function(te){i("wrapped _read",te),Q&&(Q=!1,ne.resume())},this},Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),x._fromList=ue;function ue(ne,se){if(se.length===0)return null;var oe;return se.objectMode?oe=se.buffer.shift():!ne||ne>=se.length?(se.decoder?oe=se.buffer.join(""):se.buffer.length===1?oe=se.buffer.head.data:oe=se.buffer.concat(se.length),se.buffer.clear()):oe=ce(ne,se.buffer,se.decoder),oe}function ce(ne,se,oe){var Q;return ne<se.head.data.length?(Q=se.head.data.slice(0,ne),se.head.data=se.head.data.slice(ne)):ne===se.head.data.length?Q=se.shift():Q=oe?ve(ne,se):_e(ne,se),Q}function ve(ne,se){var oe=se.head,Q=1,I=oe.data;for(ne-=I.length;oe=oe.next;){var L=oe.data,te=ne>L.length?L.length:ne;if(te===L.length?I+=L:I+=L.slice(0,ne),ne-=te,ne===0){te===L.length?(++Q,oe.next?se.head=oe.next:se.head=se.tail=null):(se.head=oe,oe.data=L.slice(te));break}++Q}return se.length-=Q,I}function _e(ne,se){var oe=n.allocUnsafe(ne),Q=se.head,I=1;for(Q.data.copy(oe),ne-=Q.data.length;Q=Q.next;){var L=Q.data,te=ne>L.length?L.length:ne;if(L.copy(oe,oe.length-ne,0,te),ne-=te,ne===0){te===L.length?(++I,Q.next?se.head=Q.next:se.head=se.tail=null):(se.head=Q,Q.data=L.slice(te));break}++I}return se.length-=I,oe}function Re(ne){var se=ne._readableState;if(se.length>0)throw new Error('"endReadable()" called on non-empty stream');se.endEmitted||(se.ended=!0,d.nextTick(he,se,ne))}function he(ne,se){!ne.endEmitted&&ne.length===0&&(ne.endEmitted=!0,se.readable=!1,se.emit("end"))}function fe(ne,se){for(var oe=0,Q=ne.length;oe<Q;oe++)if(ne[oe]===se)return oe;return-1}}).call(this,A("_process"),typeof wt<"u"?wt:typeof self<"u"?self:typeof ge<"u"?ge:{})},{"./_stream_duplex":139,"./internal/streams/BufferList":144,"./internal/streams/destroy":145,"./internal/streams/stream":146,_process:133,"core-util-is":51,events:52,inherits:75,isarray:79,"process-nextick-args":132,"safe-buffer":147,"string_decoder/":148,util:33}],142:[function(A,W,S){W.exports=g;var k=A("./_stream_duplex"),y=A("core-util-is");y.inherits=A("inherits"),y.inherits(g,k);function d(a,n){var r=this._transformState;r.transforming=!1;var f=r.writecb;if(!f)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,n!=null&&this.push(n),f(a);var c=this._readableState;c.reading=!1,(c.needReadable||c.length<c.highWaterMark)&&this._read(c.highWaterMark)}function g(a){if(!(this instanceof g))return new g(a);k.call(this,a),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&(typeof a.transform=="function"&&(this._transform=a.transform),typeof a.flush=="function"&&(this._flush=a.flush)),this.on("prefinish",u)}function u(){var a=this;typeof this._flush=="function"?this._flush(function(n,r){s(a,n,r)}):s(this,null,null)}g.prototype.push=function(a,n){return this._transformState.needTransform=!1,k.prototype.push.call(this,a,n)},g.prototype._transform=function(a,n,r){throw new Error("_transform() is not implemented")},g.prototype._write=function(a,n,r){var f=this._transformState;if(f.writecb=r,f.writechunk=a,f.writeencoding=n,!f.transforming){var c=this._readableState;(f.needTransform||c.needReadable||c.length<c.highWaterMark)&&this._read(c.highWaterMark)}},g.prototype._read=function(a){var n=this._transformState;n.writechunk!==null&&n.writecb&&!n.transforming?(n.transforming=!0,this._transform(n.writechunk,n.writeencoding,n.afterTransform)):n.needTransform=!0},g.prototype._destroy=function(a,n){var r=this;k.prototype._destroy.call(this,a,function(f){n(f),r.emit("close")})};function s(a,n,r){if(n)return a.emit("error",n);if(r!=null&&a.push(r),a._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(a._transformState.transforming)throw new Error("Calling transform done when still transforming");return a.push(null)}},{"./_stream_duplex":139,"core-util-is":51,inherits:75}],143:[function(A,W,S){(function(k,y,d){var g=A("process-nextick-args");W.exports=b;function u(K){var re=this;this.next=null,this.entry=null,this.finish=function(){J(re,K)}}var s=!k.browser&&["v0.10","v0.9."].indexOf(k.version.slice(0,5))>-1?d:g.nextTick,a;b.WritableState=v;var n=A("core-util-is");n.inherits=A("inherits");var r={deprecate:A("util-deprecate")},f=A("./internal/streams/stream"),c=A("safe-buffer").Buffer,o=y.Uint8Array||function(){};function l(K){return c.from(K)}function i(K){return c.isBuffer(K)||K instanceof o}var p=A("./internal/streams/destroy");n.inherits(b,f);function m(){}function v(K,re){a=a||A("./_stream_duplex"),K=K||{};var ue=re instanceof a;this.objectMode=!!K.objectMode,ue&&(this.objectMode=this.objectMode||!!K.writableObjectMode);var ce=K.highWaterMark,ve=K.writableHighWaterMark,_e=this.objectMode?16:16*1024;ce||ce===0?this.highWaterMark=ce:ue&&(ve||ve===0)?this.highWaterMark=ve:this.highWaterMark=_e,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Re=K.decodeStrings===!1;this.decodeStrings=!Re,this.defaultEncoding=K.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(he){H(re,he)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}v.prototype.getBuffer=function(){for(var re=this.bufferedRequest,ue=[];re;)ue.push(re),re=re.next;return ue},function(){try{Object.defineProperty(v.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var _;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(_=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(K){return _.call(this,K)?!0:this!==b?!1:K&&K._writableState instanceof v}})):_=function(K){return K instanceof this};function b(K){if(a=a||A("./_stream_duplex"),!_.call(b,this)&&!(this instanceof a))return new b(K);this._writableState=new v(K,this),this.writable=!0,K&&(typeof K.write=="function"&&(this._write=K.write),typeof K.writev=="function"&&(this._writev=K.writev),typeof K.destroy=="function"&&(this._destroy=K.destroy),typeof K.final=="function"&&(this._final=K.final)),f.call(this)}b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function E(K,re){var ue=new Error("write after end");K.emit("error",ue),g.nextTick(re,ue)}function x(K,re,ue,ce){var ve=!0,_e=!1;return ue===null?_e=new TypeError("May not write null values to stream"):typeof ue!="string"&&ue!==void 0&&!re.objectMode&&(_e=new TypeError("Invalid non-string/buffer chunk")),_e&&(K.emit("error",_e),g.nextTick(ce,_e),ve=!1),ve}b.prototype.write=function(K,re,ue){var ce=this._writableState,ve=!1,_e=!ce.objectMode&&i(K);return _e&&!c.isBuffer(K)&&(K=l(K)),typeof re=="function"&&(ue=re,re=null),_e?re="buffer":re||(re=ce.defaultEncoding),typeof ue!="function"&&(ue=m),ce.ended?E(this,ue):(_e||x(this,ce,K,ue))&&(ce.pendingcb++,ve=O(this,ce,_e,K,re,ue)),ve},b.prototype.cork=function(){var K=this._writableState;K.corked++},b.prototype.uncork=function(){var K=this._writableState;K.corked&&(K.corked--,!K.writing&&!K.corked&&!K.finished&&!K.bufferProcessing&&K.bufferedRequest&&B(this,K))},b.prototype.setDefaultEncoding=function(re){if(typeof re=="string"&&(re=re.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((re+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+re);return this._writableState.defaultEncoding=re,this};function M(K,re,ue){return!K.objectMode&&K.decodeStrings!==!1&&typeof re=="string"&&(re=c.from(re,ue)),re}Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function O(K,re,ue,ce,ve,_e){if(!ue){var Re=M(re,ce,ve);ce!==Re&&(ue=!0,ve="buffer",ce=Re)}var he=re.objectMode?1:ce.length;re.length+=he;var fe=re.length<re.highWaterMark;if(fe||(re.needDrain=!0),re.writing||re.corked){var ne=re.lastBufferedRequest;re.lastBufferedRequest={chunk:ce,encoding:ve,isBuf:ue,callback:_e,next:null},ne?ne.next=re.lastBufferedRequest:re.bufferedRequest=re.lastBufferedRequest,re.bufferedRequestCount+=1}else j(K,re,!1,he,ce,ve,_e);return fe}function j(K,re,ue,ce,ve,_e,Re){re.writelen=ce,re.writecb=Re,re.writing=!0,re.sync=!0,ue?K._writev(ve,re.onwrite):K._write(ve,_e,re.onwrite),re.sync=!1}function T(K,re,ue,ce,ve){--re.pendingcb,ue?(g.nextTick(ve,ce),g.nextTick(ee,K,re),K._writableState.errorEmitted=!0,K.emit("error",ce)):(ve(ce),K._writableState.errorEmitted=!0,K.emit("error",ce),ee(K,re))}function U(K){K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0}function H(K,re){var ue=K._writableState,ce=ue.sync,ve=ue.writecb;if(U(ue),re)T(K,ue,ce,re,ve);else{var _e=X(ue);!_e&&!ue.corked&&!ue.bufferProcessing&&ue.bufferedRequest&&B(K,ue),ce?s(D,K,ue,_e,ve):D(K,ue,_e,ve)}}function D(K,re,ue,ce){ue||P(K,re),re.pendingcb--,ce(),ee(K,re)}function P(K,re){re.length===0&&re.needDrain&&(re.needDrain=!1,K.emit("drain"))}function B(K,re){re.bufferProcessing=!0;var ue=re.bufferedRequest;if(K._writev&&ue&&ue.next){var ce=re.bufferedRequestCount,ve=new Array(ce),_e=re.corkedRequestsFree;_e.entry=ue;for(var Re=0,he=!0;ue;)ve[Re]=ue,ue.isBuf||(he=!1),ue=ue.next,Re+=1;ve.allBuffers=he,j(K,re,!0,re.length,ve,"",_e.finish),re.pendingcb++,re.lastBufferedRequest=null,_e.next?(re.corkedRequestsFree=_e.next,_e.next=null):re.corkedRequestsFree=new u(re),re.bufferedRequestCount=0}else{for(;ue;){var fe=ue.chunk,ne=ue.encoding,se=ue.callback,oe=re.objectMode?1:fe.length;if(j(K,re,!1,oe,fe,ne,se),ue=ue.next,re.bufferedRequestCount--,re.writing)break}ue===null&&(re.lastBufferedRequest=null)}re.bufferedRequest=ue,re.bufferProcessing=!1}b.prototype._write=function(K,re,ue){ue(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(K,re,ue){var ce=this._writableState;typeof K=="function"?(ue=K,K=null,re=null):typeof re=="function"&&(ue=re,re=null),K!=null&&this.write(K,re),ce.corked&&(ce.corked=1,this.uncork()),!ce.ending&&!ce.finished&&Z(this,ce,ue)};function X(K){return K.ending&&K.length===0&&K.bufferedRequest===null&&!K.finished&&!K.writing}function V(K,re){K._final(function(ue){re.pendingcb--,ue&&K.emit("error",ue),re.prefinished=!0,K.emit("prefinish"),ee(K,re)})}function q(K,re){!re.prefinished&&!re.finalCalled&&(typeof K._final=="function"?(re.pendingcb++,re.finalCalled=!0,g.nextTick(V,K,re)):(re.prefinished=!0,K.emit("prefinish")))}function ee(K,re){var ue=X(re);return ue&&(q(K,re),re.pendingcb===0&&(re.finished=!0,K.emit("finish"))),ue}function Z(K,re,ue){re.ending=!0,ee(K,re),ue&&(re.finished?g.nextTick(ue):K.once("finish",ue)),re.ended=!0,K.writable=!1}function J(K,re,ue){var ce=K.entry;for(K.entry=null;ce;){var ve=ce.callback;re.pendingcb--,ve(ue),ce=ce.next}re.corkedRequestsFree?re.corkedRequestsFree.next=K:re.corkedRequestsFree=K}Object.defineProperty(b.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(K){this._writableState&&(this._writableState.destroyed=K)}}),b.prototype.destroy=p.destroy,b.prototype._undestroy=p.undestroy,b.prototype._destroy=function(K,re){this.end(),re(K)}}).call(this,A("_process"),typeof wt<"u"?wt:typeof self<"u"?self:typeof ge<"u"?ge:{},A("timers").setImmediate)},{"./_stream_duplex":139,"./internal/streams/destroy":145,"./internal/streams/stream":146,_process:133,"core-util-is":51,inherits:75,"process-nextick-args":132,"safe-buffer":147,timers:176,"util-deprecate":183}],144:[function(A,W,S){function k(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}var y=A("safe-buffer").Buffer,d=A("util");function g(u,s,a){u.copy(s,a)}W.exports=function(){function u(){k(this,u),this.head=null,this.tail=null,this.length=0}return u.prototype.push=function(a){var n={data:a,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},u.prototype.unshift=function(a){var n={data:a,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},u.prototype.shift=function(){if(this.length!==0){var a=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,a}},u.prototype.clear=function(){this.head=this.tail=null,this.length=0},u.prototype.join=function(a){if(this.length===0)return"";for(var n=this.head,r=""+n.data;n=n.next;)r+=a+n.data;return r},u.prototype.concat=function(a){if(this.length===0)return y.alloc(0);if(this.length===1)return this.head.data;for(var n=y.allocUnsafe(a>>>0),r=this.head,f=0;r;)g(r.data,n,f),f+=r.data.length,r=r.next;return n},u}(),d&&d.inspect&&d.inspect.custom&&(W.exports.prototype[d.inspect.custom]=function(){var u=d.inspect({length:this.length});return this.constructor.name+" "+u})},{"safe-buffer":147,util:33}],145:[function(A,W,S){var k=A("process-nextick-args");function y(u,s){var a=this,n=this._readableState&&this._readableState.destroyed,r=this._writableState&&this._writableState.destroyed;return n||r?(s?s(u):u&&(!this._writableState||!this._writableState.errorEmitted)&&k.nextTick(g,this,u),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(f){!s&&f?(k.nextTick(g,a,f),a._writableState&&(a._writableState.errorEmitted=!0)):s&&s(f)}),this)}function d(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function g(u,s){u.emit("error",s)}W.exports={destroy:y,undestroy:d}},{"process-nextick-args":132}],146:[function(A,W,S){W.exports=A("events").EventEmitter},{events:52}],147:[function(A,W,S){var k=A("buffer"),y=k.Buffer;function d(u,s){for(var a in u)s[a]=u[a]}y.from&&y.alloc&&y.allocUnsafe&&y.allocUnsafeSlow?W.exports=k:(d(k,S),S.Buffer=g);function g(u,s,a){return y(u,s,a)}d(y,g),g.from=function(u,s,a){if(typeof u=="number")throw new TypeError("Argument must not be a number");return y(u,s,a)},g.alloc=function(u,s,a){if(typeof u!="number")throw new TypeError("Argument must be a number");var n=y(u);return s!==void 0?typeof a=="string"?n.fill(s,a):n.fill(s):n.fill(0),n},g.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return y(u)},g.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return k.SlowBuffer(u)}},{buffer:48}],148:[function(A,W,S){var k=A("safe-buffer").Buffer,y=k.isEncoding||function(_){switch(_=""+_,_&&_.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function d(_){if(!_)return"utf8";for(var b;;)switch(_){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _;default:if(b)return;_=(""+_).toLowerCase(),b=!0}}function g(_){var b=d(_);if(typeof b!="string"&&(k.isEncoding===y||!y(_)))throw new Error("Unknown encoding: "+_);return b||_}S.StringDecoder=u;function u(_){this.encoding=g(_);var b;switch(this.encoding){case"utf16le":this.text=o,this.end=l,b=4;break;case"utf8":this.fillLast=r,b=4;break;case"base64":this.text=i,this.end=p,b=3;break;default:this.write=m,this.end=v;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=k.allocUnsafe(b)}u.prototype.write=function(_){if(_.length===0)return"";var b,E;if(this.lastNeed){if(b=this.fillLast(_),b===void 0)return"";E=this.lastNeed,this.lastNeed=0}else E=0;return E<_.length?b?b+this.text(_,E):this.text(_,E):b||""},u.prototype.end=c,u.prototype.text=f,u.prototype.fillLast=function(_){if(this.lastNeed<=_.length)return _.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,this.lastTotal-this.lastNeed,0,_.length),this.lastNeed-=_.length};function s(_){return _<=127?0:_>>5===6?2:_>>4===14?3:_>>3===30?4:_>>6===2?-1:-2}function a(_,b,E){var x=b.length-1;if(x<E)return 0;var M=s(b[x]);return M>=0?(M>0&&(_.lastNeed=M-1),M):--x<E||M===-2?0:(M=s(b[x]),M>=0?(M>0&&(_.lastNeed=M-2),M):--x<E||M===-2?0:(M=s(b[x]),M>=0?(M>0&&(M===2?M=0:_.lastNeed=M-3),M):0))}function n(_,b,E){if((b[0]&192)!==128)return _.lastNeed=0,"";if(_.lastNeed>1&&b.length>1){if((b[1]&192)!==128)return _.lastNeed=1,"";if(_.lastNeed>2&&b.length>2&&(b[2]&192)!==128)return _.lastNeed=2,""}}function r(_){var b=this.lastTotal-this.lastNeed,E=n(this,_);if(E!==void 0)return E;if(this.lastNeed<=_.length)return _.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,b,0,_.length),this.lastNeed-=_.length}function f(_,b){var E=a(this,_,b);if(!this.lastNeed)return _.toString("utf8",b);this.lastTotal=E;var x=_.length-(E-this.lastNeed);return _.copy(this.lastChar,0,x),_.toString("utf8",b,x)}function c(_){var b=_&&_.length?this.write(_):"";return this.lastNeed?b+"":b}function o(_,b){if((_.length-b)%2===0){var E=_.toString("utf16le",b);if(E){var x=E.charCodeAt(E.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1],E.slice(0,-1)}return E}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=_[_.length-1],_.toString("utf16le",b,_.length-1)}function l(_){var b=_&&_.length?this.write(_):"";if(this.lastNeed){var E=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,E)}return b}function i(_,b){var E=(_.length-b)%3;return E===0?_.toString("base64",b):(this.lastNeed=3-E,this.lastTotal=3,E===1?this.lastChar[0]=_[_.length-1]:(this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1]),_.toString("base64",b,_.length-E))}function p(_){var b=_&&_.length?this.write(_):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function m(_){return _.toString(this.encoding)}function v(_){return _&&_.length?this.write(_):""}},{"safe-buffer":147}],149:[function(A,W,S){W.exports=A("./readable").PassThrough},{"./readable":150}],150:[function(A,W,S){S=W.exports=A("./lib/_stream_readable.js"),S.Stream=S,S.Readable=S,S.Writable=A("./lib/_stream_writable.js"),S.Duplex=A("./lib/_stream_duplex.js"),S.Transform=A("./lib/_stream_transform.js"),S.PassThrough=A("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":139,"./lib/_stream_passthrough.js":140,"./lib/_stream_readable.js":141,"./lib/_stream_transform.js":142,"./lib/_stream_writable.js":143}],151:[function(A,W,S){W.exports=A("./readable").Transform},{"./readable":150}],152:[function(A,W,S){W.exports=A("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":143}],153:[function(A,W,S){var k=function(y){var d=Object.prototype,g=d.hasOwnProperty,u,s=typeof Symbol=="function"?Symbol:{},a=s.iterator||"@@iterator",n=s.asyncIterator||"@@asyncIterator",r=s.toStringTag||"@@toStringTag";function f(q,ee,Z,J){var K=ee&&ee.prototype instanceof v?ee:v,re=Object.create(K.prototype),ue=new B(J||[]);return re._invoke=U(q,Z,ue),re}y.wrap=f;function c(q,ee,Z){try{return{type:"normal",arg:q.call(ee,Z)}}catch(J){return{type:"throw",arg:J}}}var o="suspendedStart",l="suspendedYield",i="executing",p="completed",m={};function v(){}function _(){}function b(){}var E={};E[a]=function(){return this};var x=Object.getPrototypeOf,M=x&&x(x(X([])));M&&M!==d&&g.call(M,a)&&(E=M);var O=b.prototype=v.prototype=Object.create(E);_.prototype=O.constructor=b,b.constructor=_,b[r]=_.displayName="GeneratorFunction";function j(q){["next","throw","return"].forEach(function(ee){q[ee]=function(Z){return this._invoke(ee,Z)}})}y.isGeneratorFunction=function(q){var ee=typeof q=="function"&&q.constructor;return ee?ee===_||(ee.displayName||ee.name)==="GeneratorFunction":!1},y.mark=function(q){return Object.setPrototypeOf?Object.setPrototypeOf(q,b):(q.__proto__=b,r in q||(q[r]="GeneratorFunction")),q.prototype=Object.create(O),q},y.awrap=function(q){return{__await:q}};function T(q){function ee(K,re,ue,ce){var ve=c(q[K],q,re);if(ve.type==="throw")ce(ve.arg);else{var _e=ve.arg,Re=_e.value;return Re&&typeof Re=="object"&&g.call(Re,"__await")?Promise.resolve(Re.__await).then(function(he){ee("next",he,ue,ce)},function(he){ee("throw",he,ue,ce)}):Promise.resolve(Re).then(function(he){_e.value=he,ue(_e)},function(he){return ee("throw",he,ue,ce)})}}var Z;function J(K,re){function ue(){return new Promise(function(ce,ve){ee(K,re,ce,ve)})}return Z=Z?Z.then(ue,ue):ue()}this._invoke=J}j(T.prototype),T.prototype[n]=function(){return this},y.AsyncIterator=T,y.async=function(q,ee,Z,J){var K=new T(f(q,ee,Z,J));return y.isGeneratorFunction(ee)?K:K.next().then(function(re){return re.done?re.value:K.next()})};function U(q,ee,Z){var J=o;return function(re,ue){if(J===i)throw new Error("Generator is already running");if(J===p){if(re==="throw")throw ue;return V()}for(Z.method=re,Z.arg=ue;;){var ce=Z.delegate;if(ce){var ve=H(ce,Z);if(ve){if(ve===m)continue;return ve}}if(Z.method==="next")Z.sent=Z._sent=Z.arg;else if(Z.method==="throw"){if(J===o)throw J=p,Z.arg;Z.dispatchException(Z.arg)}else Z.method==="return"&&Z.abrupt("return",Z.arg);J=i;var _e=c(q,ee,Z);if(_e.type==="normal"){if(J=Z.done?p:l,_e.arg===m)continue;return{value:_e.arg,done:Z.done}}else _e.type==="throw"&&(J=p,Z.method="throw",Z.arg=_e.arg)}}}function H(q,ee){var Z=q.iterator[ee.method];if(Z===u){if(ee.delegate=null,ee.method==="throw"){if(q.iterator.return&&(ee.method="return",ee.arg=u,H(q,ee),ee.method==="throw"))return m;ee.method="throw",ee.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var J=c(Z,q.iterator,ee.arg);if(J.type==="throw")return ee.method="throw",ee.arg=J.arg,ee.delegate=null,m;var K=J.arg;if(!K)return ee.method="throw",ee.arg=new TypeError("iterator result is not an object"),ee.delegate=null,m;if(K.done)ee[q.resultName]=K.value,ee.next=q.nextLoc,ee.method!=="return"&&(ee.method="next",ee.arg=u);else return K;return ee.delegate=null,m}j(O),O[r]="Generator",O[a]=function(){return this},O.toString=function(){return"[object Generator]"};function D(q){var ee={tryLoc:q[0]};1 in q&&(ee.catchLoc=q[1]),2 in q&&(ee.finallyLoc=q[2],ee.afterLoc=q[3]),this.tryEntries.push(ee)}function P(q){var ee=q.completion||{};ee.type="normal",delete ee.arg,q.completion=ee}function B(q){this.tryEntries=[{tryLoc:"root"}],q.forEach(D,this),this.reset(!0)}y.keys=function(q){var ee=[];for(var Z in q)ee.push(Z);return ee.reverse(),function J(){for(;ee.length;){var K=ee.pop();if(K in q)return J.value=K,J.done=!1,J}return J.done=!0,J}};function X(q){if(q){var ee=q[a];if(ee)return ee.call(q);if(typeof q.next=="function")return q;if(!isNaN(q.length)){var Z=-1,J=function K(){for(;++Z<q.length;)if(g.call(q,Z))return K.value=q[Z],K.done=!1,K;return K.value=u,K.done=!0,K};return J.next=J}}return{next:V}}y.values=X;function V(){return{value:u,done:!0}}return B.prototype={constructor:B,reset:function(q){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(P),!q)for(var ee in this)ee.charAt(0)==="t"&&g.call(this,ee)&&!isNaN(+ee.slice(1))&&(this[ee]=u)},stop:function(){this.done=!0;var q=this.tryEntries[0],ee=q.completion;if(ee.type==="throw")throw ee.arg;return this.rval},dispatchException:function(q){if(this.done)throw q;var ee=this;function Z(ve,_e){return re.type="throw",re.arg=q,ee.next=ve,_e&&(ee.method="next",ee.arg=u),!!_e}for(var J=this.tryEntries.length-1;J>=0;--J){var K=this.tryEntries[J],re=K.completion;if(K.tryLoc==="root")return Z("end");if(K.tryLoc<=this.prev){var ue=g.call(K,"catchLoc"),ce=g.call(K,"finallyLoc");if(ue&&ce){if(this.prev<K.catchLoc)return Z(K.catchLoc,!0);if(this.prev<K.finallyLoc)return Z(K.finallyLoc)}else if(ue){if(this.prev<K.catchLoc)return Z(K.catchLoc,!0)}else if(ce){if(this.prev<K.finallyLoc)return Z(K.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(q,ee){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var J=this.tryEntries[Z];if(J.tryLoc<=this.prev&&g.call(J,"finallyLoc")&&this.prev<J.finallyLoc){var K=J;break}}K&&(q==="break"||q==="continue")&&K.tryLoc<=ee&&ee<=K.finallyLoc&&(K=null);var re=K?K.completion:{};return re.type=q,re.arg=ee,K?(this.method="next",this.next=K.finallyLoc,m):this.complete(re)},complete:function(q,ee){if(q.type==="throw")throw q.arg;return q.type==="break"||q.type==="continue"?this.next=q.arg:q.type==="return"?(this.rval=this.arg=q.arg,this.method="return",this.next="end"):q.type==="normal"&&ee&&(this.next=ee),m},finish:function(q){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var Z=this.tryEntries[ee];if(Z.finallyLoc===q)return this.complete(Z.completion,Z.afterLoc),P(Z),m}},catch:function(q){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var Z=this.tryEntries[ee];if(Z.tryLoc===q){var J=Z.completion;if(J.type==="throw"){var K=J.arg;P(Z)}return K}}throw new Error("illegal catch attempt")},delegateYield:function(q,ee,Z){return this.delegate={iterator:X(q),resultName:ee,nextLoc:Z},this.method==="next"&&(this.arg=u),m}},y}(typeof W=="object"?W.exports:{});try{regeneratorRuntime=k}catch{Function("r","regeneratorRuntime = r")(k)}},{}],154:[function(A,W,S){var k=A("buffer"),y=k.Buffer;function d(u,s){for(var a in u)s[a]=u[a]}y.from&&y.alloc&&y.allocUnsafe&&y.allocUnsafeSlow?W.exports=k:(d(k,S),S.Buffer=g);function g(u,s,a){return y(u,s,a)}g.prototype=Object.create(y.prototype),d(y,g),g.from=function(u,s,a){if(typeof u=="number")throw new TypeError("Argument must not be a number");return y(u,s,a)},g.alloc=function(u,s,a){if(typeof u!="number")throw new TypeError("Argument must be a number");var n=y(u);return s!==void 0?typeof a=="string"?n.fill(s,a):n.fill(s):n.fill(0),n},g.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return y(u)},g.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return k.SlowBuffer(u)}},{buffer:48}],155:[function(A,W,S){W.exports=d;var k=A("events").EventEmitter,y=A("inherits");y(d,k),d.Readable=A("readable-stream/readable.js"),d.Writable=A("readable-stream/writable.js"),d.Duplex=A("readable-stream/duplex.js"),d.Transform=A("readable-stream/transform.js"),d.PassThrough=A("readable-stream/passthrough.js"),d.Stream=d;function d(){k.call(this)}d.prototype.pipe=function(g,u){var s=this;function a(i){g.writable&&g.write(i)===!1&&s.pause&&s.pause()}s.on("data",a);function n(){s.readable&&s.resume&&s.resume()}g.on("drain",n),!g._isStdio&&(!u||u.end!==!1)&&(s.on("end",f),s.on("close",c));var r=!1;function f(){r||(r=!0,g.end())}function c(){r||(r=!0,typeof g.destroy=="function"&&g.destroy())}function o(i){if(l(),k.listenerCount(this,"error")===0)throw i}s.on("error",o),g.on("error",o);function l(){s.removeListener("data",a),g.removeListener("drain",n),s.removeListener("end",f),s.removeListener("close",c),s.removeListener("error",o),g.removeListener("error",o),s.removeListener("end",l),s.removeListener("close",l),g.removeListener("close",l)}return s.on("end",l),s.on("close",l),g.on("close",l),g.emit("pipe",s),g}},{events:52,inherits:75,"readable-stream/duplex.js":138,"readable-stream/passthrough.js":149,"readable-stream/readable.js":150,"readable-stream/transform.js":151,"readable-stream/writable.js":152}],156:[function(A,W,S){(function(k){var y=A("./lib/request"),d=A("./lib/response"),g=A("xtend"),u=A("builtin-status-codes"),s=A("url"),a=S;a.request=function(n,r){typeof n=="string"?n=s.parse(n):n=g(n);var f=k.location.protocol.search(/^https?:$/)===-1?"http:":"",c=n.protocol||f,o=n.hostname||n.host,l=n.port,i=n.path||"/";o&&o.indexOf(":")!==-1&&(o="["+o+"]"),n.url=(o?c+"//"+o:"")+(l?":"+l:"")+i,n.method=(n.method||"GET").toUpperCase(),n.headers=n.headers||{};var p=new y(n);return r&&p.on("response",r),p},a.get=function(r,f){var c=a.request(r,f);return c.end(),c},a.ClientRequest=y,a.IncomingMessage=d.IncomingMessage,a.Agent=function(){},a.Agent.defaultMaxSockets=4,a.globalAgent=new a.Agent,a.STATUS_CODES=u,a.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,typeof wt<"u"?wt:typeof self<"u"?self:typeof ge<"u"?ge:{})},{"./lib/request":158,"./lib/response":159,"builtin-status-codes":50,url:180,xtend:189}],157:[function(A,W,S){(function(k){S.fetch=u(k.fetch)&&u(k.ReadableStream),S.writableStream=u(k.WritableStream),S.abortController=u(k.AbortController);var y;function d(){if(y!==void 0)return y;if(k.XMLHttpRequest){y=new k.XMLHttpRequest;try{y.open("GET",k.XDomainRequest?"/":"https://example.com")}catch{y=null}}else y=null;return y}function g(s){var a=d();if(!a)return!1;try{return a.responseType=s,a.responseType===s}catch{}return!1}S.arraybuffer=S.fetch||g("arraybuffer"),S.msstream=!S.fetch&&g("ms-stream"),S.mozchunkedarraybuffer=!S.fetch&&g("moz-chunked-arraybuffer"),S.overrideMimeType=S.fetch||(d()?u(d().overrideMimeType):!1);function u(s){return typeof s=="function"}y=null}).call(this,typeof wt<"u"?wt:typeof self<"u"?self:typeof ge<"u"?ge:{})},{}],158:[function(A,W,S){(function(k,y,d){var g=A("./capability"),u=A("inherits"),s=A("./response"),a=A("readable-stream"),n=s.IncomingMessage,r=s.readyStates;function f(i,p){return g.fetch&&p?"fetch":g.mozchunkedarraybuffer?"moz-chunked-arraybuffer":g.msstream?"ms-stream":g.arraybuffer&&i?"arraybuffer":"text"}var c=W.exports=function(i){var p=this;a.Writable.call(p),p._opts=i,p._body=[],p._headers={},i.auth&&p.setHeader("Authorization","Basic "+d.from(i.auth).toString("base64")),Object.keys(i.headers).forEach(function(_){p.setHeader(_,i.headers[_])});var m,v=!0;if(i.mode==="disable-fetch"||"requestTimeout"in i&&!g.abortController)v=!1,m=!0;else if(i.mode==="prefer-streaming")m=!1;else if(i.mode==="allow-wrong-content-type")m=!g.overrideMimeType;else if(!i.mode||i.mode==="default"||i.mode==="prefer-fast")m=!0;else throw new Error("Invalid value for opts.mode");p._mode=f(m,v),p._fetchTimer=null,p.on("finish",function(){p._onFinish()})};u(c,a.Writable),c.prototype.setHeader=function(i,p){var m=this,v=i.toLowerCase();l.indexOf(v)===-1&&(m._headers[v]={name:i,value:p})},c.prototype.getHeader=function(i){var p=this._headers[i.toLowerCase()];return p?p.value:null},c.prototype.removeHeader=function(i){var p=this;delete p._headers[i.toLowerCase()]},c.prototype._onFinish=function(){var i=this;if(!i._destroyed){var p=i._opts,m=i._headers,v=null;p.method!=="GET"&&p.method!=="HEAD"&&(v=new Blob(i._body,{type:(m["content-type"]||{}).value||""}));var _=[];if(Object.keys(m).forEach(function(M){var O=m[M].name,j=m[M].value;Array.isArray(j)?j.forEach(function(T){_.push([O,T])}):_.push([O,j])}),i._mode==="fetch"){var b=null;if(g.abortController){var E=new AbortController;b=E.signal,i._fetchAbortController=E,"requestTimeout"in p&&p.requestTimeout!==0&&(i._fetchTimer=y.setTimeout(function(){i.emit("requestTimeout"),i._fetchAbortController&&i._fetchAbortController.abort()},p.requestTimeout))}y.fetch(i._opts.url,{method:i._opts.method,headers:_,body:v||void 0,mode:"cors",credentials:p.withCredentials?"include":"same-origin",signal:b}).then(function(M){i._fetchResponse=M,i._connect()},function(M){y.clearTimeout(i._fetchTimer),i._destroyed||i.emit("error",M)})}else{var x=i._xhr=new y.XMLHttpRequest;try{x.open(i._opts.method,i._opts.url,!0)}catch(M){k.nextTick(function(){i.emit("error",M)});return}"responseType"in x&&(x.responseType=i._mode),"withCredentials"in x&&(x.withCredentials=!!p.withCredentials),i._mode==="text"&&"overrideMimeType"in x&&x.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in p&&(x.timeout=p.requestTimeout,x.ontimeout=function(){i.emit("requestTimeout")}),_.forEach(function(M){x.setRequestHeader(M[0],M[1])}),i._response=null,x.onreadystatechange=function(){switch(x.readyState){case r.LOADING:case r.DONE:i._onXHRProgress();break}},i._mode==="moz-chunked-arraybuffer"&&(x.onprogress=function(){i._onXHRProgress()}),x.onerror=function(){i._destroyed||i.emit("error",new Error("XHR error"))};try{x.send(v)}catch(M){k.nextTick(function(){i.emit("error",M)});return}}}};function o(i){try{var p=i.status;return p!==null&&p!==0}catch{return!1}}c.prototype._onXHRProgress=function(){var i=this;!o(i._xhr)||i._destroyed||(i._response||i._connect(),i._response._onXHRProgress())},c.prototype._connect=function(){var i=this;i._destroyed||(i._response=new n(i._xhr,i._fetchResponse,i._mode,i._fetchTimer),i._response.on("error",function(p){i.emit("error",p)}),i.emit("response",i._response))},c.prototype._write=function(i,p,m){var v=this;v._body.push(i),m()},c.prototype.abort=c.prototype.destroy=function(){var i=this;i._destroyed=!0,y.clearTimeout(i._fetchTimer),i._response&&(i._response._destroyed=!0),i._xhr?i._xhr.abort():i._fetchAbortController&&i._fetchAbortController.abort()},c.prototype.end=function(i,p,m){var v=this;typeof i=="function"&&(m=i,i=void 0),a.Writable.prototype.end.call(v,i,p,m)},c.prototype.flushHeaders=function(){},c.prototype.setTimeout=function(){},c.prototype.setNoDelay=function(){},c.prototype.setSocketKeepAlive=function(){};var l=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,A("_process"),typeof wt<"u"?wt:typeof self<"u"?self:typeof ge<"u"?ge:{},A("buffer").Buffer)},{"./capability":157,"./response":159,_process:133,buffer:48,inherits:75,"readable-stream":174}],159:[function(A,W,S){(function(k,y,d){var g=A("./capability"),u=A("inherits"),s=A("readable-stream"),a=S.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},n=S.IncomingMessage=function(r,f,c,o){var l=this;if(s.Readable.call(l),l._mode=c,l.headers={},l.rawHeaders=[],l.trailers={},l.rawTrailers=[],l.on("end",function(){k.nextTick(function(){l.emit("close")})}),c==="fetch"){let b=function(){p.read().then(function(E){if(!l._destroyed){if(E.done){y.clearTimeout(o),l.push(null);return}l.push(d.from(E.value)),b()}}).catch(function(E){y.clearTimeout(o),l._destroyed||l.emit("error",E)})};if(l._fetchResponse=f,l.url=f.url,l.statusCode=f.status,l.statusMessage=f.statusText,f.headers.forEach(function(E,x){l.headers[x.toLowerCase()]=E,l.rawHeaders.push(x,E)}),g.writableStream){var i=new WritableStream({write:function(E){return new Promise(function(x,M){l._destroyed?M():l.push(d.from(E))?x():l._resumeFetch=x})},close:function(){y.clearTimeout(o),l._destroyed||l.push(null)},abort:function(E){l._destroyed||l.emit("error",E)}});try{f.body.pipeTo(i).catch(function(E){y.clearTimeout(o),l._destroyed||l.emit("error",E)});return}catch{}}var p=f.body.getReader();b()}else{l._xhr=r,l._pos=0,l.url=r.responseURL,l.statusCode=r.status,l.statusMessage=r.statusText;var m=r.getAllResponseHeaders().split(/\r?\n/);if(m.forEach(function(b){var E=b.match(/^([^:]+):\s*(.*)/);if(E){var x=E[1].toLowerCase();x==="set-cookie"?(l.headers[x]===void 0&&(l.headers[x]=[]),l.headers[x].push(E[2])):l.headers[x]!==void 0?l.headers[x]+=", "+E[2]:l.headers[x]=E[2],l.rawHeaders.push(E[1],E[2])}}),l._charset="x-user-defined",!g.overrideMimeType){var v=l.rawHeaders["mime-type"];if(v){var _=v.match(/;\s*charset=([^;])(;|$)/);_&&(l._charset=_[1].toLowerCase())}l._charset||(l._charset="utf-8")}}};u(n,s.Readable),n.prototype._read=function(){var r=this,f=r._resumeFetch;f&&(r._resumeFetch=null,f())},n.prototype._onXHRProgress=function(){var r=this,f=r._xhr,c=null;switch(r._mode){case"text":if(c=f.responseText,c.length>r._pos){var o=c.substr(r._pos);if(r._charset==="x-user-defined"){for(var l=d.alloc(o.length),i=0;i<o.length;i++)l[i]=o.charCodeAt(i)&255;r.push(l)}else r.push(o,r._charset);r._pos=c.length}break;case"arraybuffer":if(f.readyState!==a.DONE||!f.response)break;c=f.response,r.push(d.from(new Uint8Array(c)));break;case"moz-chunked-arraybuffer":if(c=f.response,f.readyState!==a.LOADING||!c)break;r.push(d.from(new Uint8Array(c)));break;case"ms-stream":if(c=f.response,f.readyState!==a.LOADING)break;var p=new y.MSStreamReader;p.onprogress=function(){p.result.byteLength>r._pos&&(r.push(d.from(new Uint8Array(p.result.slice(r._pos)))),r._pos=p.result.byteLength)},p.onload=function(){r.push(null)},p.readAsArrayBuffer(c);break}r._xhr.readyState===a.DONE&&r._mode!=="ms-stream"&&r.push(null)}}).call(this,A("_process"),typeof wt<"u"?wt:typeof self<"u"?self:typeof ge<"u"?ge:{},A("buffer").Buffer)},{"./capability":157,_process:133,buffer:48,inherits:75,"readable-stream":174}],160:[function(A,W,S){function k(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r}var y={};function d(n,r,f){f||(f=Error);function c(l,i,p){return typeof r=="string"?r:r(l,i,p)}var o=function(l){k(i,l);function i(p,m,v){return l.call(this,c(p,m,v))||this}return i}(f);o.prototype.name=f.name,o.prototype.code=n,y[n]=o}function g(n,r){if(Array.isArray(n)){var f=n.length;return n=n.map(function(c){return String(c)}),f>2?"one of ".concat(r," ").concat(n.slice(0,f-1).join(", "),", or ")+n[f-1]:f===2?"one of ".concat(r," ").concat(n[0]," or ").concat(n[1]):"of ".concat(r," ").concat(n[0])}else return"of ".concat(r," ").concat(String(n))}function u(n,r,f){return n.substr(0,r.length)===r}function s(n,r,f){return(f===void 0||f>n.length)&&(f=n.length),n.substring(f-r.length,f)===r}function a(n,r,f){return typeof f!="number"&&(f=0),f+r.length>n.length?!1:n.indexOf(r,f)!==-1}d("ERR_INVALID_OPT_VALUE",function(n,r){return'The value "'+r+'" is invalid for option "'+n+'"'},TypeError),d("ERR_INVALID_ARG_TYPE",function(n,r,f){var c;typeof r=="string"&&u(r,"not ")?(c="must not be",r=r.replace(/^not /,"")):c="must be";var o;if(s(n," argument"))o="The ".concat(n," ").concat(c," ").concat(g(r,"type"));else{var l=a(n,".")?"property":"argument";o='The "'.concat(n,'" ').concat(l," ").concat(c," ").concat(g(r,"type"))}return o+=". Received type ".concat(typeof f),o},TypeError),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),d("ERR_METHOD_NOT_IMPLEMENTED",function(n){return"The "+n+" method is not implemented"}),d("ERR_STREAM_PREMATURE_CLOSE","Premature close"),d("ERR_STREAM_DESTROYED",function(n){return"Cannot call "+n+" after a stream was destroyed"}),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),d("ERR_STREAM_WRITE_AFTER_END","write after end"),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_UNKNOWN_ENCODING",function(n){return"Unknown encoding: "+n},TypeError),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),W.exports.codes=y},{}],161:[function(A,W,S){(function(k){var y=new Set;function d(u){if(!y.has(u)){var s=u+" is an experimental feature. This feature could change at any time";y.add(u),k.emitWarning(s,"ExperimentalWarning")}}function g(){}W.exports.emitExperimentalWarning=k.emitWarning?d:g}).call(this,A("_process"))},{_process:133}],162:[function(A,W,S){(function(k){var y=Object.keys||function(c){var o=[];for(var l in c)o.push(l);return o};W.exports=n;var d=A("./_stream_readable"),g=A("./_stream_writable");A("inherits")(n,d);for(var u=y(g.prototype),s=0;s<u.length;s++){var a=u[s];n.prototype[a]||(n.prototype[a]=g.prototype[a])}function n(c){if(!(this instanceof n))return new n(c);d.call(this,c),g.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",r)))}Object.defineProperty(n.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(n.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(n.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function r(){this._writableState.ended||k.nextTick(f,this)}function f(c){c.end()}Object.defineProperty(n.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(o){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=o,this._writableState.destroyed=o)}})}).call(this,A("_process"))},{"./_stream_readable":164,"./_stream_writable":166,_process:133,inherits:75}],163:[function(A,W,S){W.exports=y;var k=A("./_stream_transform");A("inherits")(y,k);function y(d){if(!(this instanceof y))return new y(d);k.call(this,d)}y.prototype._transform=function(d,g,u){u(null,d)}},{"./_stream_transform":165,inherits:75}],164:[function(A,W,S){(function(k,y){W.exports=D;var d;D.ReadableState=H,A("events").EventEmitter;var g=function(L,te){return L.listeners(te).length},u=A("./internal/streams/stream"),s=A("buffer").Buffer,a=y.Uint8Array||function(){};function n(I){return s.from(I)}function r(I){return s.isBuffer(I)||I instanceof a}var f=A("util"),c;f&&f.debuglog?c=f.debuglog("stream"):c=function(){};var o=A("./internal/streams/buffer_list"),l=A("./internal/streams/destroy"),i=A("./internal/streams/state"),p=i.getHighWaterMark,m=A("../errors").codes,v=m.ERR_INVALID_ARG_TYPE,_=m.ERR_STREAM_PUSH_AFTER_EOF,b=m.ERR_METHOD_NOT_IMPLEMENTED,E=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,x=A("../experimentalWarning"),M=x.emitExperimentalWarning,O,j;A("inherits")(D,u);var T=["error","close","destroy","pause","resume"];function U(I,L,te){if(typeof I.prependListener=="function")return I.prependListener(L,te);!I._events||!I._events[L]?I.on(L,te):Array.isArray(I._events[L])?I._events[L].unshift(te):I._events[L]=[te,I._events[L]]}function H(I,L,te){d=d||A("./_stream_duplex"),I=I||{},typeof te!="boolean"&&(te=L instanceof d),this.objectMode=!!I.objectMode,te&&(this.objectMode=this.objectMode||!!I.readableObjectMode),this.highWaterMark=p(this,I,"readableHighWaterMark",te),this.buffer=new o,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=I.emitClose!==!1,this.destroyed=!1,this.defaultEncoding=I.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,I.encoding&&(O||(O=A("string_decoder/").StringDecoder),this.decoder=new O(I.encoding),this.encoding=I.encoding)}function D(I){if(d=d||A("./_stream_duplex"),!(this instanceof D))return new D(I);var L=this instanceof d;this._readableState=new H(I,this,L),this.readable=!0,I&&(typeof I.read=="function"&&(this._read=I.read),typeof I.destroy=="function"&&(this._destroy=I.destroy)),u.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(L){this._readableState&&(this._readableState.destroyed=L)}}),D.prototype.destroy=l.destroy,D.prototype._undestroy=l.undestroy,D.prototype._destroy=function(I,L){L(I)},D.prototype.push=function(I,L){var te=this._readableState,$;return te.objectMode?$=!0:typeof I=="string"&&(L=L||te.defaultEncoding,L!==te.encoding&&(I=s.from(I,L),L=""),$=!0),P(this,I,L,!1,$)},D.prototype.unshift=function(I){return P(this,I,null,!0,!1)};function P(I,L,te,$,N){c("readableAddChunk",L);var C=I._readableState;if(L===null)C.reading=!1,Z(I,C);else{var ie;if(N||(ie=X(C,L)),ie)I.emit("error",ie);else if(C.objectMode||L&&L.length>0)if(typeof L!="string"&&!C.objectMode&&Object.getPrototypeOf(L)!==s.prototype&&(L=n(L)),$)C.endEmitted?I.emit("error",new E):B(I,C,L,!0);else if(C.ended)I.emit("error",new _);else{if(C.destroyed)return!1;C.reading=!1,C.decoder&&!te?(L=C.decoder.write(L),C.objectMode||L.length!==0?B(I,C,L,!1):re(I,C)):B(I,C,L,!1)}else $||(C.reading=!1,re(I,C))}return!C.ended&&(C.length<C.highWaterMark||C.length===0)}function B(I,L,te,$){L.flowing&&L.length===0&&!L.sync?(L.awaitDrain=0,I.emit("data",te)):(L.length+=L.objectMode?1:te.length,$?L.buffer.unshift(te):L.buffer.push(te),L.needReadable&&J(I)),re(I,L)}function X(I,L){var te;return!r(L)&&typeof L!="string"&&L!==void 0&&!I.objectMode&&(te=new v("chunk",["string","Buffer","Uint8Array"],L)),te}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(I){return O||(O=A("string_decoder/").StringDecoder),this._readableState.decoder=new O(I),this._readableState.encoding=this._readableState.decoder.encoding,this};var V=8388608;function q(I){return I>=V?I=V:(I--,I|=I>>>1,I|=I>>>2,I|=I>>>4,I|=I>>>8,I|=I>>>16,I++),I}function ee(I,L){return I<=0||L.length===0&&L.ended?0:L.objectMode?1:I!==I?L.flowing&&L.length?L.buffer.head.data.length:L.length:(I>L.highWaterMark&&(L.highWaterMark=q(I)),I<=L.length?I:L.ended?L.length:(L.needReadable=!0,0))}D.prototype.read=function(I){c("read",I),I=parseInt(I,10);var L=this._readableState,te=I;if(I!==0&&(L.emittedReadable=!1),I===0&&L.needReadable&&((L.highWaterMark!==0?L.length>=L.highWaterMark:L.length>0)||L.ended))return c("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?se(this):J(this),null;if(I=ee(I,L),I===0&&L.ended)return L.length===0&&se(this),null;var $=L.needReadable;c("need readable",$),(L.length===0||L.length-I<L.highWaterMark)&&($=!0,c("length less than watermark",$)),L.ended||L.reading?($=!1,c("reading or ended",$)):$&&(c("do read"),L.reading=!0,L.sync=!0,L.length===0&&(L.needReadable=!0),this._read(L.highWaterMark),L.sync=!1,L.reading||(I=ee(te,L)));var N;return I>0?N=ne(I,L):N=null,N===null?(L.needReadable=!0,I=0):(L.length-=I,L.awaitDrain=0),L.length===0&&(L.ended||(L.needReadable=!0),te!==I&&L.ended&&se(this)),N!==null&&this.emit("data",N),N};function Z(I,L){if(!L.ended){if(L.decoder){var te=L.decoder.end();te&&te.length&&(L.buffer.push(te),L.length+=L.objectMode?1:te.length)}L.ended=!0,L.sync?J(I):(L.needReadable=!1,L.emittedReadable||(L.emittedReadable=!0,K(I)))}}function J(I){var L=I._readableState;L.needReadable=!1,L.emittedReadable||(c("emitReadable",L.flowing),L.emittedReadable=!0,k.nextTick(K,I))}function K(I){var L=I._readableState;c("emitReadable_",L.destroyed,L.length,L.ended),!L.destroyed&&(L.length||L.ended)&&I.emit("readable"),L.needReadable=!L.flowing&&!L.ended&&L.length<=L.highWaterMark,fe(I)}function re(I,L){L.readingMore||(L.readingMore=!0,k.nextTick(ue,I,L))}function ue(I,L){for(;!L.reading&&!L.ended&&(L.length<L.highWaterMark||L.flowing&&L.length===0);){var te=L.length;if(c("maybeReadMore read 0"),I.read(0),te===L.length)break}L.readingMore=!1}D.prototype._read=function(I){this.emit("error",new b("_read()"))},D.prototype.pipe=function(I,L){var te=this,$=this._readableState;switch($.pipesCount){case 0:$.pipes=I;break;case 1:$.pipes=[$.pipes,I];break;default:$.pipes.push(I);break}$.pipesCount+=1,c("pipe count=%d opts=%j",$.pipesCount,L);var N=(!L||L.end!==!1)&&I!==k.stdout&&I!==k.stderr,C=N?de:Ue;$.endEmitted?k.nextTick(C):te.once("end",C),I.on("unpipe",ie);function ie(et,$e){c("onunpipe"),et===te&&$e&&$e.hasUnpiped===!1&&($e.hasUnpiped=!0,je())}function de(){c("onend"),I.end()}var xe=ce(te);I.on("drain",xe);var Me=!1;function je(){c("cleanup"),I.removeListener("close",Ve),I.removeListener("finish",We),I.removeListener("drain",xe),I.removeListener("error",He),I.removeListener("unpipe",ie),te.removeListener("end",de),te.removeListener("end",Ue),te.removeListener("data",Ze),Me=!0,$.awaitDrain&&(!I._writableState||I._writableState.needDrain)&&xe()}te.on("data",Ze);function Ze(et){c("ondata");var $e=I.write(et);c("dest.write",$e),$e===!1&&(($.pipesCount===1&&$.pipes===I||$.pipesCount>1&&Q($.pipes,I)!==-1)&&!Me&&(c("false write response, pause",$.awaitDrain),$.awaitDrain++),te.pause())}function He(et){c("onerror",et),Ue(),I.removeListener("error",He),g(I,"error")===0&&I.emit("error",et)}U(I,"error",He);function Ve(){I.removeListener("finish",We),Ue()}I.once("close",Ve);function We(){c("onfinish"),I.removeListener("close",Ve),Ue()}I.once("finish",We);function Ue(){c("unpipe"),te.unpipe(I)}return I.emit("pipe",te),$.flowing||(c("pipe resume"),te.resume()),I};function ce(I){return function(){var te=I._readableState;c("pipeOnDrain",te.awaitDrain),te.awaitDrain&&te.awaitDrain--,te.awaitDrain===0&&g(I,"data")&&(te.flowing=!0,fe(I))}}D.prototype.unpipe=function(I){var L=this._readableState,te={hasUnpiped:!1};if(L.pipesCount===0)return this;if(L.pipesCount===1)return I&&I!==L.pipes?this:(I||(I=L.pipes),L.pipes=null,L.pipesCount=0,L.flowing=!1,I&&I.emit("unpipe",this,te),this);if(!I){var $=L.pipes,N=L.pipesCount;L.pipes=null,L.pipesCount=0,L.flowing=!1;for(var C=0;C<N;C++)$[C].emit("unpipe",this,{hasUnpiped:!1});return this}var ie=Q(L.pipes,I);return ie===-1?this:(L.pipes.splice(ie,1),L.pipesCount-=1,L.pipesCount===1&&(L.pipes=L.pipes[0]),I.emit("unpipe",this,te),this)},D.prototype.on=function(I,L){var te=u.prototype.on.call(this,I,L),$=this._readableState;return I==="data"?($.readableListening=this.listenerCount("readable")>0,$.flowing!==!1&&this.resume()):I==="readable"&&!$.endEmitted&&!$.readableListening&&($.readableListening=$.needReadable=!0,$.flowing=!1,$.emittedReadable=!1,c("on readable",$.length,$.reading),$.length?J(this):$.reading||k.nextTick(_e,this)),te},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(I,L){var te=u.prototype.removeListener.call(this,I,L);return I==="readable"&&k.nextTick(ve,this),te},D.prototype.removeAllListeners=function(I){var L=u.prototype.removeAllListeners.apply(this,arguments);return(I==="readable"||I===void 0)&&k.nextTick(ve,this),L};function ve(I){var L=I._readableState;L.readableListening=I.listenerCount("readable")>0,L.resumeScheduled&&!L.paused?L.flowing=!0:I.listenerCount("data")>0&&I.resume()}function _e(I){c("readable nexttick read 0"),I.read(0)}D.prototype.resume=function(){var I=this._readableState;return I.flowing||(c("resume"),I.flowing=!I.readableListening,Re(this,I)),I.paused=!1,this};function Re(I,L){L.resumeScheduled||(L.resumeScheduled=!0,k.nextTick(he,I,L))}function he(I,L){c("resume",L.reading),L.reading||I.read(0),L.resumeScheduled=!1,I.emit("resume"),fe(I),L.flowing&&!L.reading&&I.read(0)}D.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function fe(I){var L=I._readableState;for(c("flow",L.flowing);L.flowing&&I.read()!==null;);}D.prototype.wrap=function(I){var L=this,te=this._readableState,$=!1;I.on("end",function(){if(c("wrapped end"),te.decoder&&!te.ended){var ie=te.decoder.end();ie&&ie.length&&L.push(ie)}L.push(null)}),I.on("data",function(ie){if(c("wrapped data"),te.decoder&&(ie=te.decoder.write(ie)),!(te.objectMode&&ie==null)&&!(!te.objectMode&&(!ie||!ie.length))){var de=L.push(ie);de||($=!0,I.pause())}});for(var N in I)this[N]===void 0&&typeof I[N]=="function"&&(this[N]=function(de){return function(){return I[de].apply(I,arguments)}}(N));for(var C=0;C<T.length;C++)I.on(T[C],this.emit.bind(this,T[C]));return this._read=function(ie){c("wrapped _read",ie),$&&($=!1,I.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return M("Readable[Symbol.asyncIterator]"),j===void 0&&(j=A("./internal/streams/async_iterator")),j(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(L){this._readableState&&(this._readableState.flowing=L)}}),D._fromList=ne,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ne(I,L){if(L.length===0)return null;var te;return L.objectMode?te=L.buffer.shift():!I||I>=L.length?(L.decoder?te=L.buffer.join(""):L.buffer.length===1?te=L.buffer.first():te=L.buffer.concat(L.length),L.buffer.clear()):te=L.buffer.consume(I,L.decoder),te}function se(I){var L=I._readableState;c("endReadable",L.endEmitted),L.endEmitted||(L.ended=!0,k.nextTick(oe,L,I))}function oe(I,L){c("endReadableNT",I.endEmitted,I.length),!I.endEmitted&&I.length===0&&(I.endEmitted=!0,L.readable=!1,L.emit("end"))}function Q(I,L){for(var te=0,$=I.length;te<$;te++)if(I[te]===L)return te;return-1}}).call(this,A("_process"),typeof wt<"u"?wt:typeof self<"u"?self:typeof ge<"u"?ge:{})},{"../errors":160,"../experimentalWarning":161,"./_stream_duplex":162,"./internal/streams/async_iterator":167,"./internal/streams/buffer_list":168,"./internal/streams/destroy":169,"./internal/streams/state":172,"./internal/streams/stream":173,_process:133,buffer:48,events:52,inherits:75,"string_decoder/":175,util:33}],165:[function(A,W,S){W.exports=n;var k=A("../errors").codes,y=k.ERR_METHOD_NOT_IMPLEMENTED,d=k.ERR_MULTIPLE_CALLBACK,g=k.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=k.ERR_TRANSFORM_WITH_LENGTH_0,s=A("./_stream_duplex");A("inherits")(n,s);function a(c,o){var l=this._transformState;l.transforming=!1;var i=l.writecb;if(i===null)return this.emit("error",new d);l.writechunk=null,l.writecb=null,o!=null&&this.push(o),i(c);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function n(c){if(!(this instanceof n))return new n(c);s.call(this,c),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",r)}function r(){var c=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(o,l){f(c,o,l)}):f(this,null,null)}n.prototype.push=function(c,o){return this._transformState.needTransform=!1,s.prototype.push.call(this,c,o)},n.prototype._transform=function(c,o,l){l(new y("_transform()"))},n.prototype._write=function(c,o,l){var i=this._transformState;if(i.writecb=l,i.writechunk=c,i.writeencoding=o,!i.transforming){var p=this._readableState;(i.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},n.prototype._read=function(c){var o=this._transformState;o.writechunk!==null&&!o.transforming?(o.transforming=!0,this._transform(o.writechunk,o.writeencoding,o.afterTransform)):o.needTransform=!0},n.prototype._destroy=function(c,o){s.prototype._destroy.call(this,c,function(l){o(l)})};function f(c,o,l){if(o)return c.emit("error",o);if(l!=null&&c.push(l),c._writableState.length)throw new u;if(c._transformState.transforming)throw new g;return c.push(null)}},{"../errors":160,"./_stream_duplex":162,inherits:75}],166:[function(A,W,S){(function(k,y){W.exports=U;function d(he){var fe=this;this.next=null,this.entry=null,this.finish=function(){Re(fe,he)}}var g;U.WritableState=j;var u={deprecate:A("util-deprecate")},s=A("./internal/streams/stream"),a=A("buffer").Buffer,n=y.Uint8Array||function(){};function r(he){return a.from(he)}function f(he){return a.isBuffer(he)||he instanceof n}var c=A("./internal/streams/destroy"),o=A("./internal/streams/state"),l=o.getHighWaterMark,i=A("../errors").codes,p=i.ERR_INVALID_ARG_TYPE,m=i.ERR_METHOD_NOT_IMPLEMENTED,v=i.ERR_MULTIPLE_CALLBACK,_=i.ERR_STREAM_CANNOT_PIPE,b=i.ERR_STREAM_DESTROYED,E=i.ERR_STREAM_NULL_VALUES,x=i.ERR_STREAM_WRITE_AFTER_END,M=i.ERR_UNKNOWN_ENCODING;A("inherits")(U,s);function O(){}function j(he,fe,ne){g=g||A("./_stream_duplex"),he=he||{},typeof ne!="boolean"&&(ne=fe instanceof g),this.objectMode=!!he.objectMode,ne&&(this.objectMode=this.objectMode||!!he.writableObjectMode),this.highWaterMark=l(this,he,"writableHighWaterMark",ne),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var se=he.decodeStrings===!1;this.decodeStrings=!se,this.defaultEncoding=he.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(oe){ee(fe,oe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=he.emitClose!==!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this)}j.prototype.getBuffer=function(){for(var fe=this.bufferedRequest,ne=[];fe;)ne.push(fe),fe=fe.next;return ne},function(){try{Object.defineProperty(j.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var T;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(T=Function.prototype[Symbol.hasInstance],Object.defineProperty(U,Symbol.hasInstance,{value:function(fe){return T.call(this,fe)?!0:this!==U?!1:fe&&fe._writableState instanceof j}})):T=function(fe){return fe instanceof this};function U(he){g=g||A("./_stream_duplex");var fe=this instanceof g;if(!fe&&!T.call(U,this))return new U(he);this._writableState=new j(he,this,fe),this.writable=!0,he&&(typeof he.write=="function"&&(this._write=he.write),typeof he.writev=="function"&&(this._writev=he.writev),typeof he.destroy=="function"&&(this._destroy=he.destroy),typeof he.final=="function"&&(this._final=he.final)),s.call(this)}U.prototype.pipe=function(){this.emit("error",new _)};function H(he,fe){var ne=new x;he.emit("error",ne),k.nextTick(fe,ne)}function D(he,fe,ne,se){var oe;return ne===null?oe=new E:typeof ne!="string"&&!fe.objectMode&&(oe=new p("chunk",["string","Buffer"],ne)),oe?(he.emit("error",oe),k.nextTick(se,oe),!1):!0}U.prototype.write=function(he,fe,ne){var se=this._writableState,oe=!1,Q=!se.objectMode&&f(he);return Q&&!a.isBuffer(he)&&(he=r(he)),typeof fe=="function"&&(ne=fe,fe=null),Q?fe="buffer":fe||(fe=se.defaultEncoding),typeof ne!="function"&&(ne=O),se.ending?H(this,ne):(Q||D(this,se,he,ne))&&(se.pendingcb++,oe=B(this,se,Q,he,fe,ne)),oe},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){var he=this._writableState;he.corked&&(he.corked--,!he.writing&&!he.corked&&!he.bufferProcessing&&he.bufferedRequest&&K(this,he))},U.prototype.setDefaultEncoding=function(fe){if(typeof fe=="string"&&(fe=fe.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((fe+"").toLowerCase())>-1))throw new M(fe);return this._writableState.defaultEncoding=fe,this},Object.defineProperty(U.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function P(he,fe,ne){return!he.objectMode&&he.decodeStrings!==!1&&typeof fe=="string"&&(fe=a.from(fe,ne)),fe}Object.defineProperty(U.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function B(he,fe,ne,se,oe,Q){if(!ne){var I=P(fe,se,oe);se!==I&&(ne=!0,oe="buffer",se=I)}var L=fe.objectMode?1:se.length;fe.length+=L;var te=fe.length<fe.highWaterMark;if(te||(fe.needDrain=!0),fe.writing||fe.corked){var $=fe.lastBufferedRequest;fe.lastBufferedRequest={chunk:se,encoding:oe,isBuf:ne,callback:Q,next:null},$?$.next=fe.lastBufferedRequest:fe.bufferedRequest=fe.lastBufferedRequest,fe.bufferedRequestCount+=1}else X(he,fe,!1,L,se,oe,Q);return te}function X(he,fe,ne,se,oe,Q,I){fe.writelen=se,fe.writecb=I,fe.writing=!0,fe.sync=!0,fe.destroyed?fe.onwrite(new b("write")):ne?he._writev(oe,fe.onwrite):he._write(oe,Q,fe.onwrite),fe.sync=!1}function V(he,fe,ne,se,oe){--fe.pendingcb,ne?(k.nextTick(oe,se),k.nextTick(ve,he,fe),he._writableState.errorEmitted=!0,he.emit("error",se)):(oe(se),he._writableState.errorEmitted=!0,he.emit("error",se),ve(he,fe))}function q(he){he.writing=!1,he.writecb=null,he.length-=he.writelen,he.writelen=0}function ee(he,fe){var ne=he._writableState,se=ne.sync,oe=ne.writecb;if(typeof oe!="function")throw new v;if(q(ne),fe)V(he,ne,se,fe,oe);else{var Q=re(ne)||he.destroyed;!Q&&!ne.corked&&!ne.bufferProcessing&&ne.bufferedRequest&&K(he,ne),se?k.nextTick(Z,he,ne,Q,oe):Z(he,ne,Q,oe)}}function Z(he,fe,ne,se){ne||J(he,fe),fe.pendingcb--,se(),ve(he,fe)}function J(he,fe){fe.length===0&&fe.needDrain&&(fe.needDrain=!1,he.emit("drain"))}function K(he,fe){fe.bufferProcessing=!0;var ne=fe.bufferedRequest;if(he._writev&&ne&&ne.next){var se=fe.bufferedRequestCount,oe=new Array(se),Q=fe.corkedRequestsFree;Q.entry=ne;for(var I=0,L=!0;ne;)oe[I]=ne,ne.isBuf||(L=!1),ne=ne.next,I+=1;oe.allBuffers=L,X(he,fe,!0,fe.length,oe,"",Q.finish),fe.pendingcb++,fe.lastBufferedRequest=null,Q.next?(fe.corkedRequestsFree=Q.next,Q.next=null):fe.corkedRequestsFree=new d(fe),fe.bufferedRequestCount=0}else{for(;ne;){var te=ne.chunk,$=ne.encoding,N=ne.callback,C=fe.objectMode?1:te.length;if(X(he,fe,!1,C,te,$,N),ne=ne.next,fe.bufferedRequestCount--,fe.writing)break}ne===null&&(fe.lastBufferedRequest=null)}fe.bufferedRequest=ne,fe.bufferProcessing=!1}U.prototype._write=function(he,fe,ne){ne(new m("_write()"))},U.prototype._writev=null,U.prototype.end=function(he,fe,ne){var se=this._writableState;return typeof he=="function"?(ne=he,he=null,fe=null):typeof fe=="function"&&(ne=fe,fe=null),he!=null&&this.write(he,fe),se.corked&&(se.corked=1,this.uncork()),se.ending||_e(this,se,ne),this},Object.defineProperty(U.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function re(he){return he.ending&&he.length===0&&he.bufferedRequest===null&&!he.finished&&!he.writing}function ue(he,fe){he._final(function(ne){fe.pendingcb--,ne&&he.emit("error",ne),fe.prefinished=!0,he.emit("prefinish"),ve(he,fe)})}function ce(he,fe){!fe.prefinished&&!fe.finalCalled&&(typeof he._final=="function"&&!fe.destroyed?(fe.pendingcb++,fe.finalCalled=!0,k.nextTick(ue,he,fe)):(fe.prefinished=!0,he.emit("prefinish")))}function ve(he,fe){var ne=re(fe);return ne&&(ce(he,fe),fe.pendingcb===0&&(fe.finished=!0,he.emit("finish"))),ne}function _e(he,fe,ne){fe.ending=!0,ve(he,fe),ne&&(fe.finished?k.nextTick(ne):he.once("finish",ne)),fe.ended=!0,he.writable=!1}function Re(he,fe,ne){var se=he.entry;for(he.entry=null;se;){var oe=se.callback;fe.pendingcb--,oe(ne),se=se.next}fe.corkedRequestsFree.next=he}Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(fe){this._writableState&&(this._writableState.destroyed=fe)}}),U.prototype.destroy=c.destroy,U.prototype._undestroy=c.undestroy,U.prototype._destroy=function(he,fe){fe(he)}}).call(this,A("_process"),typeof wt<"u"?wt:typeof self<"u"?self:typeof ge<"u"?ge:{})},{"../errors":160,"./_stream_duplex":162,"./internal/streams/destroy":169,"./internal/streams/state":172,"./internal/streams/stream":173,_process:133,buffer:48,inherits:75,"util-deprecate":183}],167:[function(A,W,S){(function(k){var y;function d(b,E,x){return E in b?Object.defineProperty(b,E,{value:x,enumerable:!0,configurable:!0,writable:!0}):b[E]=x,b}var g=A("./end-of-stream"),u=Symbol("lastResolve"),s=Symbol("lastReject"),a=Symbol("error"),n=Symbol("ended"),r=Symbol("lastPromise"),f=Symbol("handlePromise"),c=Symbol("stream");function o(b,E){return{value:b,done:E}}function l(b){var E=b[u];if(E!==null){var x=b[c].read();x!==null&&(b[r]=null,b[u]=null,b[s]=null,E(o(x,!1)))}}function i(b){k.nextTick(l,b)}function p(b,E){return function(x,M){b.then(function(){if(E[n]){x(o(void 0,!0));return}E[f](x,M)},M)}}var m=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((y={get stream(){return this[c]},next:function(){var E=this,x=this[a];if(x!==null)return Promise.reject(x);if(this[n])return Promise.resolve(o(void 0,!0));if(this[c].destroyed)return new Promise(function(T,U){k.nextTick(function(){E[a]?U(E[a]):T(o(void 0,!0))})});var M=this[r],O;if(M)O=new Promise(p(M,this));else{var j=this[c].read();if(j!==null)return Promise.resolve(o(j,!1));O=new Promise(this[f])}return this[r]=O,O}},d(y,Symbol.asyncIterator,function(){return this}),d(y,"return",function(){var E=this;return new Promise(function(x,M){E[c].destroy(null,function(O){if(O){M(O);return}x(o(void 0,!0))})})}),y),m),_=function(E){var x,M=Object.create(v,(x={},d(x,c,{value:E,writable:!0}),d(x,u,{value:null,writable:!0}),d(x,s,{value:null,writable:!0}),d(x,a,{value:null,writable:!0}),d(x,n,{value:E._readableState.endEmitted,writable:!0}),d(x,f,{value:function(j,T){var U=M[c].read();U?(M[r]=null,M[u]=null,M[s]=null,j(o(U,!1))):(M[u]=j,M[s]=T)},writable:!0}),x));return M[r]=null,g(E,function(O){if(O&&O.code!=="ERR_STREAM_PREMATURE_CLOSE"){var j=M[s];j!==null&&(M[r]=null,M[u]=null,M[s]=null,j(O)),M[a]=O;return}var T=M[u];T!==null&&(M[r]=null,M[u]=null,M[s]=null,T(o(void 0,!0))),M[n]=!0}),E.on("readable",i.bind(null,M)),M};W.exports=_}).call(this,A("_process"))},{"./end-of-stream":170,_process:133}],168:[function(A,W,S){function k(r){for(var f=1;f<arguments.length;f++){var c=arguments[f]!=null?arguments[f]:{},o=Object.keys(c);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(c).filter(function(l){return Object.getOwnPropertyDescriptor(c,l).enumerable}))),o.forEach(function(l){y(r,l,c[l])})}return r}function y(r,f,c){return f in r?Object.defineProperty(r,f,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[f]=c,r}var d=A("buffer"),g=d.Buffer,u=A("util"),s=u.inspect,a=s&&s.custom||"inspect";function n(r,f,c){g.prototype.copy.call(r,f,c)}W.exports=function(){function r(){this.head=null,this.tail=null,this.length=0}var f=r.prototype;return f.push=function(o){var l={data:o,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length},f.unshift=function(o){var l={data:o,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length},f.shift=function(){if(this.length!==0){var o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}},f.clear=function(){this.head=this.tail=null,this.length=0},f.join=function(o){if(this.length===0)return"";for(var l=this.head,i=""+l.data;l=l.next;)i+=o+l.data;return i},f.concat=function(o){if(this.length===0)return g.alloc(0);for(var l=g.allocUnsafe(o>>>0),i=this.head,p=0;i;)n(i.data,l,p),p+=i.data.length,i=i.next;return l},f.consume=function(o,l){var i;return o<this.head.data.length?(i=this.head.data.slice(0,o),this.head.data=this.head.data.slice(o)):o===this.head.data.length?i=this.shift():i=l?this._getString(o):this._getBuffer(o),i},f.first=function(){return this.head.data},f._getString=function(o){var l=this.head,i=1,p=l.data;for(o-=p.length;l=l.next;){var m=l.data,v=o>m.length?m.length:o;if(v===m.length?p+=m:p+=m.slice(0,o),o-=v,o===0){v===m.length?(++i,l.next?this.head=l.next:this.head=this.tail=null):(this.head=l,l.data=m.slice(v));break}++i}return this.length-=i,p},f._getBuffer=function(o){var l=g.allocUnsafe(o),i=this.head,p=1;for(i.data.copy(l),o-=i.data.length;i=i.next;){var m=i.data,v=o>m.length?m.length:o;if(m.copy(l,l.length-o,0,v),o-=v,o===0){v===m.length?(++p,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=m.slice(v));break}++p}return this.length-=p,l},f[a]=function(c,o){return s(this,k({},o,{depth:0,customInspect:!1}))},r}()},{buffer:48,util:33}],169:[function(A,W,S){(function(k){function y(a,n){var r=this,f=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return f||c?(n?n(a):a&&(!this._writableState||!this._writableState.errorEmitted)&&k.nextTick(s,this,a),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(o){!n&&o?(k.nextTick(d,r,o),r._writableState&&(r._writableState.errorEmitted=!0)):n?(k.nextTick(g,r),n(o)):k.nextTick(g,r)}),this)}function d(a,n){s(a,n),g(a)}function g(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function u(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(a,n){a.emit("error",n)}W.exports={destroy:y,undestroy:u}}).call(this,A("_process"))},{_process:133}],170:[function(A,W,S){var k=A("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function y(s){var a=!1;return function(){if(!a){a=!0;for(var n=arguments.length,r=new Array(n),f=0;f<n;f++)r[f]=arguments[f];s.apply(this,r)}}}function d(){}function g(s){return s.setHeader&&typeof s.abort=="function"}function u(s,a,n){if(typeof a=="function")return u(s,null,a);a||(a={}),n=y(n||d);var r=a.readable||a.readable!==!1&&s.readable,f=a.writable||a.writable!==!1&&s.writable,c=function(){s.writable||l()},o=s._writableState&&s._writableState.finished,l=function(){f=!1,o=!0,r||n.call(s)},i=s._readableState&&s._readableState.endEmitted,p=function(){r=!1,i=!0,f||n.call(s)},m=function(E){n.call(s,E)},v=function(){var E;if(r&&!i)return(!s._readableState||!s._readableState.ended)&&(E=new k),n.call(s,E);if(f&&!o)return(!s._writableState||!s._writableState.ended)&&(E=new k),n.call(s,E)},_=function(){s.req.on("finish",l)};return g(s)?(s.on("complete",l),s.on("abort",v),s.req?_():s.on("request",_)):f&&!s._writableState&&(s.on("end",c),s.on("close",c)),s.on("end",p),s.on("finish",l),a.error!==!1&&s.on("error",m),s.on("close",v),function(){s.removeListener("complete",l),s.removeListener("abort",v),s.removeListener("request",_),s.req&&s.req.removeListener("finish",l),s.removeListener("end",c),s.removeListener("close",c),s.removeListener("finish",l),s.removeListener("end",p),s.removeListener("error",m),s.removeListener("close",v)}}W.exports=u},{"../../../errors":160}],171:[function(A,W,S){var k;function y(l){var i=!1;return function(){i||(i=!0,l.apply(void 0,arguments))}}var d=A("../../../errors").codes,g=d.ERR_MISSING_ARGS,u=d.ERR_STREAM_DESTROYED;function s(l){if(l)throw l}function a(l){return l.setHeader&&typeof l.abort=="function"}function n(l,i,p,m){m=y(m);var v=!1;l.on("close",function(){v=!0}),k===void 0&&(k=A("./end-of-stream")),k(l,{readable:i,writable:p},function(b){if(b)return m(b);v=!0,m()});var _=!1;return function(b){if(!v&&!_){if(_=!0,a(l))return l.abort();if(typeof l.destroy=="function")return l.destroy();m(b||new u("pipe"))}}}function r(l){l()}function f(l,i){return l.pipe(i)}function c(l){return!l.length||typeof l[l.length-1]!="function"?s:l.pop()}function o(){for(var l=arguments.length,i=new Array(l),p=0;p<l;p++)i[p]=arguments[p];var m=c(i);if(Array.isArray(i[0])&&(i=i[0]),i.length<2)throw new g("streams");var v,_=i.map(function(b,E){var x=E<i.length-1,M=E>0;return n(b,x,M,function(O){v||(v=O),O&&_.forEach(r),!x&&(_.forEach(r),m(v))})});return i.reduce(f)}W.exports=o},{"../../../errors":160,"./end-of-stream":170}],172:[function(A,W,S){var k=A("../../../errors").codes.ERR_INVALID_OPT_VALUE;function y(g,u,s){return g.highWaterMark!=null?g.highWaterMark:u?g[s]:null}function d(g,u,s,a){var n=y(u,a,s);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var r=a?s:"highWaterMark";throw new k(r,n)}return Math.floor(n)}return g.objectMode?16:16*1024}W.exports={getHighWaterMark:d}},{"../../../errors":160}],173:[function(A,W,S){arguments[4][146][0].apply(S,arguments)},{dup:146,events:52}],174:[function(A,W,S){S=W.exports=A("./lib/_stream_readable.js"),S.Stream=S,S.Readable=S,S.Writable=A("./lib/_stream_writable.js"),S.Duplex=A("./lib/_stream_duplex.js"),S.Transform=A("./lib/_stream_transform.js"),S.PassThrough=A("./lib/_stream_passthrough.js"),S.finished=A("./lib/internal/streams/end-of-stream.js"),S.pipeline=A("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":162,"./lib/_stream_passthrough.js":163,"./lib/_stream_readable.js":164,"./lib/_stream_transform.js":165,"./lib/_stream_writable.js":166,"./lib/internal/streams/end-of-stream.js":170,"./lib/internal/streams/pipeline.js":171}],175:[function(A,W,S){arguments[4][148][0].apply(S,arguments)},{dup:148,"safe-buffer":154}],176:[function(A,W,S){(function(k,y){var d=A("process/browser.js").nextTick,g=Function.prototype.apply,u=Array.prototype.slice,s={},a=0;S.setTimeout=function(){return new n(g.call(setTimeout,ge,arguments),clearTimeout)},S.setInterval=function(){return new n(g.call(setInterval,ge,arguments),clearInterval)},S.clearTimeout=S.clearInterval=function(r){r.close()};function n(r,f){this._id=r,this._clearFn=f}n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(ge,this._id)},S.enroll=function(r,f){clearTimeout(r._idleTimeoutId),r._idleTimeout=f},S.unenroll=function(r){clearTimeout(r._idleTimeoutId),r._idleTimeout=-1},S._unrefActive=S.active=function(r){clearTimeout(r._idleTimeoutId);var f=r._idleTimeout;f>=0&&(r._idleTimeoutId=setTimeout(function(){r._onTimeout&&r._onTimeout()},f))},S.setImmediate=typeof k=="function"?k:function(r){var f=a++,c=arguments.length<2?!1:u.call(arguments,1);return s[f]=!0,d(function(){s[f]&&(c?r.apply(null,c):r.call(null),S.clearImmediate(f))}),f},S.clearImmediate=typeof y=="function"?y:function(r){delete s[r]}}).call(this,A("timers").setImmediate,A("timers").clearImmediate)},{"process/browser.js":133,timers:176}],177:[function(A,W,S){(function(k){Object.defineProperty(S,"__esModule",{value:!0});var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P};S.clone=a,S.addLast=f,S.addFirst=c,S.removeLast=o,S.removeFirst=l,S.insert=i,S.removeAt=p,S.replaceAt=m,S.getIn=v,S.set=_,S.setIn=E,S.update=x,S.updateIn=M,S.merge=O,S.mergeDeep=j,S.mergeIn=T,S.omit=U,S.addDefaults=H;/*!
 * Timm
 *
 * Immutability helpers with fast reads and acceptable writes.
 *
 * @copyright Guillermo Grau Panea 2016
 * @license MIT
 */var d="INVALID_ARGS";function g(P){throw new Error(P)}function u(P){var B=Object.keys(P);return Object.getOwnPropertySymbols?B.concat(Object.getOwnPropertySymbols(P)):B}var s={}.hasOwnProperty;function a(P){if(Array.isArray(P))return P.slice();for(var B=u(P),X={},V=0;V<B.length;V++){var q=B[V];X[q]=P[q]}return X}function n(P,B,X){var V=X;V==null&&g(k.env.NODE_ENV!=="production"?"At least one object should be provided to merge()":d);for(var q=!1,ee=arguments.length,Z=Array(ee>3?ee-3:0),J=3;J<ee;J++)Z[J-3]=arguments[J];for(var K=0;K<Z.length;K++){var re=Z[K];if(re!=null){var ue=u(re);if(ue.length)for(var ce=0;ce<=ue.length;ce++){var ve=ue[ce];if(!(P&&V[ve]!==void 0)){var _e=re[ve];B&&r(V[ve])&&r(_e)&&(_e=n(P,B,V[ve],_e)),!(_e===void 0||_e===V[ve])&&(q||(q=!0,V=a(V)),V[ve]=_e)}}}}return V}function r(P){var B=typeof P>"u"?"undefined":y(P);return P!=null&&B==="object"}function f(P,B){return Array.isArray(B)?P.concat(B):P.concat([B])}function c(P,B){return Array.isArray(B)?B.concat(P):[B].concat(P)}function o(P){return P.length?P.slice(0,P.length-1):P}function l(P){return P.length?P.slice(1):P}function i(P,B,X){return P.slice(0,B).concat(Array.isArray(X)?X:[X]).concat(P.slice(B))}function p(P,B){return B>=P.length||B<0?P:P.slice(0,B).concat(P.slice(B+1))}function m(P,B,X){if(P[B]===X)return P;for(var V=P.length,q=Array(V),ee=0;ee<V;ee++)q[ee]=P[ee];return q[B]=X,q}function v(P,B){if(!Array.isArray(B)&&g(k.env.NODE_ENV!=="production"?"A path array should be provided when calling getIn()":d),P!=null){for(var X=P,V=0;V<B.length;V++){var q=B[V];if(X=X!=null?X[q]:void 0,X===void 0)return X}return X}}function _(P,B,X){var V=typeof B=="number"?[]:{},q=P??V;if(q[B]===X)return q;var ee=a(q);return ee[B]=X,ee}function b(P,B,X,V){var q=void 0,ee=B[V];if(V===B.length-1)q=X;else{var Z=r(P)&&r(P[ee])?P[ee]:typeof B[V+1]=="number"?[]:{};q=b(Z,B,X,V+1)}return _(P,ee,q)}function E(P,B,X){return B.length?b(P,B,X,0):X}function x(P,B,X){var V=P==null?void 0:P[B],q=X(V);return _(P,B,q)}function M(P,B,X){var V=v(P,B),q=X(V);return E(P,B,q)}function O(P,B,X,V,q,ee){for(var Z=arguments.length,J=Array(Z>6?Z-6:0),K=6;K<Z;K++)J[K-6]=arguments[K];return J.length?n.call.apply(n,[null,!1,!1,P,B,X,V,q,ee].concat(J)):n(!1,!1,P,B,X,V,q,ee)}function j(P,B,X,V,q,ee){for(var Z=arguments.length,J=Array(Z>6?Z-6:0),K=6;K<Z;K++)J[K-6]=arguments[K];return J.length?n.call.apply(n,[null,!1,!0,P,B,X,V,q,ee].concat(J)):n(!1,!0,P,B,X,V,q,ee)}function T(P,B,X,V,q,ee,Z){var J=v(P,B);J==null&&(J={});for(var K=void 0,re=arguments.length,ue=Array(re>7?re-7:0),ce=7;ce<re;ce++)ue[ce-7]=arguments[ce];return ue.length?K=n.call.apply(n,[null,!1,!1,J,X,V,q,ee,Z].concat(ue)):K=n(!1,!1,J,X,V,q,ee,Z),E(P,B,K)}function U(P,B){for(var X=Array.isArray(B)?B:[B],V=!1,q=0;q<X.length;q++)if(s.call(P,X[q])){V=!0;break}if(!V)return P;for(var ee={},Z=u(P),J=0;J<Z.length;J++){var K=Z[J];X.indexOf(K)>=0||(ee[K]=P[K])}return ee}function H(P,B,X,V,q,ee){for(var Z=arguments.length,J=Array(Z>6?Z-6:0),K=6;K<Z;K++)J[K-6]=arguments[K];return J.length?n.call.apply(n,[null,!0,!1,P,B,X,V,q,ee].concat(J)):n(!0,!1,P,B,X,V,q,ee)}var D={clone:a,addLast:f,addFirst:c,removeLast:o,removeFirst:l,insert:i,removeAt:p,replaceAt:m,getIn:v,set:_,setIn:E,update:x,updateIn:M,merge:O,mergeDeep:j,mergeIn:T,omit:U,addDefaults:H};S.default=D}).call(this,A("_process"))},{_process:133}],178:[function(A,W,S){(function(k){var y=/^\s+/,d=/\s+$/,g=0,u=k.round,s=k.min,a=k.max,n=k.random;function r(Q,I){if(Q=Q||"",I=I||{},Q instanceof r)return Q;if(!(this instanceof r))return new r(Q,I);var L=f(Q);this._originalInput=Q,this._r=L.r,this._g=L.g,this._b=L.b,this._a=L.a,this._roundA=u(100*this._a)/100,this._format=I.format||L.format,this._gradientType=I.gradientType,this._r<1&&(this._r=u(this._r)),this._g<1&&(this._g=u(this._g)),this._b<1&&(this._b=u(this._b)),this._ok=L.ok,this._tc_id=g++}r.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Q=this.toRgb();return(Q.r*299+Q.g*587+Q.b*114)/1e3},getLuminance:function(){var Q=this.toRgb(),I,L,te,$,N,C;return I=Q.r/255,L=Q.g/255,te=Q.b/255,I<=.03928?$=I/12.92:$=k.pow((I+.055)/1.055,2.4),L<=.03928?N=L/12.92:N=k.pow((L+.055)/1.055,2.4),te<=.03928?C=te/12.92:C=k.pow((te+.055)/1.055,2.4),.2126*$+.7152*N+.0722*C},setAlpha:function(Q){return this._a=Z(Q),this._roundA=u(100*this._a)/100,this},toHsv:function(){var Q=i(this._r,this._g,this._b);return{h:Q.h*360,s:Q.s,v:Q.v,a:this._a}},toHsvString:function(){var Q=i(this._r,this._g,this._b),I=u(Q.h*360),L=u(Q.s*100),te=u(Q.v*100);return this._a==1?"hsv("+I+", "+L+"%, "+te+"%)":"hsva("+I+", "+L+"%, "+te+"%, "+this._roundA+")"},toHsl:function(){var Q=o(this._r,this._g,this._b);return{h:Q.h*360,s:Q.s,l:Q.l,a:this._a}},toHslString:function(){var Q=o(this._r,this._g,this._b),I=u(Q.h*360),L=u(Q.s*100),te=u(Q.l*100);return this._a==1?"hsl("+I+", "+L+"%, "+te+"%)":"hsla("+I+", "+L+"%, "+te+"%, "+this._roundA+")"},toHex:function(Q){return m(this._r,this._g,this._b,Q)},toHexString:function(Q){return"#"+this.toHex(Q)},toHex8:function(Q){return v(this._r,this._g,this._b,this._a,Q)},toHex8String:function(Q){return"#"+this.toHex8(Q)},toRgb:function(){return{r:u(this._r),g:u(this._g),b:u(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+u(this._r)+", "+u(this._g)+", "+u(this._b)+")":"rgba("+u(this._r)+", "+u(this._g)+", "+u(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:u(J(this._r,255)*100)+"%",g:u(J(this._g,255)*100)+"%",b:u(J(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+u(J(this._r,255)*100)+"%, "+u(J(this._g,255)*100)+"%, "+u(J(this._b,255)*100)+"%)":"rgba("+u(J(this._r,255)*100)+"%, "+u(J(this._g,255)*100)+"%, "+u(J(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:q[m(this._r,this._g,this._b,!0)]||!1},toFilter:function(Q){var I="#"+_(this._r,this._g,this._b,this._a),L=I,te=this._gradientType?"GradientType = 1, ":"";if(Q){var $=r(Q);L="#"+_($._r,$._g,$._b,$._a)}return"progid:DXImageTransform.Microsoft.gradient("+te+"startColorstr="+I+",endColorstr="+L+")"},toString:function(Q){var I=!!Q;Q=Q||this._format;var L=!1,te=this._a<1&&this._a>=0,$=!I&&te&&(Q==="hex"||Q==="hex6"||Q==="hex3"||Q==="hex4"||Q==="hex8"||Q==="name");return $?Q==="name"&&this._a===0?this.toName():this.toRgbString():(Q==="rgb"&&(L=this.toRgbString()),Q==="prgb"&&(L=this.toPercentageRgbString()),(Q==="hex"||Q==="hex6")&&(L=this.toHexString()),Q==="hex3"&&(L=this.toHexString(!0)),Q==="hex4"&&(L=this.toHex8String(!0)),Q==="hex8"&&(L=this.toHex8String()),Q==="name"&&(L=this.toName()),Q==="hsl"&&(L=this.toHslString()),Q==="hsv"&&(L=this.toHsvString()),L||this.toHexString())},clone:function(){return r(this.toString())},_applyModification:function(Q,I){var L=Q.apply(null,[this].concat([].slice.call(I)));return this._r=L._r,this._g=L._g,this._b=L._b,this.setAlpha(L._a),this},lighten:function(){return this._applyModification(M,arguments)},brighten:function(){return this._applyModification(O,arguments)},darken:function(){return this._applyModification(j,arguments)},desaturate:function(){return this._applyModification(b,arguments)},saturate:function(){return this._applyModification(E,arguments)},greyscale:function(){return this._applyModification(x,arguments)},spin:function(){return this._applyModification(T,arguments)},_applyCombination:function(Q,I){return Q.apply(null,[this].concat([].slice.call(I)))},analogous:function(){return this._applyCombination(B,arguments)},complement:function(){return this._applyCombination(U,arguments)},monochromatic:function(){return this._applyCombination(X,arguments)},splitcomplement:function(){return this._applyCombination(P,arguments)},triad:function(){return this._applyCombination(H,arguments)},tetrad:function(){return this._applyCombination(D,arguments)}},r.fromRatio=function(Q,I){if(typeof Q=="object"){var L={};for(var te in Q)Q.hasOwnProperty(te)&&(te==="a"?L[te]=Q[te]:L[te]=_e(Q[te]));Q=L}return r(Q,I)};function f(Q){var I={r:0,g:0,b:0},L=1,te=null,$=null,N=null,C=!1,ie=!1;return typeof Q=="string"&&(Q=se(Q)),typeof Q=="object"&&(ne(Q.r)&&ne(Q.g)&&ne(Q.b)?(I=c(Q.r,Q.g,Q.b),C=!0,ie=String(Q.r).substr(-1)==="%"?"prgb":"rgb"):ne(Q.h)&&ne(Q.s)&&ne(Q.v)?(te=_e(Q.s),$=_e(Q.v),I=p(Q.h,te,$),C=!0,ie="hsv"):ne(Q.h)&&ne(Q.s)&&ne(Q.l)&&(te=_e(Q.s),N=_e(Q.l),I=l(Q.h,te,N),C=!0,ie="hsl"),Q.hasOwnProperty("a")&&(L=Q.a)),L=Z(L),{ok:C,format:Q.format||ie,r:s(255,a(I.r,0)),g:s(255,a(I.g,0)),b:s(255,a(I.b,0)),a:L}}function c(Q,I,L){return{r:J(Q,255)*255,g:J(I,255)*255,b:J(L,255)*255}}function o(Q,I,L){Q=J(Q,255),I=J(I,255),L=J(L,255);var te=a(Q,I,L),$=s(Q,I,L),N,C,ie=(te+$)/2;if(te==$)N=C=0;else{var de=te-$;switch(C=ie>.5?de/(2-te-$):de/(te+$),te){case Q:N=(I-L)/de+(I<L?6:0);break;case I:N=(L-Q)/de+2;break;case L:N=(Q-I)/de+4;break}N/=6}return{h:N,s:C,l:ie}}function l(Q,I,L){var te,$,N;Q=J(Q,360),I=J(I,100),L=J(L,100);function C(xe,Me,je){return je<0&&(je+=1),je>1&&(je-=1),je<1/6?xe+(Me-xe)*6*je:je<1/2?Me:je<2/3?xe+(Me-xe)*(2/3-je)*6:xe}if(I===0)te=$=N=L;else{var ie=L<.5?L*(1+I):L+I-L*I,de=2*L-ie;te=C(de,ie,Q+1/3),$=C(de,ie,Q),N=C(de,ie,Q-1/3)}return{r:te*255,g:$*255,b:N*255}}function i(Q,I,L){Q=J(Q,255),I=J(I,255),L=J(L,255);var te=a(Q,I,L),$=s(Q,I,L),N,C,ie=te,de=te-$;if(C=te===0?0:de/te,te==$)N=0;else{switch(te){case Q:N=(I-L)/de+(I<L?6:0);break;case I:N=(L-Q)/de+2;break;case L:N=(Q-I)/de+4;break}N/=6}return{h:N,s:C,v:ie}}function p(Q,I,L){Q=J(Q,360)*6,I=J(I,100),L=J(L,100);var te=k.floor(Q),$=Q-te,N=L*(1-I),C=L*(1-$*I),ie=L*(1-(1-$)*I),de=te%6,xe=[L,C,N,N,ie,L][de],Me=[ie,L,L,C,N,N][de],je=[N,N,ie,L,L,C][de];return{r:xe*255,g:Me*255,b:je*255}}function m(Q,I,L,te){var $=[ve(u(Q).toString(16)),ve(u(I).toString(16)),ve(u(L).toString(16))];return te&&$[0].charAt(0)==$[0].charAt(1)&&$[1].charAt(0)==$[1].charAt(1)&&$[2].charAt(0)==$[2].charAt(1)?$[0].charAt(0)+$[1].charAt(0)+$[2].charAt(0):$.join("")}function v(Q,I,L,te,$){var N=[ve(u(Q).toString(16)),ve(u(I).toString(16)),ve(u(L).toString(16)),ve(Re(te))];return $&&N[0].charAt(0)==N[0].charAt(1)&&N[1].charAt(0)==N[1].charAt(1)&&N[2].charAt(0)==N[2].charAt(1)&&N[3].charAt(0)==N[3].charAt(1)?N[0].charAt(0)+N[1].charAt(0)+N[2].charAt(0)+N[3].charAt(0):N.join("")}function _(Q,I,L,te){var $=[ve(Re(te)),ve(u(Q).toString(16)),ve(u(I).toString(16)),ve(u(L).toString(16))];return $.join("")}r.equals=function(Q,I){return!Q||!I?!1:r(Q).toRgbString()==r(I).toRgbString()},r.random=function(){return r.fromRatio({r:n(),g:n(),b:n()})};function b(Q,I){I=I===0?0:I||10;var L=r(Q).toHsl();return L.s-=I/100,L.s=K(L.s),r(L)}function E(Q,I){I=I===0?0:I||10;var L=r(Q).toHsl();return L.s+=I/100,L.s=K(L.s),r(L)}function x(Q){return r(Q).desaturate(100)}function M(Q,I){I=I===0?0:I||10;var L=r(Q).toHsl();return L.l+=I/100,L.l=K(L.l),r(L)}function O(Q,I){I=I===0?0:I||10;var L=r(Q).toRgb();return L.r=a(0,s(255,L.r-u(255*-(I/100)))),L.g=a(0,s(255,L.g-u(255*-(I/100)))),L.b=a(0,s(255,L.b-u(255*-(I/100)))),r(L)}function j(Q,I){I=I===0?0:I||10;var L=r(Q).toHsl();return L.l-=I/100,L.l=K(L.l),r(L)}function T(Q,I){var L=r(Q).toHsl(),te=(L.h+I)%360;return L.h=te<0?360+te:te,r(L)}function U(Q){var I=r(Q).toHsl();return I.h=(I.h+180)%360,r(I)}function H(Q){var I=r(Q).toHsl(),L=I.h;return[r(Q),r({h:(L+120)%360,s:I.s,l:I.l}),r({h:(L+240)%360,s:I.s,l:I.l})]}function D(Q){var I=r(Q).toHsl(),L=I.h;return[r(Q),r({h:(L+90)%360,s:I.s,l:I.l}),r({h:(L+180)%360,s:I.s,l:I.l}),r({h:(L+270)%360,s:I.s,l:I.l})]}function P(Q){var I=r(Q).toHsl(),L=I.h;return[r(Q),r({h:(L+72)%360,s:I.s,l:I.l}),r({h:(L+216)%360,s:I.s,l:I.l})]}function B(Q,I,L){I=I||6,L=L||30;var te=r(Q).toHsl(),$=360/L,N=[r(Q)];for(te.h=(te.h-($*I>>1)+720)%360;--I;)te.h=(te.h+$)%360,N.push(r(te));return N}function X(Q,I){I=I||6;for(var L=r(Q).toHsv(),te=L.h,$=L.s,N=L.v,C=[],ie=1/I;I--;)C.push(r({h:te,s:$,v:N})),N=(N+ie)%1;return C}r.mix=function(Q,I,L){L=L===0?0:L||50;var te=r(Q).toRgb(),$=r(I).toRgb(),N=L/100,C={r:($.r-te.r)*N+te.r,g:($.g-te.g)*N+te.g,b:($.b-te.b)*N+te.b,a:($.a-te.a)*N+te.a};return r(C)},r.readability=function(Q,I){var L=r(Q),te=r(I);return(k.max(L.getLuminance(),te.getLuminance())+.05)/(k.min(L.getLuminance(),te.getLuminance())+.05)},r.isReadable=function(Q,I,L){var te=r.readability(Q,I),$,N;switch(N=!1,$=oe(L),$.level+$.size){case"AAsmall":case"AAAlarge":N=te>=4.5;break;case"AAlarge":N=te>=3;break;case"AAAsmall":N=te>=7;break}return N},r.mostReadable=function(Q,I,L){var te=null,$=0,N,C,ie,de;L=L||{},C=L.includeFallbackColors,ie=L.level,de=L.size;for(var xe=0;xe<I.length;xe++)N=r.readability(Q,I[xe]),N>$&&($=N,te=r(I[xe]));return r.isReadable(Q,te,{level:ie,size:de})||!C?te:(L.includeFallbackColors=!1,r.mostReadable(Q,["#fff","#000"],L))};var V=r.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},q=r.hexNames=ee(V);function ee(Q){var I={};for(var L in Q)Q.hasOwnProperty(L)&&(I[Q[L]]=L);return I}function Z(Q){return Q=parseFloat(Q),(isNaN(Q)||Q<0||Q>1)&&(Q=1),Q}function J(Q,I){ue(Q)&&(Q="100%");var L=ce(Q);return Q=s(I,a(0,parseFloat(Q))),L&&(Q=parseInt(Q*I,10)/100),k.abs(Q-I)<1e-6?1:Q%I/parseFloat(I)}function K(Q){return s(1,a(0,Q))}function re(Q){return parseInt(Q,16)}function ue(Q){return typeof Q=="string"&&Q.indexOf(".")!=-1&&parseFloat(Q)===1}function ce(Q){return typeof Q=="string"&&Q.indexOf("%")!=-1}function ve(Q){return Q.length==1?"0"+Q:""+Q}function _e(Q){return Q<=1&&(Q=Q*100+"%"),Q}function Re(Q){return k.round(parseFloat(Q)*255).toString(16)}function he(Q){return re(Q)/255}var fe=function(){var Q="[-\\+]?\\d+%?",I="[-\\+]?\\d*\\.\\d+%?",L="(?:"+I+")|(?:"+Q+")",te="[\\s|\\(]+("+L+")[,|\\s]+("+L+")[,|\\s]+("+L+")\\s*\\)?",$="[\\s|\\(]+("+L+")[,|\\s]+("+L+")[,|\\s]+("+L+")[,|\\s]+("+L+")\\s*\\)?";return{CSS_UNIT:new RegExp(L),rgb:new RegExp("rgb"+te),rgba:new RegExp("rgba"+$),hsl:new RegExp("hsl"+te),hsla:new RegExp("hsla"+$),hsv:new RegExp("hsv"+te),hsva:new RegExp("hsva"+$),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ne(Q){return!!fe.CSS_UNIT.exec(Q)}function se(Q){Q=Q.replace(y,"").replace(d,"").toLowerCase();var I=!1;if(V[Q])Q=V[Q],I=!0;else if(Q=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var L;return(L=fe.rgb.exec(Q))?{r:L[1],g:L[2],b:L[3]}:(L=fe.rgba.exec(Q))?{r:L[1],g:L[2],b:L[3],a:L[4]}:(L=fe.hsl.exec(Q))?{h:L[1],s:L[2],l:L[3]}:(L=fe.hsla.exec(Q))?{h:L[1],s:L[2],l:L[3],a:L[4]}:(L=fe.hsv.exec(Q))?{h:L[1],s:L[2],v:L[3]}:(L=fe.hsva.exec(Q))?{h:L[1],s:L[2],v:L[3],a:L[4]}:(L=fe.hex8.exec(Q))?{r:re(L[1]),g:re(L[2]),b:re(L[3]),a:he(L[4]),format:I?"name":"hex8"}:(L=fe.hex6.exec(Q))?{r:re(L[1]),g:re(L[2]),b:re(L[3]),format:I?"name":"hex"}:(L=fe.hex4.exec(Q))?{r:re(L[1]+""+L[1]),g:re(L[2]+""+L[2]),b:re(L[3]+""+L[3]),a:he(L[4]+""+L[4]),format:I?"name":"hex8"}:(L=fe.hex3.exec(Q))?{r:re(L[1]+""+L[1]),g:re(L[2]+""+L[2]),b:re(L[3]+""+L[3]),format:I?"name":"hex"}:!1}function oe(Q){var I,L;return Q=Q||{level:"AA",size:"small"},I=(Q.level||"AA").toUpperCase(),L=(Q.size||"small").toLowerCase(),I!=="AA"&&I!=="AAA"&&(I="AA"),L!=="small"&&L!=="large"&&(L="small"),{level:I,size:L}}typeof W<"u"&&W.exports?W.exports=r:ge.tinycolor=r})(Math)},{}],179:[function(A,W,S){S=W.exports=k;function k(y){return y.replace(/^\s*|\s*$/g,"")}S.left=function(y){return y.replace(/^\s*/,"")},S.right=function(y){return y.replace(/\s*$/,"")}},{}],180:[function(A,W,S){var k=A("punycode"),y=A("./util");S.parse=b,S.resolve=x,S.resolveObject=M,S.format=E,S.Url=d;function d(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var g=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,a=["<",">",'"',"`"," ","\r",`
`,"	"],n=["{","}","|","\\","^","`"].concat(a),r=["'"].concat(n),f=["%","/","?",";","#"].concat(r),c=["/","?","#"],o=255,l=/^[+a-z0-9A-Z_-]{0,63}$/,i=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=A("querystring");function b(O,j,T){if(O&&y.isObject(O)&&O instanceof d)return O;var U=new d;return U.parse(O,j,T),U}d.prototype.parse=function(O,j,T){if(!y.isString(O))throw new TypeError("Parameter 'url' must be a string, not "+typeof O);var U=O.indexOf("?"),H=U!==-1&&U<O.indexOf("#")?"?":"#",D=O.split(H),P=/\\/g;D[0]=D[0].replace(P,"/"),O=D.join(H);var B=O;if(B=B.trim(),!T&&O.split("#").length===1){var X=s.exec(B);if(X)return this.path=B,this.href=B,this.pathname=X[1],X[2]?(this.search=X[2],j?this.query=_.parse(this.search.substr(1)):this.query=this.search.substr(1)):j&&(this.search="",this.query={}),this}var V=g.exec(B);if(V){V=V[0];var q=V.toLowerCase();this.protocol=q,B=B.substr(V.length)}if(T||V||B.match(/^\/\/[^@\/]+@[^@\/]+/)){var ee=B.substr(0,2)==="//";ee&&!(V&&m[V])&&(B=B.substr(2),this.slashes=!0)}if(!m[V]&&(ee||V&&!v[V])){for(var Z=-1,J=0;J<c.length;J++){var K=B.indexOf(c[J]);K!==-1&&(Z===-1||K<Z)&&(Z=K)}var re,ue;Z===-1?ue=B.lastIndexOf("@"):ue=B.lastIndexOf("@",Z),ue!==-1&&(re=B.slice(0,ue),B=B.slice(ue+1),this.auth=decodeURIComponent(re)),Z=-1;for(var J=0;J<f.length;J++){var K=B.indexOf(f[J]);K!==-1&&(Z===-1||K<Z)&&(Z=K)}Z===-1&&(Z=B.length),this.host=B.slice(0,Z),B=B.slice(Z),this.parseHost(),this.hostname=this.hostname||"";var ce=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ce)for(var ve=this.hostname.split(/\./),J=0,_e=ve.length;J<_e;J++){var Re=ve[J];if(Re&&!Re.match(l)){for(var he="",fe=0,ne=Re.length;fe<ne;fe++)Re.charCodeAt(fe)>127?he+="x":he+=Re[fe];if(!he.match(l)){var se=ve.slice(0,J),oe=ve.slice(J+1),Q=Re.match(i);Q&&(se.push(Q[1]),oe.unshift(Q[2])),oe.length&&(B="/"+oe.join(".")+B),this.hostname=se.join(".");break}}}this.hostname.length>o?this.hostname="":this.hostname=this.hostname.toLowerCase(),ce||(this.hostname=k.toASCII(this.hostname));var I=this.port?":"+this.port:"",L=this.hostname||"";this.host=L+I,this.href+=this.host,ce&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),B[0]!=="/"&&(B="/"+B))}if(!p[q])for(var J=0,_e=r.length;J<_e;J++){var te=r[J];if(B.indexOf(te)!==-1){var $=encodeURIComponent(te);$===te&&($=escape(te)),B=B.split(te).join($)}}var N=B.indexOf("#");N!==-1&&(this.hash=B.substr(N),B=B.slice(0,N));var C=B.indexOf("?");if(C!==-1?(this.search=B.substr(C),this.query=B.substr(C+1),j&&(this.query=_.parse(this.query)),B=B.slice(0,C)):j&&(this.search="",this.query={}),B&&(this.pathname=B),v[q]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var I=this.pathname||"",ie=this.search||"";this.path=I+ie}return this.href=this.format(),this};function E(O){return y.isString(O)&&(O=b(O)),O instanceof d?O.format():d.prototype.format.call(O)}d.prototype.format=function(){var O=this.auth||"";O&&(O=encodeURIComponent(O),O=O.replace(/%3A/i,":"),O+="@");var j=this.protocol||"",T=this.pathname||"",U=this.hash||"",H=!1,D="";this.host?H=O+this.host:this.hostname&&(H=O+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(H+=":"+this.port)),this.query&&y.isObject(this.query)&&Object.keys(this.query).length&&(D=_.stringify(this.query));var P=this.search||D&&"?"+D||"";return j&&j.substr(-1)!==":"&&(j+=":"),this.slashes||(!j||v[j])&&H!==!1?(H="//"+(H||""),T&&T.charAt(0)!=="/"&&(T="/"+T)):H||(H=""),U&&U.charAt(0)!=="#"&&(U="#"+U),P&&P.charAt(0)!=="?"&&(P="?"+P),T=T.replace(/[?#]/g,function(B){return encodeURIComponent(B)}),P=P.replace("#","%23"),j+H+T+P+U};function x(O,j){return b(O,!1,!0).resolve(j)}d.prototype.resolve=function(O){return this.resolveObject(b(O,!1,!0)).format()};function M(O,j){return O?b(O,!1,!0).resolveObject(j):j}d.prototype.resolveObject=function(O){if(y.isString(O)){var j=new d;j.parse(O,!1,!0),O=j}for(var T=new d,U=Object.keys(this),H=0;H<U.length;H++){var D=U[H];T[D]=this[D]}if(T.hash=O.hash,O.href==="")return T.href=T.format(),T;if(O.slashes&&!O.protocol){for(var P=Object.keys(O),B=0;B<P.length;B++){var X=P[B];X!=="protocol"&&(T[X]=O[X])}return v[T.protocol]&&T.hostname&&!T.pathname&&(T.path=T.pathname="/"),T.href=T.format(),T}if(O.protocol&&O.protocol!==T.protocol){if(!v[O.protocol]){for(var V=Object.keys(O),q=0;q<V.length;q++){var ee=V[q];T[ee]=O[ee]}return T.href=T.format(),T}if(T.protocol=O.protocol,!O.host&&!m[O.protocol]){for(var _e=(O.pathname||"").split("/");_e.length&&!(O.host=_e.shift()););O.host||(O.host=""),O.hostname||(O.hostname=""),_e[0]!==""&&_e.unshift(""),_e.length<2&&_e.unshift(""),T.pathname=_e.join("/")}else T.pathname=O.pathname;if(T.search=O.search,T.query=O.query,T.host=O.host||"",T.auth=O.auth,T.hostname=O.hostname||O.host,T.port=O.port,T.pathname||T.search){var Z=T.pathname||"",J=T.search||"";T.path=Z+J}return T.slashes=T.slashes||O.slashes,T.href=T.format(),T}var K=T.pathname&&T.pathname.charAt(0)==="/",re=O.host||O.pathname&&O.pathname.charAt(0)==="/",ue=re||K||T.host&&O.pathname,ce=ue,ve=T.pathname&&T.pathname.split("/")||[],_e=O.pathname&&O.pathname.split("/")||[],Re=T.protocol&&!v[T.protocol];if(Re&&(T.hostname="",T.port=null,T.host&&(ve[0]===""?ve[0]=T.host:ve.unshift(T.host)),T.host="",O.protocol&&(O.hostname=null,O.port=null,O.host&&(_e[0]===""?_e[0]=O.host:_e.unshift(O.host)),O.host=null),ue=ue&&(_e[0]===""||ve[0]==="")),re)T.host=O.host||O.host===""?O.host:T.host,T.hostname=O.hostname||O.hostname===""?O.hostname:T.hostname,T.search=O.search,T.query=O.query,ve=_e;else if(_e.length)ve||(ve=[]),ve.pop(),ve=ve.concat(_e),T.search=O.search,T.query=O.query;else if(!y.isNullOrUndefined(O.search)){if(Re){T.hostname=T.host=ve.shift();var he=T.host&&T.host.indexOf("@")>0?T.host.split("@"):!1;he&&(T.auth=he.shift(),T.host=T.hostname=he.shift())}return T.search=O.search,T.query=O.query,(!y.isNull(T.pathname)||!y.isNull(T.search))&&(T.path=(T.pathname?T.pathname:"")+(T.search?T.search:"")),T.href=T.format(),T}if(!ve.length)return T.pathname=null,T.search?T.path="/"+T.search:T.path=null,T.href=T.format(),T;for(var fe=ve.slice(-1)[0],ne=(T.host||O.host||ve.length>1)&&(fe==="."||fe==="..")||fe==="",se=0,oe=ve.length;oe>=0;oe--)fe=ve[oe],fe==="."?ve.splice(oe,1):fe===".."?(ve.splice(oe,1),se++):se&&(ve.splice(oe,1),se--);if(!ue&&!ce)for(;se--;se)ve.unshift("..");ue&&ve[0]!==""&&(!ve[0]||ve[0].charAt(0)!=="/")&&ve.unshift(""),ne&&ve.join("/").substr(-1)!=="/"&&ve.push("");var Q=ve[0]===""||ve[0]&&ve[0].charAt(0)==="/";if(Re){T.hostname=T.host=Q?"":ve.length?ve.shift():"";var he=T.host&&T.host.indexOf("@")>0?T.host.split("@"):!1;he&&(T.auth=he.shift(),T.host=T.hostname=he.shift())}return ue=ue||T.host&&ve.length,ue&&!Q&&ve.unshift(""),ve.length?T.pathname=ve.join("/"):(T.pathname=null,T.path=null),(!y.isNull(T.pathname)||!y.isNull(T.search))&&(T.path=(T.pathname?T.pathname:"")+(T.search?T.search:"")),T.auth=O.auth||T.auth,T.slashes=T.slashes||O.slashes,T.href=T.format(),T},d.prototype.parseHost=function(){var O=this.host,j=u.exec(O);j&&(j=j[0],j!==":"&&(this.port=j.substr(1)),O=O.substr(0,O.length-j.length)),O&&(this.hostname=O)}},{"./util":181,punycode:134,querystring:137}],181:[function(A,W,S){W.exports={isString:function(k){return typeof k=="string"},isObject:function(k){return typeof k=="object"&&k!==null},isNull:function(k){return k===null},isNullOrUndefined:function(k){return k==null}}},{}],182:[function(A,W,S){(function(k){(function(){var y={};typeof W=="object"?W.exports=y:self.UTIF=y;var d;typeof A=="function"?d=A("pako"):d=self.pako;function g(){(typeof k>"u"||k.env.NODE_ENV=="development")&&console.log.apply(console,arguments)}(function(u,s){(function(){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},n=function(){function f(c){this.message="JPEG error: "+c}return f.prototype=Error(),f.prototype.name="JpegError",f.constructor=f}(),r=function(){function f(c,o){this.message=c,this.g=o}return f.prototype=Error(),f.prototype.name="DNLMarkerError",f.constructor=f}();(function(){function f(){this.M=null,this.B=-1}function c(m,v){for(var _=0,b=[],E,x,M=16;0<M&&!m[M-1];)M--;b.push({children:[],index:0});var O=b[0],j;for(E=0;E<M;E++){for(x=0;x<m[E];x++){for(O=b.pop(),O.children[O.index]=v[_];0<O.index;)O=b.pop();for(O.index++,b.push(O);b.length<=E;)b.push(j={children:[],index:0}),O.children[O.index]=j.children,O=j;_++}E+1<M&&(b.push(j={children:[],index:0}),O.children[O.index]=j.children,O=j)}return b[0].children}function o(m,v,_,b,E,x,M,O,j){function T(){if(0<re)return re--,K>>re&1;if(K=m[v++],K===255){var N=m[v++];if(N){if(N===220&&ee){v+=2;var C=m[v++]<<8|m[v++];if(0<C&&C!==_.g)throw new r("Found DNL marker (0xFFDC) while parsing scan data",C)}throw new n("unexpected marker "+(K<<8|N).toString(16))}}return re=7,K>>>7}function U(N){for(;;){if(N=N[T()],typeof N=="number")return N;if((typeof N>"u"?"undefined":a(N))!=="object")throw new n("invalid huffman sequence")}}function H(N){for(var C=0;0<N;)C=C<<1|T(),N--;return C}function D(N){if(N===1)return T()===1?1:-1;var C=H(N);return C>=1<<N-1?C:C+(-1<<N)+1}function P(N,C){var ie=U(N.D);for(ie=ie===0?0:D(ie),N.a[C]=N.m+=ie,ie=1;64>ie;){var de=U(N.o),xe=de&15;if(de>>=4,xe===0){if(15>de)break;ie+=16}else ie+=de,N.a[C+p[ie]]=D(xe),ie++}}function B(N,C){var ie=U(N.D);ie=ie===0?0:D(ie)<<j,N.a[C]=N.m+=ie}function X(N,C){N.a[C]|=T()<<j}function V(N,C){if(0<ue)ue--;else for(var ie=x;ie<=M;){var de=U(N.o),xe=de&15;if(de>>=4,xe===0){if(15>de){ue=H(de)+(1<<de)-1;break}ie+=16}else ie+=de,N.a[C+p[ie]]=D(xe)*(1<<j),ie++}}function q(N,C){for(var ie=x,de=0,xe;ie<=M;){xe=C+p[ie];var Me=0>N.a[xe]?-1:1;switch(ce){case 0:if(de=U(N.o),xe=de&15,de>>=4,xe===0)15>de?(ue=H(de)+(1<<de),ce=4):(de=16,ce=1);else{if(xe!==1)throw new n("invalid ACn encoding");ve=D(xe),ce=de?2:3}continue;case 1:case 2:N.a[xe]?N.a[xe]+=Me*(T()<<j):(de--,de===0&&(ce=ce===2?3:0));break;case 3:N.a[xe]?N.a[xe]+=Me*(T()<<j):(N.a[xe]=ve<<j,ce=0);break;case 4:N.a[xe]&&(N.a[xe]+=Me*(T()<<j))}ie++}ce===4&&(ue--,ue===0&&(ce=0))}for(var ee=9<arguments.length&&arguments[9]!==void 0?arguments[9]:!1,Z=_.P,J=v,K=0,re=0,ue=0,ce=0,ve,_e=b.length,Re,he,fe,ne,se=_.S?x===0?O===0?B:X:O===0?V:q:P,oe=0,Q=_e===1?b[0].c*b[0].l:Z*_.O,I,L;oe<Q;){var te=E?Math.min(Q-oe,E):Q;for(Re=0;Re<_e;Re++)b[Re].m=0;if(ue=0,_e===1){var $=b[0];for(ne=0;ne<te;ne++)se($,64*(($.c+1)*(oe/$.c|0)+oe%$.c)),oe++}else for(ne=0;ne<te;ne++){for(Re=0;Re<_e;Re++)for($=b[Re],I=$.h,L=$.j,he=0;he<L;he++)for(fe=0;fe<I;fe++)se($,64*(($.c+1)*((oe/Z|0)*$.j+he)+(oe%Z*$.h+fe)));oe++}if(re=0,($=i(m,v))&&$.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+$.f),v=$.offset),$=$&&$.F,!$||65280>=$)throw new n("marker was not found");if(65488<=$&&65495>=$)v+=2;else break}return($=i(m,v))&&$.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+$.f),v=$.offset),v-J}function l(m,v){for(var _=v.c,b=v.l,E=new Int16Array(64),x=0;x<b;x++)for(var M=0;M<_;M++){var O=64*((v.c+1)*x+M),j=E,T=v.G,U=v.a;if(!T)throw new n("missing required Quantization Table.");for(var H=0;64>H;H+=8){var D=U[O+H],P=U[O+H+1],B=U[O+H+2],X=U[O+H+3],V=U[O+H+4],q=U[O+H+5],ee=U[O+H+6],Z=U[O+H+7];if(D*=T[H],(P|B|X|V|q|ee|Z)===0)D=5793*D+512>>10,j[H]=D,j[H+1]=D,j[H+2]=D,j[H+3]=D,j[H+4]=D,j[H+5]=D,j[H+6]=D,j[H+7]=D;else{P*=T[H+1],B*=T[H+2],X*=T[H+3],V*=T[H+4],q*=T[H+5],ee*=T[H+6],Z*=T[H+7];var J=5793*D+128>>8,K=5793*V+128>>8,re=B,ue=ee;V=2896*(P-Z)+128>>8,Z=2896*(P+Z)+128>>8,X<<=4,q<<=4,J=J+K+1>>1,K=J-K,D=3784*re+1567*ue+128>>8,re=1567*re-3784*ue+128>>8,ue=D,V=V+q+1>>1,q=V-q,Z=Z+X+1>>1,X=Z-X,J=J+ue+1>>1,ue=J-ue,K=K+re+1>>1,re=K-re,D=2276*V+3406*Z+2048>>12,V=3406*V-2276*Z+2048>>12,Z=D,D=799*X+4017*q+2048>>12,X=4017*X-799*q+2048>>12,q=D,j[H]=J+Z,j[H+7]=J-Z,j[H+1]=K+q,j[H+6]=K-q,j[H+2]=re+X,j[H+5]=re-X,j[H+3]=ue+V,j[H+4]=ue-V}}for(T=0;8>T;++T)D=j[T],P=j[T+8],B=j[T+16],X=j[T+24],V=j[T+32],q=j[T+40],ee=j[T+48],Z=j[T+56],(P|B|X|V|q|ee|Z)===0?(D=5793*D+8192>>14,D=-2040>D?0:2024<=D?255:D+2056>>4,U[O+T]=D,U[O+T+8]=D,U[O+T+16]=D,U[O+T+24]=D,U[O+T+32]=D,U[O+T+40]=D,U[O+T+48]=D,U[O+T+56]=D):(J=5793*D+2048>>12,K=5793*V+2048>>12,re=B,ue=ee,V=2896*(P-Z)+2048>>12,Z=2896*(P+Z)+2048>>12,J=(J+K+1>>1)+4112,K=J-K,D=3784*re+1567*ue+2048>>12,re=1567*re-3784*ue+2048>>12,ue=D,V=V+q+1>>1,q=V-q,Z=Z+X+1>>1,X=Z-X,J=J+ue+1>>1,ue=J-ue,K=K+re+1>>1,re=K-re,D=2276*V+3406*Z+2048>>12,V=3406*V-2276*Z+2048>>12,Z=D,D=799*X+4017*q+2048>>12,X=4017*X-799*q+2048>>12,q=D,D=J+Z,Z=J-Z,P=K+q,ee=K-q,B=re+X,q=re-X,X=ue+V,V=ue-V,D=16>D?0:4080<=D?255:D>>4,P=16>P?0:4080<=P?255:P>>4,B=16>B?0:4080<=B?255:B>>4,X=16>X?0:4080<=X?255:X>>4,V=16>V?0:4080<=V?255:V>>4,q=16>q?0:4080<=q?255:q>>4,ee=16>ee?0:4080<=ee?255:ee>>4,Z=16>Z?0:4080<=Z?255:Z>>4,U[O+T]=D,U[O+T+8]=P,U[O+T+16]=B,U[O+T+24]=X,U[O+T+32]=V,U[O+T+40]=q,U[O+T+48]=ee,U[O+T+56]=Z)}return v.a}function i(m,v){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:v,b=m.length-1;if(_=_<v?_:v,v>=b)return null;var E=m[v]<<8|m[v+1];if(65472<=E&&65534>=E)return{f:null,F:E,offset:v};for(var x=m[_]<<8|m[_+1];!(65472<=x&&65534>=x);){if(++_>=b)return null;x=m[_]<<8|m[_+1]}return{f:E.toString(16),F:x,offset:_}}var p=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);f.prototype={parse:function(m){function v(){var re=m[M]<<8|m[M+1];return M+=2,re}function _(){var re=v();re=M+re-2;var ue=i(m,re,M);return ue&&ue.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+ue.f),re=ue.offset),re=m.subarray(M,re),M+=re.length,re}function b(re){for(var ue=Math.ceil(re.v/8/re.s),ce=Math.ceil(re.g/8/re.u),ve=0;ve<re.b.length;ve++){J=re.b[ve];var _e=Math.ceil(Math.ceil(re.v/8)*J.h/re.s),Re=Math.ceil(Math.ceil(re.g/8)*J.j/re.u);J.a=new Int16Array(64*ce*J.j*(ue*J.h+1)),J.c=_e,J.l=Re}re.P=ue,re.O=ce}var E=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).N,x=E===void 0?null:E,M=0,O=null,j=0;E=[];var T=[],U=[],H=v();if(H!==65496)throw new n("SOI not found");for(H=v();H!==65497;){switch(H){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var D=_();H===65518&&D[0]===65&&D[1]===100&&D[2]===111&&D[3]===98&&D[4]===101&&(O={version:D[5]<<8|D[6],Y:D[7]<<8|D[8],Z:D[9]<<8|D[10],W:D[11]});break;case 65499:H=v()+M-2;for(var P;M<H;){var B=m[M++],X=new Uint16Array(64);if(B>>4===0)for(D=0;64>D;D++)P=p[D],X[P]=m[M++];else if(B>>4===1)for(D=0;64>D;D++)P=p[D],X[P]=v();else throw new n("DQT - invalid table spec");E[B&15]=X}break;case 65472:case 65473:case 65474:if(V)throw new n("Only single frame JPEGs supported");v();var V={};for(V.X=H===65473,V.S=H===65474,V.precision=m[M++],H=v(),V.g=x||H,V.v=v(),V.b=[],V.C={},D=m[M++],H=X=B=0;H<D;H++){P=m[M];var q=m[M+1]>>4,ee=m[M+1]&15;B<q&&(B=q),X<ee&&(X=ee),q=V.b.push({h:q,j:ee,T:m[M+2],G:null}),V.C[P]=q-1,M+=3}V.s=B,V.u=X,b(V);break;case 65476:for(P=v(),H=2;H<P;){for(B=m[M++],X=new Uint8Array(16),D=q=0;16>D;D++,M++)q+=X[D]=m[M];for(ee=new Uint8Array(q),D=0;D<q;D++,M++)ee[D]=m[M];H+=17+q,(B>>4===0?U:T)[B&15]=c(X,ee)}break;case 65501:v();var Z=v();break;case 65498:for(D=++j===1&&!x,v(),B=m[M++],P=[],H=0;H<B;H++){X=V.C[m[M++]];var J=V.b[X];X=m[M++],J.D=U[X>>4],J.o=T[X&15],P.push(J)}H=m[M++],B=m[M++],X=m[M++];try{var K=o(m,M,V,P,Z,H,B,X>>4,X&15,D);M+=K}catch(re){if(re instanceof r)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(m,{N:re.g});throw re}break;case 65500:M+=4;break;case 65535:m[M]!==255&&M--;break;default:if(m[M-3]===255&&192<=m[M-2]&&254>=m[M-2])M-=3;else if((D=i(m,M-2))&&D.f)(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+D.f),M=D.offset;else throw new n("unknown marker "+H.toString(16))}H=v()}for(this.width=V.v,this.height=V.g,this.A=O,this.b=[],H=0;H<V.b.length;H++)J=V.b[H],(Z=E[J.T])&&(J.G=Z),this.b.push({R:l(V,J),U:J.h/V.s,V:J.j/V.u,c:J.c,l:J.l});this.i=this.b.length},L:function(m,v){var _=this.width/m,b=this.height/v,E,x,M=this.b.length,O=m*v*M,j=new Uint8ClampedArray(O),T=new Uint32Array(m);for(x=0;x<M;x++){var U=this.b[x],H=U.U*_,D=U.V*b,P=x,B=U.R,X=U.c+1<<3;for(E=0;E<m;E++)U=0|E*H,T[E]=(U&4294967288)<<3|U&7;for(H=0;H<v;H++)for(U=0|H*D,U=X*(U&4294967288)|(U&7)<<3,E=0;E<m;E++)j[P]=B[U+T[E]],P+=M}if(b=this.M)for(x=0;x<O;)for(_=U=0;U<M;U++,x++,_+=2)j[x]=(j[x]*b[_]>>8)+b[_+1];return j},w:function(){return this.A?!!this.A.W:this.i===3?this.B!==0:this.B===1},I:function(m){for(var v,_,b,E=0,x=m.length;E<x;E+=3)v=m[E],_=m[E+1],b=m[E+2],m[E]=v-179.456+1.402*b,m[E+1]=v+135.459-.344*_-.714*b,m[E+2]=v-226.816+1.772*_;return m},K:function(m){for(var v,_,b,E,x=0,M=0,O=m.length;M<O;M+=4)v=m[M],_=m[M+1],b=m[M+2],E=m[M+3],m[x++]=-122.67195406894+_*(-660635669420364e-19*_+.000437130475926232*b-54080610064599e-18*v+.00048449797120281*E-.154362151871126)+b*(-.000957964378445773*b+.000817076911346625*v-.00477271405408747*E+1.53380253221734)+v*(.000961250184130688*v-.00266257332283933*E+.48357088451265)+E*(-.000336197177618394*E+.484791561490776),m[x++]=107.268039397724+_*(219927104525741e-19*_-.000640992018297945*b+.000659397001245577*v+.000426105652938837*E-.176491792462875)+b*(-.000778269941513683*b+.00130872261408275*v+.000770482631801132*E-.151051492775562)+v*(.00126935368114843*v-.00265090189010898*E+.25802910206845)+E*(-.000318913117588328*E-.213742400323665),m[x++]=-20.810012546947+_*(-.000570115196973677*_-263409051004589e-19*b+.0020741088115012*v-.00288260236853442*E+.814272968359295)+b*(-153496057440975e-19*b-.000132689043961446*v+.000560833691242812*E-.195152027534049)+v*(.00174418132927582*v-.00255243321439347*E+.116935020465145)+E*(-.000343531996510555*E+.24165260232407);return m.subarray(0,x)},J:function(m){for(var v,_,b,E=0,x=m.length;E<x;E+=4)v=m[E],_=m[E+1],b=m[E+2],m[E]=434.456-v-1.402*b,m[E+1]=119.541-v+.344*_+.714*b,m[E+2]=481.816-v-1.772*_;return m},H:function(m){for(var v,_,b,E,x=0,M=1/255,O=0,j=m.length;O<j;O+=4)v=m[O]*M,_=m[O+1]*M,b=m[O+2]*M,E=m[O+3]*M,m[x++]=255+v*(-4.387332384609988*v+54.48615194189176*_+18.82290502165302*b+212.25662451639585*E-285.2331026137004)+_*(1.7149763477362134*_-5.6096736904047315*b-17.873870861415444*E-5.497006427196366)+b*(-2.5217340131683033*b-21.248923337353073*E+17.5119270841813)-E*(21.86122147463605*E+189.48180835922747),m[x++]=255+v*(8.841041422036149*v+60.118027045597366*_+6.871425592049007*b+31.159100130055922*E-79.2970844816548)+_*(-15.310361306967817*_+17.575251261109482*b+131.35250912493976*E-190.9453302588951)+b*(4.444339102852739*b+9.8632861493405*E-24.86741582555878)-E*(20.737325471181034*E+187.80453709719578),m[x++]=255+v*(.8842522430003296*v+8.078677503112928*_+30.89978309703729*b-.23883238689178934*E-14.183576799673286)+_*(10.49593273432072*_+63.02378494754052*b+50.606957656360734*E-112.23884253719248)+b*(.03296041114873217*b+115.60384449646641*E-193.58209356861505)-E*(22.33816807309886*E+180.12613974708367);return m.subarray(0,x)},getData:function(m,v,_){if(4<this.i)throw new n("Unsupported color mode");if(m=this.L(m,v),this.i===1&&_){_=m.length,v=new Uint8ClampedArray(3*_);for(var b=0,E=0;E<_;E++){var x=m[E];v[b++]=x,v[b++]=x,v[b++]=x}return v}if(this.i===3&&this.w())return this.I(m);if(this.i===4){if(this.w())return _?this.K(m):this.J(m);if(_)return this.H(m)}return m}},u.JpegDecoder=f})()})(),u.encodeImage=function(a,n,r,f){var c={t256:[n],t257:[r],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[r],t279:[n*r*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(f)for(var o in f)c[o]=f[o];for(var l=new Uint8Array(u.encode([c])),i=new Uint8Array(a),p=new Uint8Array(1e3+n*r*4),o=0;o<l.length;o++)p[o]=l[o];for(var o=0;o<i.length;o++)p[1e3+o]=i[o];return p.buffer},u.encode=function(a){var n=new Uint8Array(2e4),r=4,f=u._binBE;n[0]=77,n[1]=77,n[3]=42;var c=8;f.writeUint(n,r,c),r+=4;for(var o=0;o<a.length;o++){var l=u._writeIFD(f,n,c,a[o]);c=l[1],o<a.length-1&&f.writeUint(n,l[0],c)}return n.slice(0,c).buffer},u.decode=function(a){u.decode._decodeG3.allow2D=null;var n=new Uint8Array(a),r=0,f=u._binBE.readASCII(n,r,2);r+=2;var c=f=="II"?u._binLE:u._binBE;c.readUshort(n,r),r+=2;var o=c.readUint(n,r);r+=4;for(var l=[];;){var i=u._readIFD(c,n,o,l);if(o=c.readUint(n,i),o==0)break}return l},u.decodeImages=function(a,n){for(var r=new Uint8Array(a),f=u._binBE.readASCII(r,0,2),c=0;c<n.length;c++){var o=n[c];if(o.t256!=null){o.isLE=f=="II",o.width=o.t256[0],o.height=o.t257[0];var l=o.t259?o.t259[0]:1,i=o.t266?o.t266[0]:1;o.t284&&o.t284[0]==2&&g("PlanarConfiguration 2 should not be used!");var p=(o.t258?Math.min(32,o.t258[0]):1)*(o.t277?o.t277[0]:1),m=Math.ceil(o.width*p/8)*8,v=o.t273;v==null&&(v=o.t324);var _=o.t279;l==1&&v.length==1&&(_=[o.height*(m>>>3)]),_==null&&(_=o.t325);var b=new Uint8Array(o.height*(m>>>3)),E=0;if(o.t322!=null){for(var x=o.t322[0],M=o.t323[0],O=Math.floor((o.width+x-1)/x),j=Math.floor((o.height+M-1)/M),T=new Uint8Array(Math.ceil(x*M*p/8)|0),U=0;U<j;U++)for(var H=0;H<O;H++){for(var D=U*O+H,P=0;P<T.length;P++)T[P]=0;u.decode._decompress(o,r,v[D],_[D],l,T,0,i),l==6?b=T:u._copyTile(T,Math.ceil(x*p/8)|0,M,b,Math.ceil(o.width*p/8)|0,o.height,Math.ceil(H*x*p/8)|0,U*M)}E=b.length*8}else{var B=o.t278?o.t278[0]:o.height;B=Math.min(B,o.height);for(var D=0;D<v.length;D++)u.decode._decompress(o,r,v[D],_[D],l,b,Math.ceil(E/8)|0,i),E+=m*B;E=Math.min(E,b.length*8)}o.data=new Uint8Array(b.buffer,0,Math.ceil(E/8)|0)}}},u.decode._decompress=function(a,n,r,f,c,o,l,i){if(c==1)for(var p=0;p<f;p++)o[l+p]=n[r+p];else if(c==3)u.decode._decodeG3(n,r,f,o,l,a.width,i);else if(c==4)u.decode._decodeG4(n,r,f,o,l,a.width,i);else if(c==5)u.decode._decodeLZW(n,r,o,l);else if(c==6)u.decode._decodeOldJPEG(a,n,r,f,o,l);else if(c==7)u.decode._decodeNewJPEG(a,n,r,f,o,l);else if(c==8)for(var m=new Uint8Array(n.buffer,r,f),v=s.inflate(m),_=0;_<v.length;_++)o[l+_]=v[_];else c==32773?u.decode._decodePackBits(n,r,f,o,l):c==32809?u.decode._decodeThunder(n,r,f,o,l):g("Unknown compression",c);if(a.t317&&a.t317[0]==2)for(var b=a.t277?a.t277[0]:1,E=a.t278?a.t278[0]:a.height,x=a.width*b,M=0;M<E;M++){var O=l+M*x;if(b==3)for(var p=3;p<x;p+=3)o[O+p]=o[O+p]+o[O+p-3]&255,o[O+p+1]=o[O+p+1]+o[O+p-2]&255,o[O+p+2]=o[O+p+2]+o[O+p-1]&255;else for(var p=b;p<x;p++)o[O+p]=o[O+p]+o[O+p-b]&255}},u.decode._decodeNikon=function(a,n,i,f,c){var o,l,i;g(a.slice(n,n+100)),o=a[n],n++,l=a[n],n++,g(o.toString(16),l.toString(16),i)},u.decode._decodeNewJPEG=function(a,n,r,f,c,o){var l=a.t347,i=l?l.length:0,p=new Uint8Array(i+f);if(l){for(var m=216,v=217,_=0,b=0;b<i-1&&!(l[b]==255&&l[b+1]==v);b++)p[_++]=l[b];var E=n[r],x=n[r+1];(E!=255||x!=m)&&(p[_++]=E,p[_++]=x);for(var b=2;b<f;b++)p[_++]=n[r+b]}else for(var b=0;b<f;b++)p[b]=n[r+b];if(a.t262==32803){var M=a.t258[0],O=new LosslessJpegDecoder,j=O.decode(p),T=j.length;if(M==16)for(var b=0;b<T;b++)c[o++]=j[b]&255,c[o++]=j[b]>>>8;else if(M==12)for(var b=0;b<T;b+=2)c[o++]=j[b]>>>4,c[o++]=(j[b]<<4|j[b+1]>>>8)&255,c[o++]=j[b+1]&255;else throw new Error("unsupported bit depth "+M)}else{var U=new u.JpegDecoder;U.parse(p);for(var H=U.getData(U.width,U.height),b=0;b<H.length;b++)c[o+b]=H[b]}a.t262[0]==6&&(a.t262[0]=2)},u.decode._decodeOldJPEGInit=function(a,n,r,f){var c=216,o=219,l=196,i=221,p=192,m=218,v=0,_=0,b,E,x=!1,M,O,j,T=a.t513,U=T?T[0]:0,H=a.t514,D=H?H[0]:0,P=a.t324||a.t273||T,B=a.t530,X=0,V=0,q=a.t277?a.t277[0]:1,ee=a.t515;if(P&&(_=P[0],x=P.length>1),!x){if(n[r]==255&&n[r+1]==c)return{jpegOffset:r};if(T!=null&&(n[r+U]==255&&n[r+U+1]==c?v=r+U:g("JPEGInterchangeFormat does not point to SOI"),H==null?g("JPEGInterchangeFormatLength field is missing"):(U>=_||U+D<=_)&&g("JPEGInterchangeFormatLength field value is invalid"),v!=null))return{jpegOffset:v}}if(B!=null&&(X=B[0],V=B[1]),T!=null&&H!=null)if(D>=2&&U+D<=_){for(n[r+U+D-2]==255&&n[r+U+D-1]==c?b=new Uint8Array(D-2):b=new Uint8Array(D),M=0;M<b.length;M++)b[M]=n[r+U+M];g("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else g("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(b==null){var Z=0,J=[];J[Z++]=255,J[Z++]=c;var K=a.t519;if(K==null)throw new Error("JPEGQTables tag is missing");for(M=0;M<K.length;M++)for(J[Z++]=255,J[Z++]=o,J[Z++]=0,J[Z++]=67,J[Z++]=M,O=0;O<64;O++)J[Z++]=n[r+K[M]+O];for(j=0;j<2;j++){var re=a[j==0?"t520":"t521"];if(re==null)throw new Error((j==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(M=0;M<re.length;M++){J[Z++]=255,J[Z++]=l;var ue=19;for(O=0;O<16;O++)ue+=n[r+re[M]+O];for(J[Z++]=ue>>>8,J[Z++]=ue&255,J[Z++]=M|j<<4,O=0;O<16;O++)J[Z++]=n[r+re[M]+O];for(O=0;O<ue;O++)J[Z++]=n[r+re[M]+16+O]}}if(J[Z++]=255,J[Z++]=p,J[Z++]=0,J[Z++]=8+3*q,J[Z++]=8,J[Z++]=a.height>>>8&255,J[Z++]=a.height&255,J[Z++]=a.width>>>8&255,J[Z++]=a.width&255,J[Z++]=q,q==1)J[Z++]=1,J[Z++]=17,J[Z++]=0;else for(M=0;M<3;M++)J[Z++]=M+1,J[Z++]=M!=0?17:(X&15)<<4|V&15,J[Z++]=M;ee!=null&&ee[0]!=0&&(J[Z++]=255,J[Z++]=i,J[Z++]=0,J[Z++]=4,J[Z++]=ee[0]>>>8&255,J[Z++]=ee[0]&255),b=new Uint8Array(J)}var ce=-1;for(M=0;M<b.length-1;){if(b[M]==255&&b[M+1]==p){ce=M;break}M++}if(ce==-1){var ve=new Uint8Array(b.length+10+3*q);ve.set(b);var _e=b.length;if(ce=b.length,b=ve,b[_e++]=255,b[_e++]=p,b[_e++]=0,b[_e++]=8+3*q,b[_e++]=8,b[_e++]=a.height>>>8&255,b[_e++]=a.height&255,b[_e++]=a.width>>>8&255,b[_e++]=a.width&255,b[_e++]=q,q==1)b[_e++]=1,b[_e++]=17,b[_e++]=0;else for(M=0;M<3;M++)b[_e++]=M+1,b[_e++]=M!=0?17:(X&15)<<4|V&15,b[_e++]=M}if(n[_]==255&&n[_+1]==m){var Re=n[_+2]<<8|n[_+3];for(E=new Uint8Array(Re+2),E[0]=n[_],E[1]=n[_+1],E[2]=n[_+2],E[3]=n[_+3],M=0;M<Re-2;M++)E[M+4]=n[_+M+4]}else{E=new Uint8Array(8+2*q);var he=0;if(E[he++]=255,E[he++]=m,E[he++]=0,E[he++]=6+2*q,E[he++]=q,q==1)E[he++]=1,E[he++]=0;else for(M=0;M<3;M++)E[he++]=M+1,E[he++]=M<<4|M;E[he++]=0,E[he++]=63,E[he++]=0}return{jpegOffset:r,tables:b,sosMarker:E,sofPosition:ce}},u.decode._decodeOldJPEG=function(a,n,r,f,c,o){var l,i,p,m,v=u.decode._decodeOldJPEGInit(a,n,r,f);if(v.jpegOffset!=null)for(i=r+f-v.jpegOffset,m=new Uint8Array(i),l=0;l<i;l++)m[l]=n[v.jpegOffset+l];else{for(p=v.tables.length,m=new Uint8Array(p+v.sosMarker.length+f+2),m.set(v.tables),m[v.sofPosition+5]=a.height>>>8&255,m[v.sofPosition+6]=a.height&255,m[v.sofPosition+7]=a.width>>>8&255,m[v.sofPosition+8]=a.width&255,(n[r]!=255||n[r+1]!=SOS)&&(m.set(v.sosMarker,bufoff),bufoff+=sosMarker.length),l=0;l<f;l++)m[bufoff++]=n[r+l];m[bufoff++]=255,m[bufoff++]=EOI}var _=new u.JpegDecoder;_.parse(m);for(var b=_.getData(_.width,_.height),l=0;l<b.length;l++)c[o+l]=b[l];a.t262[0]==6&&(a.t262[0]=2)},u.decode._decodePackBits=function(a,n,r,f,c){for(var o=new Int8Array(a.buffer),l=new Int8Array(f.buffer),i=n+r;n<i;){var p=o[n];if(n++,p>=0&&p<128)for(var m=0;m<p+1;m++)l[c]=o[n],c++,n++;if(p>=-127&&p<0){for(var m=0;m<-p+1;m++)l[c]=o[n],c++;n++}}},u.decode._decodeThunder=function(a,n,r,f,c){for(var o=[0,1,0,-1],l=[0,1,2,3,0,-3,-2,-1],i=n+r,p=c*2,m=0;n<i;){var v=a[n],_=v>>>6,b=v&63;if(n++,_==3&&(m=b&15,f[p>>>1]|=m<<4*(1-p&1),p++),_==0)for(var E=0;E<b;E++)f[p>>>1]|=m<<4*(1-p&1),p++;if(_==2)for(var E=0;E<2;E++){var x=b>>>3*(1-E)&7;x!=4&&(m+=l[x],f[p>>>1]|=m<<4*(1-p&1),p++)}if(_==1)for(var E=0;E<3;E++){var x=b>>>2*(2-E)&3;x!=2&&(m+=o[x],f[p>>>1]|=m<<4*(1-p&1),p++)}}},u.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},u.decode._lens=function(){var a=function(p,m,v,_){for(var b=0;b<m.length;b++)p[m[b]]=v+b*_},n="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",r="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",f="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",c="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",o="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";n=n.split(","),r=r.split(","),f=f.split(","),c=c.split(","),o=o.split(",");var l={},i={};return a(l,n,0,1),a(l,f,64,64),a(l,o,1792,64),a(i,r,0,1),a(i,c,64,64),a(i,o,1792,64),[l,i]}(),u.decode._decodeG4=function(a,n,r,f,c,o,l){for(var i=u.decode,p=n<<3,m=0,v="",_=[],b=[],E=0;E<o;E++)b.push(0);b=i._makeDiff(b);for(var x=0,M=0,O=0,j=0,T=0,U=0,H="",D=0,P=Math.ceil(o/8)*8;p>>>3<n+r;){O=i._findDiff(b,x+(x==0?0:1),1-T),j=i._findDiff(b,O,T);var B=0;if(l==1&&(B=a[p>>>3]>>>7-(p&7)&1),l==2&&(B=a[p>>>3]>>>(p&7)&1),p++,v+=B,H=="H"){if(i._lens[T][v]!=null){var X=i._lens[T][v];v="",m+=X,X<64&&(i._addNtimes(_,m,T),x+=m,T=1-T,m=0,D--,D==0&&(H=""))}}else v=="0001"&&(v="",i._addNtimes(_,j-x,T),x=j),v=="001"&&(v="",H="H",D=2),i._dmap[v]!=null&&(M=O+i._dmap[v],i._addNtimes(_,M-x,T),x=M,v="",T=1-T);_.length==o&&H==""&&(i._writeBits(_,f,c*8+U*P),T=0,U++,x=0,b=i._makeDiff(_),_=[])}},u.decode._findDiff=function(a,n,r){for(var f=0;f<a.length;f+=2)if(a[f]>=n&&a[f+1]==r)return a[f]},u.decode._makeDiff=function(a){var n=[];a[0]==1&&n.push(0,1);for(var r=1;r<a.length;r++)a[r-1]!=a[r]&&n.push(r,a[r]);return n.push(a.length,0,a.length,1),n},u.decode._decodeG3=function(a,n,r,f,c,o,l){for(var i=u.decode,p=n<<3,m=0,v="",_=[],b=[],E=0;E<o;E++)_.push(0);for(var x=0,M=0,O=0,j=0,T=0,U=-1,H="",D=0,P=!1,B=Math.ceil(o/8)*8;p>>>3<n+r;){O=i._findDiff(b,x+(x==0?0:1),1-T),j=i._findDiff(b,O,T);var X=0;if(l==1&&(X=a[p>>>3]>>>7-(p&7)&1),l==2&&(X=a[p>>>3]>>>(p&7)&1),p++,v+=X,P){if(i._lens[T][v]!=null){var V=i._lens[T][v];v="",m+=V,V<64&&(i._addNtimes(_,m,T),T=1-T,m=0)}}else if(H=="H"){if(i._lens[T][v]!=null){var V=i._lens[T][v];v="",m+=V,V<64&&(i._addNtimes(_,m,T),x+=m,T=1-T,m=0,D--,D==0&&(H=""))}}else v=="0001"&&(v="",i._addNtimes(_,j-x,T),x=j),v=="001"&&(v="",H="H",D=2),i._dmap[v]!=null&&(M=O+i._dmap[v],i._addNtimes(_,M-x,T),x=M,v="",T=1-T);v.endsWith("000000000001")&&(U>=0&&i._writeBits(_,f,c*8+U*B),l==1&&(P=(a[p>>>3]>>>7-(p&7)&1)==1),l==2&&(P=(a[p>>>3]>>>(p&7)&1)==1),p++,i._decodeG3.allow2D==null&&(i._decodeG3.allow2D=P),i._decodeG3.allow2D||(P=!0,p--),v="",T=0,U++,x=0,b=i._makeDiff(_),_=[])}_.length==o&&i._writeBits(_,f,c*8+U*B)},u.decode._addNtimes=function(a,n,r){for(var f=0;f<n;f++)a.push(r)},u.decode._writeBits=function(a,n,r){for(var f=0;f<a.length;f++)n[r+f>>>3]|=a[f]<<7-(r+f&7)},u.decode._decodeLZW=function(a,n,r,f){if(u.decode._lzwTab==null){for(var c=new Uint32Array(65535),o=new Uint16Array(65535),v=new Uint8Array(2e6),l=0;l<256;l++)v[l<<2]=l,c[l]=l<<2,o[l]=1;u.decode._lzwTab=[c,o,v]}for(var i=u.decode._copyData,p=u.decode._lzwTab[0],m=u.decode._lzwTab[1],v=u.decode._lzwTab[2],_=258,b=1032,E=9,x=n<<3,M=256,O=257,j=0,T=0,U=0;j=a[x>>>3]<<16|a[x+8>>>3]<<8|a[x+16>>>3],T=j>>24-(x&7)-E&(1<<E)-1,x+=E,T!=O;){if(T==M){if(E=9,_=258,b=1032,j=a[x>>>3]<<16|a[x+8>>>3]<<8|a[x+16>>>3],T=j>>24-(x&7)-E&(1<<E)-1,x+=E,T==O)break;r[f]=T,f++}else if(T<_){var H=p[T],D=m[T];if(i(v,H,r,f,D),f+=D,U>=_)p[_]=b,v[p[_]]=H[0],m[_]=1,b=b+1+3&-4,_++;else{p[_]=b;var P=p[U],B=m[U];i(v,P,v,b,B),v[b+B]=v[H],B++,m[_]=B,_++,b=b+B+3&-4}_+1==1<<E&&E++}else{if(U>=_)p[_]=b,m[_]=0,_++;else{p[_]=b;var P=p[U],B=m[U];i(v,P,v,b,B),v[b+B]=v[b],B++,m[_]=B,_++,i(v,b,r,f,B),f+=B,b=b+B+3&-4}_+1==1<<E&&E++}U=T}},u.decode._copyData=function(a,n,r,f,c){for(var o=0;o<c;o+=4)r[f+o]=a[n+o],r[f+o+1]=a[n+o+1],r[f+o+2]=a[n+o+2],r[f+o+3]=a[n+o+3]},u.tags={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffset",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",296:"ResolutionUnit",297:"PageNumber",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffset",325:"TileByteCounts",330:"SubIFDs",336:"DotRange",338:"ExtraSample",339:"SampleFormat",347:"JPEGTables",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",700:"XMP",33421:"CFARepeatPatternDim",33422:"CFAPattern",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33723:"IPTC/NAA",34377:"Photoshop",34665:"ExifIFD",34675:"ICC Profile",34850:"ExposureProgram",34853:"GPSInfo",34855:"ISOSpeedRatings",34858:"TimeZoneOffset",34859:"SelfTimeMode",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37377:"ShutterSpeedValue",37378:"ApertureValue",37380:"ExposureBiasValue",37383:"MeteringMode",37385:"Flash",37386:"FocalLength",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37398:"TIFF/EPStandardID",37399:"SensingMethod",37500:"MakerNote",37510:"UserComment",37724:"ImageSourceData",40092:"XPComment",40094:"XPKeywords",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelXDimension",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50733:"BayerGreenSplit",50738:"AntiAliasStrength",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50727:"AnalogBalance",50728:"AsShotNeutral",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50827:"OriginalRawFileName",50829:"ActiveArea",50830:"MaskedAreas",50931:"CameraCalibrationSignature",50932:"ProfileCalibrationSignature",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualityFinalSize",51091:"OriginalDefaultCropSize",51125:"DefaultUserCrop"},u.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},u._readIFD=function(a,n,r,f){var c=a.readUshort(n,r);r+=2;var o={};f.push(o);for(var l=0;l<c;l++){var i=a.readUshort(n,r);r+=2;var p=a.readUshort(n,r);r+=2;var m=a.readUint(n,r);r+=4;var v=a.readUint(n,r);r+=4;var _=[];if(o["t"+i]=_,p==1||p==7)for(var b=0;b<m;b++)_.push(n[(m<5?r-4:v)+b]);if(p==2&&_.push(a.readASCII(n,m<5?r-4:v,m-1)),p==3)for(var b=0;b<m;b++)_.push(a.readUshort(n,(m<3?r-4:v)+2*b));if(p==4)for(var b=0;b<m;b++)_.push(a.readUint(n,(m<2?r-4:v)+4*b));if(p==5)for(var b=0;b<m;b++)_.push(a.readUint(n,v+b*8)/a.readUint(n,v+b*8+4));if(p==8)for(var b=0;b<m;b++)_.push(a.readShort(n,(m<3?r-4:v)+2*b));if(p==9)for(var b=0;b<m;b++)_.push(a.readInt(n,(m<2?r-4:v)+4*b));if(p==10)for(var b=0;b<m;b++)_.push(a.readInt(n,v+b*8)/a.readInt(n,v+b*8+4));if(p==11)for(var b=0;b<m;b++)_.push(a.readFloat(n,v+b*4));if(p==12)for(var b=0;b<m;b++)_.push(a.readDouble(n,v+b*8));if(m!=0&&_.length==0&&g("unknown TIFF tag type: ",p,"num:",m),i==330)for(var b=0;b<m;b++)u._readIFD(a,n,_[b],f)}return r},u._writeIFD=function(a,n,r,f){var c=Object.keys(f);a.writeUshort(n,r,c.length),r+=2;for(var o=r+c.length*12+4,l=0;l<c.length;l++){var i=c[l],p=parseInt(i.slice(1)),m=u.ttypes[p];if(m==null)throw new Error("unknown type of tag: "+p);var v=f[i];m==2&&(v=v[0]+"\0");var _=v.length;a.writeUshort(n,r,p),r+=2,a.writeUshort(n,r,m),r+=2,a.writeUint(n,r,_),r+=4;var b=[-1,1,1,2,4,8,0,0,0,0,0,0,8][m]*_,E=r;if(b>4&&(a.writeUint(n,r,o),E=o),m==2&&a.writeASCII(n,E,v),m==3)for(var x=0;x<_;x++)a.writeUshort(n,E+2*x,v[x]);if(m==4)for(var x=0;x<_;x++)a.writeUint(n,E+4*x,v[x]);if(m==5)for(var x=0;x<_;x++)a.writeUint(n,E+8*x,Math.round(v[x]*1e4)),a.writeUint(n,E+8*x+4,1e4);if(m==12)for(var x=0;x<_;x++)a.writeDouble(n,E+8*x,v[x]);b>4&&(b+=b&1,o+=b),r+=4}return[r,o]},u.toRGBA8=function(a){var n=a.width,r=a.height,f=n*r,c=f*4,o=a.data,l=new Uint8Array(f*4),i=a.t262[0],p=a.t258?Math.min(32,a.t258[0]):1,m=a.isLE?1:0;if(i==0)for(var v=Math.ceil(p*n/8),_=0;_<r;_++){var b=_*v,E=_*n;if(p==1)for(var x=0;x<n;x++){var M=E+x<<2,O=o[b+(x>>3)]>>7-(x&7)&1;l[M]=l[M+1]=l[M+2]=(1-O)*255,l[M+3]=255}if(p==4)for(var x=0;x<n;x++){var M=E+x<<2,O=o[b+(x>>1)]>>4-4*(x&1)&15;l[M]=l[M+1]=l[M+2]=(15-O)*17,l[M+3]=255}if(p==8)for(var x=0;x<n;x++){var M=E+x<<2,O=o[b+x];l[M]=l[M+1]=l[M+2]=255-O,l[M+3]=255}}else if(i==1)for(var v=Math.ceil(p*n/8),_=0;_<r;_++){var b=_*v,E=_*n;if(p==1)for(var x=0;x<n;x++){var M=E+x<<2,O=o[b+(x>>3)]>>7-(x&7)&1;l[M]=l[M+1]=l[M+2]=O*255,l[M+3]=255}if(p==2)for(var x=0;x<n;x++){var M=E+x<<2,O=o[b+(x>>2)]>>6-2*(x&3)&3;l[M]=l[M+1]=l[M+2]=O*85,l[M+3]=255}if(p==8)for(var x=0;x<n;x++){var M=E+x<<2,O=o[b+x];l[M]=l[M+1]=l[M+2]=O,l[M+3]=255}if(p==16)for(var x=0;x<n;x++){var M=E+x<<2,O=o[b+(2*x+m)];l[M]=l[M+1]=l[M+2]=Math.min(255,O),l[M+3]=255}}else if(i==2)if(p==8)if(a.t338)if(a.t338[0]>0)for(var x=0;x<c;x++)l[x]=o[x];else for(var x=0;x<c;x+=4)l[x]=o[x],l[x+1]=o[x+1],l[x+2]=o[x+2],l[x+3]=255;else{var j=a.t258?a.t258.length:3;if(j==4)for(var x=0;x<c;x++)l[x]=o[x];if(j==3)for(var x=0;x<f;x++){var M=x<<2,T=x*3;l[M]=o[T],l[M+1]=o[T+1],l[M+2]=o[T+2],l[M+3]=255}}else for(var x=0;x<f;x++){var M=x<<2,T=x*6;l[M]=o[T],l[M+1]=o[T+2],l[M+2]=o[T+4],l[M+3]=255}else if(i==3)for(var U=a.t320,x=0;x<f;x++){var M=x<<2,H=o[x];l[M]=U[H]>>8,l[M+1]=U[256+H]>>8,l[M+2]=U[512+H]>>8,l[M+3]=255}else if(i==5)for(var j=a.t258?a.t258.length:4,D=j>4?1:0,x=0;x<f;x++){var M=x<<2,P=x*j,B=255-o[P],X=255-o[P+1],V=255-o[P+2],q=(255-o[P+3])*(1/255);l[M]=~~(B*q+.5),l[M+1]=~~(X*q+.5),l[M+2]=~~(V*q+.5),l[M+3]=255*(1-D)+o[P+4]*D}else g("Unknown Photometric interpretation: "+i);return l},u.replaceIMG=function(){for(var a=document.getElementsByTagName("img"),n=0;n<a.length;n++){var r=a[n],f=r.getAttribute("src");if(f!=null){var c=f.split(".").pop().toLowerCase();if(!(c!="tif"&&c!="tiff")){var o=new XMLHttpRequest;u._xhrs.push(o),u._imgs.push(r),o.open("GET",f),o.responseType="arraybuffer",o.onload=u._imgLoaded,o.send()}}}},u._xhrs=[],u._imgs=[],u._imgLoaded=function(a){var n=a.target.response,r=u.decode(n),f=r[0];u.decodeImages(n,r);var c=u.toRGBA8(f),o=f.width,l=f.height,i=u._xhrs.indexOf(a.target),p=u._imgs[i];u._xhrs.splice(i,1),u._imgs.splice(i,1);var m=document.createElement("canvas");m.width=o,m.height=l;for(var v=m.getContext("2d"),_=v.createImageData(o,l),b=0;b<c.length;b++)_.data[b]=c[b];v.putImageData(_,0,0);for(var E=["style","class","id"],b=0;b<E.length;b++)m.setAttribute(E[b],p.getAttribute(E[b]));p.parentNode.replaceChild(m,p)},u._binBE={nextZero:function(a,n){for(;a[n]!=0;)n++;return n},readUshort:function(a,n){return a[n]<<8|a[n+1]},readShort:function(a,n){var r=u._binBE.ui8;return r[0]=a[n+1],r[1]=a[n+0],u._binBE.i16[0]},readInt:function(a,n){var r=u._binBE.ui8;return r[0]=a[n+3],r[1]=a[n+2],r[2]=a[n+1],r[3]=a[n+0],u._binBE.i32[0]},readUint:function(a,n){var r=u._binBE.ui8;return r[0]=a[n+3],r[1]=a[n+2],r[2]=a[n+1],r[3]=a[n+0],u._binBE.ui32[0]},readASCII:function(a,n,r){for(var f="",c=0;c<r;c++)f+=String.fromCharCode(a[n+c]);return f},readFloat:function(a,n){for(var r=u._binBE.ui8,f=0;f<4;f++)r[f]=a[n+3-f];return u._binBE.fl32[0]},readDouble:function(a,n){for(var r=u._binBE.ui8,f=0;f<8;f++)r[f]=a[n+7-f];return u._binBE.fl64[0]},writeUshort:function(a,n,r){a[n]=r>>8&255,a[n+1]=r&255},writeUint:function(a,n,r){a[n]=r>>24&255,a[n+1]=r>>16&255,a[n+2]=r>>8&255,a[n+3]=r>>0&255},writeASCII:function(a,n,r){for(var f=0;f<r.length;f++)a[n+f]=r.charCodeAt(f)},writeDouble:function(a,n,r){u._binBE.fl64[0]=r;for(var f=0;f<8;f++)a[n+f]=u._binBE.ui8[7-f]}},u._binBE.ui8=new Uint8Array(8),u._binBE.i16=new Int16Array(u._binBE.ui8.buffer),u._binBE.i32=new Int32Array(u._binBE.ui8.buffer),u._binBE.ui32=new Uint32Array(u._binBE.ui8.buffer),u._binBE.fl32=new Float32Array(u._binBE.ui8.buffer),u._binBE.fl64=new Float64Array(u._binBE.ui8.buffer),u._binLE={nextZero:u._binBE.nextZero,readUshort:function(a,n){return a[n+1]<<8|a[n]},readShort:function(a,n){var r=u._binBE.ui8;return r[0]=a[n+0],r[1]=a[n+1],u._binBE.i16[0]},readInt:function(a,n){var r=u._binBE.ui8;return r[0]=a[n+0],r[1]=a[n+1],r[2]=a[n+2],r[3]=a[n+3],u._binBE.i32[0]},readUint:function(a,n){var r=u._binBE.ui8;return r[0]=a[n+0],r[1]=a[n+1],r[2]=a[n+2],r[3]=a[n+3],u._binBE.ui32[0]},readASCII:u._binBE.readASCII,readFloat:function(a,n){for(var r=u._binBE.ui8,f=0;f<4;f++)r[f]=a[n+f];return u._binBE.fl32[0]},readDouble:function(a,n){for(var r=u._binBE.ui8,f=0;f<8;f++)r[f]=a[n+f];return u._binBE.fl64[0]}},u._copyTile=function(a,n,r,f,c,o,l,i){for(var p=Math.min(n,c-l),m=Math.min(r,o-i),v=0;v<m;v++)for(var _=(i+v)*c+l,b=v*n,E=0;E<p;E++)f[_+E]=a[b+E]}})(y,d)})()}).call(this,A("_process"))},{_process:133,pako:86}],183:[function(A,W,S){(function(k){W.exports=y;function y(g,u){if(d("noDeprecation"))return g;var s=!1;function a(){if(!s){if(d("throwDeprecation"))throw new Error(u);d("traceDeprecation")?console.trace(u):console.warn(u),s=!0}return g.apply(this,arguments)}return a}function d(g){try{if(!k.localStorage)return!1}catch{return!1}var u=k.localStorage[g];return u==null?!1:String(u).toLowerCase()==="true"}}).call(this,typeof wt<"u"?wt:typeof self<"u"?self:typeof ge<"u"?ge:{})},{}],184:[function(A,W,S){arguments[4][26][0].apply(S,arguments)},{dup:26}],185:[function(A,W,S){arguments[4][27][0].apply(S,arguments)},{dup:27}],186:[function(A,W,S){arguments[4][28][0].apply(S,arguments)},{"./support/isBuffer":185,_process:133,dup:28,inherits:184}],187:[function(A,W,S){var k=A("global/window"),y=A("is-function"),d=A("parse-headers"),g=A("xtend");W.exports=n,W.exports.default=n,n.XMLHttpRequest=k.XMLHttpRequest||c,n.XDomainRequest="withCredentials"in new n.XMLHttpRequest?n.XMLHttpRequest:k.XDomainRequest,u(["get","put","post","patch","head","delete"],function(o){n[o==="delete"?"del":o]=function(l,i,p){return i=a(l,i,p),i.method=o.toUpperCase(),r(i)}});function u(o,l){for(var i=0;i<o.length;i++)l(o[i])}function s(o){for(var l in o)if(o.hasOwnProperty(l))return!1;return!0}function a(o,l,i){var p=o;return y(l)?(i=l,typeof o=="string"&&(p={uri:o})):p=g(l,{uri:o}),p.callback=i,p}function n(o,l,i){return l=a(o,l,i),r(l)}function r(o){if(typeof o.callback>"u")throw new Error("callback argument missing");var l=!1,i=function(X,V,q){l||(l=!0,o.callback(X,V,q))};function p(){b.readyState===4&&setTimeout(_,0)}function m(){var B=void 0;if(b.response?B=b.response:B=b.responseText||f(b),H)try{B=JSON.parse(B)}catch{}return B}function v(B){return clearTimeout(D),B instanceof Error||(B=new Error(""+(B||"Unknown XMLHttpRequest Error"))),B.statusCode=0,i(B,P)}function _(){if(!x){var B;clearTimeout(D),o.useXDR&&b.status===void 0?B=200:B=b.status===1223?204:b.status;var X=P,V=null;return B!==0?(X={body:m(),statusCode:B,method:O,headers:{},url:M,rawRequest:b},b.getAllResponseHeaders&&(X.headers=d(b.getAllResponseHeaders()))):V=new Error("Internal XMLHttpRequest Error"),i(V,X,X.body)}}var b=o.xhr||null;b||(o.cors||o.useXDR?b=new n.XDomainRequest:b=new n.XMLHttpRequest);var E,x,M=b.url=o.uri||o.url,O=b.method=o.method||"GET",j=o.body||o.data,T=b.headers=o.headers||{},U=!!o.sync,H=!1,D,P={body:void 0,headers:{},statusCode:0,method:O,url:M,rawRequest:b};if("json"in o&&o.json!==!1&&(H=!0,T.accept||T.Accept||(T.Accept="application/json"),O!=="GET"&&O!=="HEAD"&&(T["content-type"]||T["Content-Type"]||(T["Content-Type"]="application/json"),j=JSON.stringify(o.json===!0?j:o.json))),b.onreadystatechange=p,b.onload=_,b.onerror=v,b.onprogress=function(){},b.onabort=function(){x=!0},b.ontimeout=v,b.open(O,M,!U,o.username,o.password),U||(b.withCredentials=!!o.withCredentials),!U&&o.timeout>0&&(D=setTimeout(function(){if(!x){x=!0,b.abort("timeout");var B=new Error("XMLHttpRequest timeout");B.code="ETIMEDOUT",v(B)}},o.timeout)),b.setRequestHeader)for(E in T)T.hasOwnProperty(E)&&b.setRequestHeader(E,T[E]);else if(o.headers&&!s(o.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in o&&(b.responseType=o.responseType),"beforeSend"in o&&typeof o.beforeSend=="function"&&o.beforeSend(b),b.send(j||null),b}function f(o){try{if(o.responseType==="document")return o.responseXML;var l=o.responseXML&&o.responseXML.documentElement.nodeName==="parsererror";if(o.responseType===""&&!l)return o.responseXML}catch{}return null}function c(){}},{"global/window":71,"is-function":78,"parse-headers":106,xtend:189}],188:[function(A,W,S){W.exports=function(){return typeof self.DOMParser<"u"?function(y){var d=new self.DOMParser;return d.parseFromString(y,"application/xml")}:typeof self.ActiveXObject<"u"&&new self.ActiveXObject("Microsoft.XMLDOM")?function(y){var d=new self.ActiveXObject("Microsoft.XMLDOM");return d.async="false",d.loadXML(y),d}:function(y){var d=document.createElement("div");return d.innerHTML=y,d}}()},{}],189:[function(A,W,S){W.exports=y;var k=Object.prototype.hasOwnProperty;function y(){for(var d={},g=0;g<arguments.length;g++){var u=arguments[g];for(var s in u)k.call(u,s)&&(d[s]=u[s])}return d}},{}],190:[function(A,W,S){Object.defineProperty(S,"__esModule",{value:!0}),S.srcOver=k,S.dstOver=y,S.multiply=d,S.add=g,S.screen=u,S.overlay=s,S.darken=a,S.lighten=n,S.hardLight=r,S.difference=f,S.exclusion=c;function k(o,l){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o.a*=i;var p=l.a+o.a-l.a*o.a,m=(o.r*o.a+l.r*l.a*(1-o.a))/p,v=(o.g*o.a+l.g*l.a*(1-o.a))/p,_=(o.b*o.a+l.b*l.a*(1-o.a))/p;return{r:m,g:v,b:_,a:p}}function y(o,l){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o.a*=i;var p=l.a+o.a-l.a*o.a,m=(l.r*l.a+o.r*o.a*(1-l.a))/p,v=(l.g*l.a+o.g*o.a*(1-l.a))/p,_=(l.b*l.a+o.b*o.a*(1-l.a))/p;return{r:m,g:v,b:_,a:p}}function d(o,l){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o.a*=i;var p=l.a+o.a-l.a*o.a,m=o.r*o.a,v=o.g*o.a,_=o.b*o.a,b=l.r*l.a,E=l.g*l.a,x=l.b*l.a,M=(m*b+m*(1-l.a)+b*(1-o.a))/p,O=(v*E+v*(1-l.a)+E*(1-o.a))/p,j=(_*x+_*(1-l.a)+x*(1-o.a))/p;return{r:M,g:O,b:j,a:p}}function g(o,l){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o.a*=i;var p=l.a+o.a-l.a*o.a,m=o.r*o.a,v=o.g*o.a,_=o.b*o.a,b=l.r*l.a,E=l.g*l.a,x=l.b*l.a,M=(m+b)/p,O=(v+E)/p,j=(_+x)/p;return{r:M,g:O,b:j,a:p}}function u(o,l){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o.a*=i;var p=l.a+o.a-l.a*o.a,m=o.r*o.a,v=o.g*o.a,_=o.b*o.a,b=l.r*l.a,E=l.g*l.a,x=l.b*l.a,M=(m*l.a+b*o.a-m*b+m*(1-l.a)+b*(1-o.a))/p,O=(v*l.a+E*o.a-v*E+v*(1-l.a)+E*(1-o.a))/p,j=(_*l.a+x*o.a-_*x+_*(1-l.a)+x*(1-o.a))/p;return{r:M,g:O,b:j,a:p}}function s(o,l){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o.a*=i;var p=l.a+o.a-l.a*o.a,m=o.r*o.a,v=o.g*o.a,_=o.b*o.a,b=l.r*l.a,E=l.g*l.a,x=l.b*l.a,M=(2*b<=l.a?2*m*b+m*(1-l.a)+b*(1-o.a):m*(1+l.a)+b*(1+o.a)-2*b*m-l.a*o.a)/p,O=(2*E<=l.a?2*v*E+v*(1-l.a)+E*(1-o.a):v*(1+l.a)+E*(1+o.a)-2*E*v-l.a*o.a)/p,j=(2*x<=l.a?2*_*x+_*(1-l.a)+x*(1-o.a):_*(1+l.a)+x*(1+o.a)-2*x*_-l.a*o.a)/p;return{r:M,g:O,b:j,a:p}}function a(o,l){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o.a*=i;var p=l.a+o.a-l.a*o.a,m=o.r*o.a,v=o.g*o.a,_=o.b*o.a,b=l.r*l.a,E=l.g*l.a,x=l.b*l.a,M=(Math.min(m*l.a,b*o.a)+m*(1-l.a)+b*(1-o.a))/p,O=(Math.min(v*l.a,E*o.a)+v*(1-l.a)+E*(1-o.a))/p,j=(Math.min(_*l.a,x*o.a)+_*(1-l.a)+x*(1-o.a))/p;return{r:M,g:O,b:j,a:p}}function n(o,l){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o.a*=i;var p=l.a+o.a-l.a*o.a,m=o.r*o.a,v=o.g*o.a,_=o.b*o.a,b=l.r*l.a,E=l.g*l.a,x=l.b*l.a,M=(Math.max(m*l.a,b*o.a)+m*(1-l.a)+b*(1-o.a))/p,O=(Math.max(v*l.a,E*o.a)+v*(1-l.a)+E*(1-o.a))/p,j=(Math.max(_*l.a,x*o.a)+_*(1-l.a)+x*(1-o.a))/p;return{r:M,g:O,b:j,a:p}}function r(o,l){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o.a*=i;var p=l.a+o.a-l.a*o.a,m=o.r*o.a,v=o.g*o.a,_=o.b*o.a,b=l.r*l.a,E=l.g*l.a,x=l.b*l.a,M=(2*m<=o.a?2*m*b+m*(1-l.a)+b*(1-o.a):m*(1+l.a)+b*(1+o.a)-2*b*m-l.a*o.a)/p,O=(2*v<=o.a?2*v*E+v*(1-l.a)+E*(1-o.a):v*(1+l.a)+E*(1+o.a)-2*E*v-l.a*o.a)/p,j=(2*_<=o.a?2*_*x+_*(1-l.a)+x*(1-o.a):_*(1+l.a)+x*(1+o.a)-2*x*_-l.a*o.a)/p;return{r:M,g:O,b:j,a:p}}function f(o,l){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o.a*=i;var p=l.a+o.a-l.a*o.a,m=o.r*o.a,v=o.g*o.a,_=o.b*o.a,b=l.r*l.a,E=l.g*l.a,x=l.b*l.a,M=(m+b-2*Math.min(m*l.a,b*o.a))/p,O=(v+E-2*Math.min(v*l.a,E*o.a))/p,j=(_+x-2*Math.min(_*l.a,x*o.a))/p;return{r:M,g:O,b:j,a:p}}function c(o,l){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o.a*=i;var p=l.a+o.a-l.a*o.a,m=o.r*o.a,v=o.g*o.a,_=o.b*o.a,b=l.r*l.a,E=l.g*l.a,x=l.b*l.a,M=(m*l.a+b*o.a-2*m*b+m*(1-l.a)+b*(1-o.a))/p,O=(v*l.a+E*o.a-2*v*E+v*(1-l.a)+E*(1-o.a))/p,j=(_*l.a+x*o.a-2*_*x+_*(1-l.a)+x*(1-o.a))/p;return{r:M,g:O,b:j,a:p}}},{}],191:[function(A,W,S){var k=A("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(S,"__esModule",{value:!0}),S.default=u;var y=A("@jimp/utils"),d=k(A("../constants")),g=k(A("./composite-modes"));function u(s,a,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},f=arguments.length>4?arguments[4]:void 0;if(typeof r=="function"&&(f=r,r={}),!(s instanceof this.constructor))return y.throwError.call(this,"The source must be a Jimp image",f);if(typeof a!="number"||typeof n!="number")return y.throwError.call(this,"x and y must be numbers",f);var c=r,o=c.mode,l=c.opacitySource,i=c.opacityDest;o||(o=d.BLEND_SOURCE_OVER),(typeof l!="number"||l<0||l>1)&&(l=1),(typeof i!="number"||i<0||i>1)&&(i=1);var p=g[o];a=Math.round(a),n=Math.round(n);var m=this;return i!==1&&m.opacity(i),s.scanQuiet(0,0,s.bitmap.width,s.bitmap.height,function(v,_,b){var E=m.getPixelIndex(a+v,n+_,d.EDGE_CROP),x=p({r:this.bitmap.data[b+0]/255,g:this.bitmap.data[b+1]/255,b:this.bitmap.data[b+2]/255,a:this.bitmap.data[b+3]/255},{r:m.bitmap.data[E+0]/255,g:m.bitmap.data[E+1]/255,b:m.bitmap.data[E+2]/255,a:m.bitmap.data[E+3]/255},l);m.bitmap.data[E+0]=this.constructor.limit255(x.r*255),m.bitmap.data[E+1]=this.constructor.limit255(x.g*255),m.bitmap.data[E+2]=this.constructor.limit255(x.b*255),m.bitmap.data[E+3]=this.constructor.limit255(x.a*255)}),(0,y.isNodePattern)(f)&&f.call(this,null,this),this}W.exports=S.default},{"../constants":192,"./composite-modes":190,"@babel/runtime/helpers/interopRequireWildcard":12,"@jimp/utils":235}],192:[function(A,W,S){Object.defineProperty(S,"__esModule",{value:!0}),S.EDGE_CROP=S.EDGE_WRAP=S.EDGE_EXTEND=S.BLEND_EXCLUSION=S.BLEND_DIFFERENCE=S.BLEND_HARDLIGHT=S.BLEND_LIGHTEN=S.BLEND_DARKEN=S.BLEND_OVERLAY=S.BLEND_SCREEN=S.BLEND_ADD=S.BLEND_MULTIPLY=S.BLEND_DESTINATION_OVER=S.BLEND_SOURCE_OVER=S.VERTICAL_ALIGN_BOTTOM=S.VERTICAL_ALIGN_MIDDLE=S.VERTICAL_ALIGN_TOP=S.HORIZONTAL_ALIGN_RIGHT=S.HORIZONTAL_ALIGN_CENTER=S.HORIZONTAL_ALIGN_LEFT=S.AUTO=void 0;var k=-1;S.AUTO=k;var y=1;S.HORIZONTAL_ALIGN_LEFT=y;var d=2;S.HORIZONTAL_ALIGN_CENTER=d;var g=4;S.HORIZONTAL_ALIGN_RIGHT=g;var u=8;S.VERTICAL_ALIGN_TOP=u;var s=16;S.VERTICAL_ALIGN_MIDDLE=s;var a=32;S.VERTICAL_ALIGN_BOTTOM=a;var n="srcOver";S.BLEND_SOURCE_OVER=n;var r="dstOver";S.BLEND_DESTINATION_OVER=r;var f="multiply";S.BLEND_MULTIPLY=f;var c="add";S.BLEND_ADD=c;var o="screen";S.BLEND_SCREEN=o;var l="overlay";S.BLEND_OVERLAY=l;var i="darken";S.BLEND_DARKEN=i;var p="lighten";S.BLEND_LIGHTEN=p;var m="hardLight";S.BLEND_HARDLIGHT=m;var v="difference";S.BLEND_DIFFERENCE=v;var _="exclusion";S.BLEND_EXCLUSION=_;var b=1;S.EDGE_EXTEND=b;var E=2;S.EDGE_WRAP=E;var x=3;S.EDGE_CROP=x},{}],193:[function(A,W,S){(function(k){var y=A("@babel/runtime/helpers/interopRequireWildcard"),d=A("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.addConstants=_e,S.addJimpMethods=Re,S.jimpEvMethod=he,S.jimpEvChange=fe,Object.defineProperty(S,"addType",{enumerable:!0,get:function(){return U.addType}}),S.default=void 0;for(var g=d(A("@babel/runtime/helpers/construct")),u=d(A("@babel/runtime/helpers/slicedToArray")),s=d(A("@babel/runtime/helpers/classCallCheck")),a=d(A("@babel/runtime/helpers/createClass")),n=d(A("@babel/runtime/helpers/possibleConstructorReturn")),r=d(A("@babel/runtime/helpers/getPrototypeOf")),f=d(A("@babel/runtime/helpers/assertThisInitialized")),c=d(A("@babel/runtime/helpers/inherits")),o=d(A("@babel/runtime/helpers/defineProperty")),l=d(A("@babel/runtime/helpers/typeof")),i=d(A("fs")),p=d(A("path")),m=d(A("events")),v=A("@jimp/utils"),_=d(A("any-base")),b=d(A("mkdirp")),E=d(A("pixelmatch")),x=d(A("tinycolor2")),M=d(A("./modules/phash")),O=d(A("./request")),j=d(A("./composite")),T=d(A("./utils/promisify")),U=y(A("./utils/mime")),H=A("./utils/image-bitmap"),D=y(A("./constants")),P="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",B=[NaN,NaN],X=2;X<65;X++){var V=(0,_.default)(_.default.BIN,P.slice(0,X))(new Array(65).join("1"));B.push(V.length)}function q(){}function ee(oe){return Object.prototype.toString.call(oe).toLowerCase().indexOf("arraybuffer")>-1}function Z(oe){for(var Q=k.alloc(oe.byteLength),I=new Uint8Array(oe),L=0;L<Q.length;++L)Q[L]=I[L];return Q}function J(oe,Q){(0,O.default)(oe,function(I,L,te){if(I)return Q(I);if("headers"in L&&"location"in L.headers)return oe.url=L.headers.location,J(oe,Q);if((0,l.default)(te)==="object"&&k.isBuffer(te))return Q(null,te);var $="Could not load Buffer from <"+oe.url+"> (HTTP: "+L.statusCode+")";return new Error($)})}function K(oe,Q){i.default&&typeof i.default.readFile=="function"&&!oe.match(/^(http|ftp)s?:\/\/./)?i.default.readFile(oe,Q):J({url:oe},Q)}function re(oe){return oe&&(0,l.default)(oe)==="object"&&typeof oe.width=="number"&&typeof oe.height=="number"&&(k.isBuffer(oe.data)||oe.data instanceof Uint8Array||typeof Uint8ClampedArray=="function"&&oe.data instanceof Uint8ClampedArray)&&(oe.data.length===oe.width*oe.height*4||oe.data.length===oe.width*oe.height*3)}function ue(oe){if(oe.length%3!==0)throw new Error("Buffer length is incorrect");for(var Q=k.allocUnsafe(oe.length/3*4),I=0,L=0;L<oe.length;L++)Q[I]=oe[L],(L+1)%3===0&&(Q[++I]=255),I++;return Q}var ce={data:null,width:null,height:null},ve=function(oe){(0,c.default)(Q,oe);function Q(){for(var I,L=arguments.length,te=new Array(L),$=0;$<L;$++)te[$]=arguments[$];(0,s.default)(this,Q),I=(0,n.default)(this,(0,r.default)(Q).call(this)),(0,o.default)((0,f.default)(I),"bitmap",ce),(0,o.default)((0,f.default)(I),"_background",0),(0,o.default)((0,f.default)(I),"_originalMime",Q.MIME_PNG),(0,o.default)((0,f.default)(I),"_exif",null),(0,o.default)((0,f.default)(I),"_rgba",!0),(0,o.default)((0,f.default)(I),"writeAsync",function($e){return(0,T.default)(I.write,(0,f.default)(I),$e)}),(0,o.default)((0,f.default)(I),"getBase64Async",function($e){return(0,T.default)(I.getBase64,(0,f.default)(I),$e)}),(0,o.default)((0,f.default)(I),"getBuffer",H.getBuffer),(0,o.default)((0,f.default)(I),"getBufferAsync",H.getBufferAsync),(0,o.default)((0,f.default)(I),"getPixelColour",I.getPixelColor),(0,o.default)((0,f.default)(I),"setPixelColour",I.setPixelColor);var N=(0,f.default)(I),C=q;ee(te[0])&&(te[0]=Z(te[0]));function ie(){for(var $e=arguments.length,G=new Array($e),be=0;be<$e;be++)G[be]=arguments[be];var Se=G[0],Le=Se||{};Le.methodName="constructor",setTimeout(function(){var we;Se&&C===q?N.emitError("constructor",Se):Se||N.emitMulti("constructor","initialized"),(we=C).call.apply(we,[N].concat(G))},1)}if(typeof te[0]=="number"&&typeof te[1]=="number"||parseInt(te[0],10)&&parseInt(te[1],10)){var de=parseInt(te[0],10),xe=parseInt(te[1],10);if(C=te[2],typeof te[2]=="number"&&(I._background=te[2],C=te[3]),typeof te[2]=="string"&&(I._background=Q.cssColorToHex(te[2]),C=te[3]),typeof C>"u"&&(C=q),typeof C!="function")return(0,n.default)(I,v.throwError.call((0,f.default)(I),"cb must be a function",ie));I.bitmap={data:k.alloc(de*xe*4),width:de,height:xe};for(var Me=0;Me<I.bitmap.data.length;Me+=4)I.bitmap.data.writeUInt32BE(I._background,Me);ie(null,(0,f.default)(I))}else if((0,l.default)(te[0])==="object"&&te[0].url){if(C=te[1]||q,typeof C!="function")return(0,n.default)(I,v.throwError.call((0,f.default)(I),"cb must be a function",ie));J(te[0],function($e,G){if($e)return v.throwError.call((0,f.default)(I),$e,ie);I.parseBitmap(G,te[0].url,ie)})}else if(te[0]instanceof Q){var je=te[0];if(C=te[1],typeof C>"u"&&(C=q),typeof C!="function")return(0,n.default)(I,v.throwError.call((0,f.default)(I),"cb must be a function",ie));I.bitmap={data:k.from(je.bitmap.data),width:je.bitmap.width,height:je.bitmap.height},I._quality=je._quality,I._deflateLevel=je._deflateLevel,I._deflateStrategy=je._deflateStrategy,I._filterType=je._filterType,I._rgba=je._rgba,I._background=je._background,I._originalMime=je._originalMime,ie(null,(0,f.default)(I))}else if(re(te[0])){var Ze=te[0];C=te[1]||q;var He=Ze.width*Ze.height*4===Ze.data.length,Ve=He?k.from(Ze.data):ue(Ze.data);I.bitmap={data:Ve,width:Ze.width,height:Ze.height},ie(null,(0,f.default)(I))}else if(typeof te[0]=="string"){var We=te[0];if(C=te[1],typeof C>"u"&&(C=q),typeof C!="function")return(0,n.default)(I,v.throwError.call((0,f.default)(I),"cb must be a function",ie));K(We,function($e,G){if($e)return v.throwError.call((0,f.default)(I),$e,ie);I.parseBitmap(G,We,ie)})}else if((0,l.default)(te[0])==="object"&&k.isBuffer(te[0])){var Ue=te[0];if(C=te[1],typeof C!="function")return(0,n.default)(I,v.throwError.call((0,f.default)(I),"cb must be a function",ie));I.parseBitmap(Ue,null,ie)}else{C=te[te.length-1],typeof C!="function"&&(C=te[te.length-2],typeof C!="function"&&(C=q));var et=Q.__extraConstructors.find(function($e){return $e.test.apply($e,te)});if(et)new Promise(function($e,G){var be;return(be=et.run).call.apply(be,[(0,f.default)(I),$e,G].concat(te))}).then(function(){return ie(null,(0,f.default)(I))}).catch(ie);else return(0,n.default)(I,v.throwError.call((0,f.default)(I),"No matching constructor overloading was found. Please see the docs for how to call the Jimp constructor.",ie))}return I}return(0,a.default)(Q,[{key:"parseBitmap",value:function(L,te,$){H.parseBitmap.call(this,L,null,$)}},{key:"rgba",value:function(L,te){return typeof L!="boolean"?v.throwError.call(this,"bool must be a boolean, true for RGBA or false for RGB",te):(this._rgba=L,(0,v.isNodePattern)(te)&&te.call(this,null,this),this)}},{key:"emitMulti",value:function(L,te){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};$=Object.assign($,{methodName:L,eventName:te}),this.emit("any",$),L&&this.emit(L,$),this.emit(te,$)}},{key:"emitError",value:function(L,te){this.emitMulti(L,"error",te)}},{key:"getHeight",value:function(){return this.bitmap.height}},{key:"getWidth",value:function(){return this.bitmap.width}},{key:"inspect",value:function(){return"<Jimp "+(this.bitmap===ce?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}},{key:"toString",value:function(){return"[object Jimp]"}},{key:"getMIME",value:function(){var L=this._originalMime||Q.MIME_PNG;return L}},{key:"getExtension",value:function(){var L=this.getMIME();return U.getExtension(L)}},{key:"write",value:function(L,te){var $=this;if(!i.default||!i.default.createWriteStream)throw new Error("Cant access the filesystem. You can use the getBase64 method.");if(typeof L!="string")return v.throwError.call(this,"path must be a string",te);if(typeof te>"u"&&(te=q),typeof te!="function")return v.throwError.call(this,"cb must be a function",te);var N=U.getType(L)||this.getMIME(),C=p.default.parse(L);return C.dir&&b.default.sync(C.dir),this.getBuffer(N,function(ie,de){if(ie)return v.throwError.call($,ie,te);var xe=i.default.createWriteStream(L);xe.on("open",function(){xe.write(de),xe.end()}).on("error",function(Me){return v.throwError.call($,Me,te)}),xe.on("finish",function(){te.call($,null,$)})}),this}},{key:"getBase64",value:function(L,te){return L===Q.AUTO&&(L=this.getMIME()),typeof L!="string"?v.throwError.call(this,"mime must be a string",te):typeof te!="function"?v.throwError.call(this,"cb must be a function",te):(this.getBuffer(L,function($,N){if($)return v.throwError.call(this,$,te);var C="data:"+L+";base64,"+N.toString("base64");te.call(this,null,C)}),this)}},{key:"hash",value:function(L,te){if(L=L||64,typeof L=="function"&&(te=L,L=64),typeof L!="number")return v.throwError.call(this,"base must be a number",te);if(L<2||L>64)return v.throwError.call(this,"base must be a number between 2 and 64",te);var $=this.pHash();for($=(0,_.default)(_.default.BIN,P.slice(0,L))($);$.length<B[L];)$="0"+$;return(0,v.isNodePattern)(te)&&te.call(this,null,$),$}},{key:"pHash",value:function(){var L=new M.default;return L.getHash(this)}},{key:"distanceFromHash",value:function(L){var te=new M.default,$=te.getHash(this);return te.distance($,L)}},{key:"getPixelIndex",value:function(L,te,$,N){var C,ie;if(typeof $=="function"&&typeof N>"u"&&(N=$,$=null),$||($=Q.EDGE_EXTEND),typeof L!="number"||typeof te!="number")return v.throwError.call(this,"x and y must be numbers",N);L=Math.round(L),te=Math.round(te),C=L,ie=te,$===Q.EDGE_EXTEND&&(L<0&&(C=0),L>=this.bitmap.width&&(C=this.bitmap.width-1),te<0&&(ie=0),te>=this.bitmap.height&&(ie=this.bitmap.height-1)),$===Q.EDGE_WRAP&&(L<0&&(C=this.bitmap.width+L),L>=this.bitmap.width&&(C=L%this.bitmap.width),te<0&&(C=this.bitmap.height+te),te>=this.bitmap.height&&(ie=te%this.bitmap.height));var de=this.bitmap.width*ie+C<<2;return(C<0||C>=this.bitmap.width)&&(de=-1),(ie<0||ie>=this.bitmap.height)&&(de=-1),(0,v.isNodePattern)(N)&&N.call(this,null,de),de}},{key:"getPixelColor",value:function(L,te,$){if(typeof L!="number"||typeof te!="number")return v.throwError.call(this,"x and y must be numbers",$);L=Math.round(L),te=Math.round(te);var N=this.getPixelIndex(L,te),C=this.bitmap.data.readUInt32BE(N);return(0,v.isNodePattern)($)&&$.call(this,null,C),C}},{key:"setPixelColor",value:function(L,te,$,N){if(typeof L!="number"||typeof te!="number"||typeof $!="number")return v.throwError.call(this,"hex, x and y must be numbers",N);te=Math.round(te),$=Math.round($);var C=this.getPixelIndex(te,$);return this.bitmap.data.writeUInt32BE(L,C),(0,v.isNodePattern)(N)&&N.call(this,null,this),this}},{key:"hasAlpha",value:function(){for(var L=0;L<this.bitmap.height;L++)for(var te=0;te<this.bitmap.width;te++){var $=this.bitmap.width*L+te<<2,N=this.bitmap.data[$+3];if(N!==255)return!0}return!1}},{key:"scanIterator",value:function(L,te,$,N){return typeof L!="number"||typeof te!="number"?v.throwError.call(this,"x and y must be numbers"):typeof $!="number"||typeof N!="number"?v.throwError.call(this,"w and h must be numbers"):(0,v.scanIterator)(this,L,te,$,N)}}]),Q}(m.default);function _e(oe){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ve;Object.entries(oe).forEach(function(I){var L=(0,u.default)(I,2),te=L[0],$=L[1];Q[te]=$})}function Re(oe){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ve;Object.entries(oe).forEach(function(I){var L=(0,u.default)(I,2),te=L[0],$=L[1];Q.prototype[te]=$})}_e(D),Re({composite:j.default}),ve.__extraConstructors=[],ve.appendConstructorOption=function(oe,Q,I){ve.__extraConstructors.push({name:oe,test:Q,run:I})},ve.read=function(){for(var oe=arguments.length,Q=new Array(oe),I=0;I<oe;I++)Q[I]=arguments[I];return new Promise(function(L,te){(0,g.default)(ve,Q.concat([function($,N){$?te($):L(N)}]))})},ve.create=ve.read,ve.rgbaToInt=function(oe,Q,I,L,te){if(typeof oe!="number"||typeof Q!="number"||typeof I!="number"||typeof L!="number")return v.throwError.call(this,"r, g, b and a must be numbers",te);if(oe<0||oe>255)return v.throwError.call(this,"r must be between 0 and 255",te);if((Q<0||Q>255)&&v.throwError.call(this,"g must be between 0 and 255",te),I<0||I>255)return v.throwError.call(this,"b must be between 0 and 255",te);if(L<0||L>255)return v.throwError.call(this,"a must be between 0 and 255",te);oe=Math.round(oe),I=Math.round(I),Q=Math.round(Q),L=Math.round(L);var $=oe*Math.pow(256,3)+Q*Math.pow(256,2)+I*Math.pow(256,1)+L*Math.pow(256,0);return(0,v.isNodePattern)(te)&&te.call(this,null,$),$},ve.intToRGBA=function(oe,Q){if(typeof oe!="number")return v.throwError.call(this,"i must be a number",Q);var I={};return I.r=Math.floor(oe/Math.pow(256,3)),I.g=Math.floor((oe-I.r*Math.pow(256,3))/Math.pow(256,2)),I.b=Math.floor((oe-I.r*Math.pow(256,3)-I.g*Math.pow(256,2))/Math.pow(256,1)),I.a=Math.floor((oe-I.r*Math.pow(256,3)-I.g*Math.pow(256,2)-I.b*Math.pow(256,1))/Math.pow(256,0)),(0,v.isNodePattern)(Q)&&Q.call(this,null,I),I},ve.cssColorToHex=function(oe){return oe=oe||0,typeof oe=="number"?Number(oe):parseInt((0,x.default)(oe).toHex8(),16)},ve.limit255=function(oe){return oe=Math.max(oe,0),oe=Math.min(oe,255),oe},ve.diff=function(oe,Q){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.1;if(!(oe instanceof ve)||!(Q instanceof ve))return v.throwError.call(this,"img1 and img2 must be an Jimp images");var L=oe.bitmap,te=Q.bitmap;if((L.width!==te.width||L.height!==te.height)&&(L.width*L.height>te.width*te.height?oe=oe.cloneQuiet().resize(te.width,te.height):Q=Q.cloneQuiet().resize(L.width,L.height)),typeof I!="number"||I<0||I>1)return v.throwError.call(this,"threshold must be a number between 0 and 1");var $=new ve(L.width,L.height,4294967295),N=(0,E.default)(L.data,te.data,$.bitmap.data,$.bitmap.width,$.bitmap.height,{threshold:I});return{percent:N/($.bitmap.width*$.bitmap.height),image:$}},ve.distance=function(oe,Q){var I=new M.default,L=I.getHash(oe),te=I.getHash(Q);return I.distance(L,te)},ve.compareHashes=function(oe,Q){var I=new M.default;return I.distance(oe,Q)},ve.colorDiff=function(oe,Q){var I=function(N){return Math.pow(N,2)},L=Math.max,te=255*255*3;return oe.a!==0&&!oe.a&&(oe.a=255),Q.a!==0&&!Q.a&&(Q.a=255),(L(I(oe.r-Q.r),I(oe.r-Q.r-oe.a+Q.a))+L(I(oe.g-Q.g),I(oe.g-Q.g-oe.a+Q.a))+L(I(oe.b-Q.b),I(oe.b-Q.b-oe.a+Q.a)))/te};function he(oe,Q,I){var L="before-"+Q,te=Q.replace(/e$/,"")+"ed";ve.prototype[oe]=function(){for(var $,N=arguments.length,C=new Array(N),ie=0;ie<N;ie++)C[ie]=arguments[ie];var de=C[I.length-1],xe=this;typeof de=="function"?($=function(){for(var Ze=arguments.length,He=new Array(Ze),Ve=0;Ve<Ze;Ve++)He[Ve]=arguments[Ve];var We=He[0],Ue=He[1];We?xe.emitError(oe,We):xe.emitMulti(oe,te,(0,o.default)({},oe,Ue)),de.apply(this,He)},C[C.length-1]=$):$=!1,this.emitMulti(oe,L);var Me;try{Me=I.apply(this,C),$||this.emitMulti(oe,te,(0,o.default)({},oe,Me))}catch(je){je.methodName=oe,this.emitError(oe,je)}return Me},ve.prototype[oe+"Quiet"]=I}he("clone","clone",function(oe){var Q=new ve(this);return(0,v.isNodePattern)(oe)&&oe.call(Q,null,Q),Q});function fe(oe,Q){he(oe,"change",Q)}fe("background",function(oe,Q){return typeof oe!="number"?v.throwError.call(this,"hex must be a hexadecimal rgba value",Q):(this._background=oe,(0,v.isNodePattern)(Q)&&Q.call(this,null,this),this)}),fe("scan",function(oe,Q,I,L,te,$){if(typeof oe!="number"||typeof Q!="number")return v.throwError.call(this,"x and y must be numbers",$);if(typeof I!="number"||typeof L!="number")return v.throwError.call(this,"w and h must be numbers",$);if(typeof te!="function")return v.throwError.call(this,"f must be a function",$);var N=(0,v.scan)(this,oe,Q,I,L,te);return(0,v.isNodePattern)($)&&$.call(this,null,N),N});{var ne;typeof ge<"u"&&(typeof ge>"u"?"undefined":(0,l.default)(ge))==="object"&&(ne=ge),typeof self<"u"&&(typeof self>"u"?"undefined":(0,l.default)(self))==="object"&&(ne=self),ne.Jimp=ve,ne.Buffer=k}var se=ve;S.default=se}).call(this,A("buffer").Buffer)},{"./composite":191,"./constants":192,"./modules/phash":194,"./request":195,"./utils/image-bitmap":196,"./utils/mime":197,"./utils/promisify":198,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/construct":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/possibleConstructorReturn":17,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,"any-base":23,buffer:48,events:52,fs:47,mkdirp:83,path:107,pixelmatch:109,tinycolor2:178}],194:[function(A,W,S){function k(s,a){this.size=this.size||s,this.smallerSize=this.smallerSize||a,g(this.size)}k.prototype.size=32,k.prototype.smallerSize=8,k.prototype.distance=function(s,a){for(var n=0,r=0;r<s.length;r++)s[r]!==a[r]&&n++;return n/s.length},k.prototype.getHash=function(s){s=s.clone().resize(this.size,this.size),s.grayscale();for(var a=[],n=0;n<s.bitmap.width;n++){a[n]=[];for(var r=0;r<s.bitmap.height;r++)a[n][r]=y(s.getPixelColor(n,r)).b}for(var f=u(a,this.size),c=0,o=0;o<this.smallerSize;o++)for(var l=0;l<this.smallerSize;l++)c+=f[o][l];for(var i=c/(this.smallerSize*this.smallerSize),p="",m=0;m<this.smallerSize;m++)for(var v=0;v<this.smallerSize;v++)p+=f[m][v]>i?"1":"0";return p};function y(s){var a={};return a.r=Math.floor(s/Math.pow(256,3)),a.g=Math.floor((s-a.r*Math.pow(256,3))/Math.pow(256,2)),a.b=Math.floor((s-a.r*Math.pow(256,3)-a.g*Math.pow(256,2))/Math.pow(256,1)),a.a=Math.floor((s-a.r*Math.pow(256,3)-a.g*Math.pow(256,2)-a.b*Math.pow(256,1))/Math.pow(256,0)),a}var d=[];function g(s){for(var a=1;a<s;a++)d[a]=1;d[0]=1/Math.sqrt(2)}function u(s,a){for(var n=a,r=[],f=0;f<n;f++){r[f]=[];for(var c=0;c<n;c++){for(var o=0,l=0;l<n;l++)for(var i=0;i<n;i++)o+=Math.cos((2*l+1)/(2*n)*f*Math.PI)*Math.cos((2*i+1)/(2*n)*c*Math.PI)*s[l][i];o*=d[f]*d[c]/4,r[f][c]=o}}return r}W.exports=k},{}],195:[function(A,W,S){(function(k,y){var d=A("@babel/runtime/helpers/interopRequireDefault");d(A("@babel/runtime/helpers/defineProperty")),d(A("@babel/runtime/helpers/extends")),k.browser,W.exports=function(g,u){var s=new XMLHttpRequest;s.open("GET",g.url,!0),s.responseType="arraybuffer",s.addEventListener("load",function(){if(s.status<400)try{var a=y.from(this.response);u(null,s,a)}catch(n){return u(new Error("Response is not a buffer for url "+g.url+". Error: "+n.message))}else u(new Error("HTTP Status "+s.status+" for url "+g.url))}),s.addEventListener("error",function(a){u(a)}),s.send()}}).call(this,A("_process"),A("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/extends":8,"@babel/runtime/helpers/interopRequireDefault":11,_process:133,buffer:48,phin:108}],196:[function(A,W,S){(function(k){var y=A("@babel/runtime/helpers/interopRequireWildcard"),d=A("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.parseBitmap=m,S.getBuffer=_,S.getBufferAsync=b;var g=d(A("@babel/runtime/helpers/slicedToArray")),u=d(A("file-type")),s=d(A("exif-parser")),a=A("@jimp/utils"),n=y(A("../constants")),r=y(A("./mime")),f=d(A("./promisify"));function c(E,x){var M=(0,u.default)(E);return M?M.mime:x?r.getType(x):null}function o(E){return E._exif&&E._exif.tags&&E._exif.tags.Orientation||1}function l(E){var x=E.getWidth(),M=E.getHeight();switch(o(E)){case 1:return null;case 2:return function(O,j){return[x-O-1,j]};case 3:return function(O,j){return[x-O-1,M-j-1]};case 4:return function(O,j){return[O,M-j-1]};case 5:return function(O,j){return[j,O]};case 6:return function(O,j){return[j,M-O-1]};case 7:return function(O,j){return[x-j-1,M-O-1]};case 8:return function(O,j){return[x-j-1,O]};default:return null}}function i(E,x,M,O){for(var j=E.bitmap.data,T=E.bitmap.width,U=k.alloc(j.length),H=0;H<x;H++)for(var D=0;D<M;D++){var P=O(H,D),B=(0,g.default)(P,2),X=B[0],V=B[1],q=x*D+H<<2,ee=T*V+X<<2,Z=j.readUInt32BE(ee);U.writeUInt32BE(Z,q)}E.bitmap.data=U,E.bitmap.width=x,E.bitmap.height=M}function p(E){if(!(o(E)<2)){var x=l(E),M=o(E)>4,O=M?E.bitmap.height:E.bitmap.width,j=M?E.bitmap.width:E.bitmap.height;i(E,O,j,x)}}function m(E,x,M){var O=c(E,x);if(typeof O!="string")return M(new Error("Could not find MIME for Buffer <"+x+">"));this._originalMime=O.toLowerCase();try{var j=this.getMIME();if(this.constructor.decoders[j])this.bitmap=this.constructor.decoders[j](E);else return a.throwError.call(this,"Unsupported MIME type: "+j,M)}catch(T){return M.call(this,T,this)}try{this._exif=s.default.create(E).parse(),p(this)}catch{}return M.call(this,null,this),this}function v(E,x){return new E(x.bitmap.width,x.bitmap.height,x._background).composite(x,0,0).bitmap}function _(E,x){if(E===n.AUTO&&(E=this.getMIME()),typeof E!="string")return a.throwError.call(this,"mime must be a string",x);if(typeof x!="function")return a.throwError.call(this,"cb must be a function",x);if(E=E.toLowerCase(),this._rgba&&this.constructor.hasAlpha[E]?this.bitmap.data=k.from(this.bitmap.data):this.bitmap.data=v(this.constructor,this).data,this.constructor.encoders[E]){var M=this.constructor.encoders[E](this);x.call(this,null,M)}else x.call(this,"Unsupported MIME type: "+E);return this}function b(E){return(0,f.default)(_,this,E)}}).call(this,A("buffer").Buffer)},{"../constants":192,"./mime":197,"./promisify":198,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@jimp/utils":235,buffer:48,"exif-parser":53,"file-type":62}],197:[function(A,W,S){Object.defineProperty(S,"__esModule",{value:!0}),S.getExtension=S.getType=S.addType=void 0;var k={},y=function(a){return Object.entries(k).find(function(n){return n[1].includes(a)})||[]},d=function(a,n){k[a]=n};S.addType=d;var g=function(a){var n=a.split("/").slice(-1),r=n[n.length-1].split(".").pop(),f=y(r);return f[0]};S.getType=g;var u=function(a){return(k[a.toLowerCase()]||[])[0]};S.getExtension=u},{}],198:[function(A,W,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var k=function(g,u){for(var s=arguments.length,a=new Array(s>2?s-2:0),n=2;n<s;n++)a[n-2]=arguments[n];return new Promise(function(r,f){a.push(function(c,o){c&&f(c),r(o)}),g.bind(u).apply(void 0,a)})},y=k;S.default=y,W.exports=S.default},{}],199:[function(A,W,S){var k=A("@babel/runtime/helpers/interopRequireWildcard"),y=A("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=r;var d=y(A("@babel/runtime/helpers/toConsumableArray")),g=y(A("@babel/runtime/helpers/defineProperty")),u=y(A("@babel/runtime/helpers/slicedToArray")),s=k(A("@jimp/core"));function a(f,c){var o=Object.keys(f);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(f);c&&(l=l.filter(function(i){return Object.getOwnPropertyDescriptor(f,i).enumerable})),o.push.apply(o,l)}return o}function n(f){for(var c=1;c<arguments.length;c++){var o=arguments[c]!=null?arguments[c]:{};c%2?a(o,!0).forEach(function(l){(0,g.default)(f,l,o[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(o)):a(o).forEach(function(l){Object.defineProperty(f,l,Object.getOwnPropertyDescriptor(o,l))})}return f}function r(f){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.default,o={hasAlpha:{},encoders:{},decoders:{},class:{},constants:{}};function l(m){Object.entries(m).forEach(function(v){var _=(0,u.default)(v,2),b=_[0],E=_[1];o[b]=n({},o[b],{},E)})}function i(m){var v=m();Array.isArray(v.mime)?s.addType.apply(void 0,(0,d.default)(v.mime)):Object.entries(v.mime).forEach(function(_){return s.addType.apply(void 0,(0,d.default)(_))}),delete v.mime,l(v)}function p(m){var v=m(s.jimpEvChange)||{};!v.class&&!v.constants?l({class:v}):l(v)}return f.types&&(f.types.forEach(i),c.decoders=n({},c.decoders,{},o.decoders),c.encoders=n({},c.encoders,{},o.encoders),c.hasAlpha=n({},c.hasAlpha,{},o.hasAlpha)),f.plugins&&f.plugins.forEach(p),(0,s.addJimpMethods)(o.class,c),(0,s.addConstants)(o.constants,c),s.default}W.exports=S.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/core":193}],200:[function(A,W,S){var k=A("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=k(A("@jimp/custom")),d=k(A("@jimp/types")),g=k(A("@jimp/plugins")),u=(0,y.default)({types:[d.default],plugins:[g.default]});S.default=u,W.exports=S.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/custom":199,"@jimp/plugins":228,"@jimp/types":234}],201:[function(A,W,S){var k=A("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=k(A("@babel/runtime/helpers/typeof")),d=A("@jimp/utils"),g=function(){return{blit:function(a,n,r,f,c,o,l,i){if(!(a instanceof this.constructor))return d.throwError.call(this,"The source must be a Jimp image",i);if(typeof n!="number"||typeof r!="number")return d.throwError.call(this,"x and y must be numbers",i);if(typeof f=="function")i=f,f=0,c=0,o=a.bitmap.width,l=a.bitmap.height;else if((0,y.default)(f)===(0,y.default)(c)&&(0,y.default)(c)===(0,y.default)(o)&&(0,y.default)(o)===(0,y.default)(l))f=f||0,c=c||0,o=o||a.bitmap.width,l=l||a.bitmap.height;else return d.throwError.call(this,"srcx, srcy, srcw, srch must be numbers",i);n=Math.round(n),r=Math.round(r),f=Math.round(f),c=Math.round(c),o=Math.round(o),l=Math.round(l);var p=this.bitmap.width,m=this.bitmap.height,v=this;return a.scanQuiet(f,c,o,l,function(_,b,E){var x=n+_-f,M=r+b-c;if(x>=0&&M>=0&&p-x>0&&m-M>0){var O=v.getPixelIndex(x,M),j={r:this.bitmap.data[E],g:this.bitmap.data[E+1],b:this.bitmap.data[E+2],a:this.bitmap.data[E+3]},T={r:v.bitmap.data[O],g:v.bitmap.data[O+1],b:v.bitmap.data[O+2],a:v.bitmap.data[O+3]};v.bitmap.data[O]=(j.a*(j.r-T.r)-T.r+255>>8)+T.r,v.bitmap.data[O+1]=(j.a*(j.g-T.g)-T.g+255>>8)+T.g,v.bitmap.data[O+2]=(j.a*(j.b-T.b)-T.b+255>>8)+T.b,v.bitmap.data[O+3]=this.constructor.limit255(T.a+j.a)}}),(0,d.isNodePattern)(i)&&i.call(this,null,this),this}}};S.default=g,W.exports=S.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235}],202:[function(A,W,S){Object.defineProperty(S,"__esModule",{value:!0}),S.shgTable=S.mulTable=void 0;var k=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1];S.mulTable=k;var y=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18];S.shgTable=y},{}],203:[function(A,W,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var k=A("@jimp/utils"),y=A("./blur-tables"),d=function(){return{blur:function(s,a){if(typeof s!="number")return k.throwError.call(this,"r must be a number",a);if(s<1)return k.throwError.call(this,"r must be greater than 0",a);for(var n,r,f,c,o,l,i,p,m,v,_,b,E,x,M=this.bitmap.width-1,O=this.bitmap.height-1,j=s+1,T=y.mulTable[s],U=y.shgTable[s],H=[],D=[],P=[],B=[],X=[],V=[],q=2;q-- >0;){for(b=0,E=0,l=0;l<this.bitmap.height;l++){for(n=this.bitmap.data[E]*j,r=this.bitmap.data[E+1]*j,f=this.bitmap.data[E+2]*j,c=this.bitmap.data[E+3]*j,i=1;i<=s;i++)p=E+((i>M?M:i)<<2),n+=this.bitmap.data[p++],r+=this.bitmap.data[p++],f+=this.bitmap.data[p++],c+=this.bitmap.data[p];for(o=0;o<this.bitmap.width;o++)H[b]=n,D[b]=r,P[b]=f,B[b]=c,l===0&&(X[o]=((p=o+j)<M?p:M)<<2,V[o]=(p=o-s)>0?p<<2:0),m=E+X[o],v=E+V[o],n+=this.bitmap.data[m++]-this.bitmap.data[v++],r+=this.bitmap.data[m++]-this.bitmap.data[v++],f+=this.bitmap.data[m++]-this.bitmap.data[v++],c+=this.bitmap.data[m]-this.bitmap.data[v],b++;E+=this.bitmap.width<<2}for(o=0;o<this.bitmap.width;o++){for(_=o,n=H[_]*j,r=D[_]*j,f=P[_]*j,c=B[_]*j,i=1;i<=s;i++)_+=i>O?0:this.bitmap.width,n+=H[_],r+=D[_],f+=P[_],c+=B[_];for(b=o<<2,l=0;l<this.bitmap.height;l++)x=c*T>>>U,this.bitmap.data[b+3]=x,x>255&&(this.bitmap.data[b+3]=255),x>0?(x=255/x,this.bitmap.data[b]=(n*T>>>U)*x,this.bitmap.data[b+1]=(r*T>>>U)*x,this.bitmap.data[b+2]=(f*T>>>U)*x):(this.bitmap.data[b+2]=0,this.bitmap.data[b+1]=0,this.bitmap.data[b]=0),o===0&&(X[l]=((p=l+j)<O?p:O)*this.bitmap.width,V[l]=(p=l-s)>0?p*this.bitmap.width:0),m=o+X[l],v=o+V[l],n+=H[m]-H[v],r+=D[m]-D[v],f+=P[m]-P[v],c+=B[m]-B[v],b+=this.bitmap.width<<2}}return(0,k.isNodePattern)(a)&&a.call(this,null,this),this}}};S.default=d,W.exports=S.default},{"./blur-tables":202,"@jimp/utils":235}],204:[function(A,W,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var k=A("@jimp/utils"),y=function(){return{circle:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;typeof u=="function"&&(s=u,u={});var a=u.radius||(this.bitmap.width>this.bitmap.height?this.bitmap.height:this.bitmap.width)/2,n={x:typeof u.x=="number"?u.x:this.bitmap.width/2,y:typeof u.y=="number"?u.y:this.bitmap.height/2};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(r,f,c){var o=Math.sqrt(Math.pow(r-n.x,2)+Math.pow(f-n.y,2));a-o<=0?this.bitmap.data[c+3]=0:a-o<1&&(this.bitmap.data[c+3]=255*(a-o))}),(0,k.isNodePattern)(s)&&s.call(this,null,this),this}}};S.default=y,W.exports=S.default},{"@jimp/utils":235}],205:[function(A,W,S){(function(k){var y=A("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var d=y(A("@babel/runtime/helpers/toConsumableArray")),g=y(A("tinycolor2")),u=A("@jimp/utils");function s(o,l,i,p){for(var m=[0,0,0],v=(l.length-1)/2,_=0;_<l.length;_+=1)for(var b=0;b<l[_].length;b+=1){var E=o.getPixelIndex(i+_-v,p+b-v);m[0]+=o.bitmap.data[E]*l[_][b],m[1]+=o.bitmap.data[E+1]*l[_][b],m[2]+=o.bitmap.data[E+2]*l[_][b]}return m}var a=function(l){return typeof l<"u"&&l!==null};function n(o){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(l,i,p){var m=parseInt(.2126*this.bitmap.data[p]+.7152*this.bitmap.data[p+1]+.0722*this.bitmap.data[p+2],10);this.bitmap.data[p]=m,this.bitmap.data[p+1]=m,this.bitmap.data[p+2]=m}),(0,u.isNodePattern)(o)&&o.call(this,null,this),this}function r(o,l){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:50;return{r:(l.r-o.r)*(i/100)+o.r,g:(l.g-o.g)*(i/100)+o.g,b:(l.b-o.b)*(i/100)+o.b}}function f(o,l){var i=this;return!o||!Array.isArray(o)?u.throwError.call(this,"actions must be an array",l):(o=o.map(function(p){return(p.apply==="xor"||p.apply==="mix")&&(p.params[0]=(0,g.default)(p.params[0]).toRgb()),p}),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(p,m,v){var _={r:i.bitmap.data[v],g:i.bitmap.data[v+1],b:i.bitmap.data[v+2]},b=function(x,M){return i.constructor.limit255(_[x]+M)};o.forEach(function(E){if(E.apply==="mix")_=r(_,E.params[0],E.params[1]);else if(E.apply==="tint")_=r(_,{r:255,g:255,b:255},E.params[0]);else if(E.apply==="shade")_=r(_,{r:0,g:0,b:0},E.params[0]);else if(E.apply==="xor")_={r:_.r^E.params[0].r,g:_.g^E.params[0].g,b:_.b^E.params[0].b};else if(E.apply==="red")_.r=b("r",E.params[0]);else if(E.apply==="green")_.g=b("g",E.params[0]);else if(E.apply==="blue")_.b=b("b",E.params[0]);else{var x;if(E.apply==="hue"&&(E.apply="spin"),_=(0,g.default)(_),!_[E.apply])return u.throwError.call(i,"action "+E.apply+" not supported",l);_=(x=_)[E.apply].apply(x,(0,d.default)(E.params)).toRgb()}}),i.bitmap.data[v]=_.r,i.bitmap.data[v+1]=_.g,i.bitmap.data[v+2]=_.b}),(0,u.isNodePattern)(l)&&l.call(this,null,this),this)}var c=function(){return{brightness:function(i,p){return typeof i!="number"?u.throwError.call(this,"val must be numbers",p):i<-1||i>1?u.throwError.call(this,"val must be a number between -1 and +1",p):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(m,v,_){i<0?(this.bitmap.data[_]=this.bitmap.data[_]*(1+i),this.bitmap.data[_+1]=this.bitmap.data[_+1]*(1+i),this.bitmap.data[_+2]=this.bitmap.data[_+2]*(1+i)):(this.bitmap.data[_]=this.bitmap.data[_]+(255-this.bitmap.data[_])*i,this.bitmap.data[_+1]=this.bitmap.data[_+1]+(255-this.bitmap.data[_+1])*i,this.bitmap.data[_+2]=this.bitmap.data[_+2]+(255-this.bitmap.data[_+2])*i)}),(0,u.isNodePattern)(p)&&p.call(this,null,this),this)},contrast:function(i,p){if(typeof i!="number")return u.throwError.call(this,"val must be numbers",p);if(i<-1||i>1)return u.throwError.call(this,"val must be a number between -1 and +1",p);var m=(i+1)/(1-i);function v(_){return _=Math.floor(m*(_-127)+127),_<0?0:_>255?255:_}return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(_,b,E){this.bitmap.data[E]=v(this.bitmap.data[E]),this.bitmap.data[E+1]=v(this.bitmap.data[E+1]),this.bitmap.data[E+2]=v(this.bitmap.data[E+2])}),(0,u.isNodePattern)(p)&&p.call(this,null,this),this},posterize:function(i,p){return typeof i!="number"?u.throwError.call(this,"n must be numbers",p):(i<2&&(i=2),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(m,v,_){this.bitmap.data[_]=Math.floor(this.bitmap.data[_]/255*(i-1))/(i-1)*255,this.bitmap.data[_+1]=Math.floor(this.bitmap.data[_+1]/255*(i-1))/(i-1)*255,this.bitmap.data[_+2]=Math.floor(this.bitmap.data[_+2]/255*(i-1))/(i-1)*255}),(0,u.isNodePattern)(p)&&p.call(this,null,this),this)},greyscale:n,grayscale:n,opacity:function(i,p){return typeof i!="number"?u.throwError.call(this,"f must be a number",p):i<0||i>1?u.throwError.call(this,"f must be a number from 0 to 1",p):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(m,v,_){var b=this.bitmap.data[_+3]*i;this.bitmap.data[_+3]=b}),(0,u.isNodePattern)(p)&&p.call(this,null,this),this)},sepia:function(i){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(p,m,v){var _=this.bitmap.data[v],b=this.bitmap.data[v+1],E=this.bitmap.data[v+2];_=_*.393+b*.769+E*.189,b=_*.349+b*.686+E*.168,E=_*.272+b*.534+E*.131,this.bitmap.data[v]=_<255?_:255,this.bitmap.data[v+1]=b<255?b:255,this.bitmap.data[v+2]=E<255?E:255}),(0,u.isNodePattern)(i)&&i.call(this,null,this),this},fade:function(i,p){return typeof i!="number"?u.throwError.call(this,"f must be a number",p):i<0||i>1?u.throwError.call(this,"f must be a number from 0 to 1",p):(this.opacity(1-i),(0,u.isNodePattern)(p)&&p.call(this,null,this),this)},convolution:function(i,p,m){typeof p=="function"&&typeof m>"u"&&(m=p,p=null),p||(p=this.constructor.EDGE_EXTEND);var v=k.from(this.bitmap.data),_=i.length,b=i[0].length,E=Math.floor(_/2),x=Math.floor(b/2),M=-E,O=-x,j,T,U,H,D,P,B,X,V,q;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(ee,Z,J){H=0,U=0,T=0;for(var K=M;K<=E;K++)for(var re=O;re<=x;re++)X=ee+re,V=Z+K,j=i[K+E][re+x],q=this.getPixelIndex(X,V,p),q===-1?(B=0,P=0,D=0):(D=this.bitmap.data[q+0],P=this.bitmap.data[q+1],B=this.bitmap.data[q+2]),T+=j*D,U+=j*P,H+=j*B;T<0&&(T=0),U<0&&(U=0),H<0&&(H=0),T>255&&(T=255),U>255&&(U=255),H>255&&(H=255),v[J+0]=T,v[J+1]=U,v[J+2]=H}),this.bitmap.data=v,(0,u.isNodePattern)(m)&&m.call(this,null,this),this},opaque:function(i){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(p,m,v){this.bitmap.data[v+3]=255}),(0,u.isNodePattern)(i)&&i.call(this,null,this),this},pixelate:function(i,p,m,v,_,b){if(typeof p=="function")b=p,_=null,v=null,m=null,p=null;else{if(typeof i!="number")return u.throwError.call(this,"size must be a number",b);if(a(p)&&typeof p!="number")return u.throwError.call(this,"x must be a number",b);if(a(m)&&typeof m!="number")return u.throwError.call(this,"y must be a number",b);if(a(v)&&typeof v!="number")return u.throwError.call(this,"w must be a number",b);if(a(_)&&typeof _!="number")return u.throwError.call(this,"h must be a number",b)}var E=[[1/16,2/16,1/16],[2/16,4/16,2/16],[1/16,2/16,1/16]];p=p||0,m=m||0,v=a(v)?v:this.bitmap.width-p,_=a(_)?_:this.bitmap.height-m;var x=this.cloneQuiet();return this.scanQuiet(p,m,v,_,function(M,O,j){M=i*Math.floor(M/i),O=i*Math.floor(O/i);var T=s(x,E,M,O);this.bitmap.data[j]=T[0],this.bitmap.data[j+1]=T[1],this.bitmap.data[j+2]=T[2]}),(0,u.isNodePattern)(b)&&b.call(this,null,this),this},convolute:function(i,p,m,v,_,b){if(!Array.isArray(i))return u.throwError.call(this,"the kernel must be an array",b);if(typeof p=="function")b=p,p=null,m=null,v=null,_=null;else{if(a(p)&&typeof p!="number")return u.throwError.call(this,"x must be a number",b);if(a(m)&&typeof m!="number")return u.throwError.call(this,"y must be a number",b);if(a(v)&&typeof v!="number")return u.throwError.call(this,"w must be a number",b);if(a(_)&&typeof _!="number")return u.throwError.call(this,"h must be a number",b)}var E=(i.length-1)/2;p=a(p)?p:E,m=a(m)?m:E,v=a(v)?v:this.bitmap.width-p,_=a(_)?_:this.bitmap.height-m;var x=this.cloneQuiet();return this.scanQuiet(p,m,v,_,function(M,O,j){var T=s(x,i,M,O);this.bitmap.data[j]=this.constructor.limit255(T[0]),this.bitmap.data[j+1]=this.constructor.limit255(T[1]),this.bitmap.data[j+2]=this.constructor.limit255(T[2])}),(0,u.isNodePattern)(b)&&b.call(this,null,this),this},color:f,colour:f}};S.default=c,W.exports=S.default}).call(this,A("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/utils":235,buffer:48,tinycolor2:178}],206:[function(A,W,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var k=A("@jimp/utils"),y=function(){return{contain:function(u,s,a,n,r){if(typeof u!="number"||typeof s!="number")return k.throwError.call(this,"w and h must be numbers",r);typeof a=="string"&&(typeof n=="function"&&typeof r>"u"&&(r=n),n=a,a=null),typeof a=="function"&&(typeof r>"u"&&(r=a),n=null,a=null),typeof n=="function"&&typeof r>"u"&&(r=n,n=null),a=a||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE;var f=a&7,c=a>>3;if(!(f!==0&&!(f&f-1)||c!==0&&!(c&c-1)))return k.throwError.call(this,"only use one flag per alignment direction",r);var o=f>>1,l=c>>1,i=u/s>this.bitmap.width/this.bitmap.height?s/this.bitmap.height:u/this.bitmap.width,p=this.cloneQuiet().scale(i,n);return this.resize(u,s,n),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(m,v,_){this.bitmap.data.writeUInt32BE(this._background,_)}),this.blit(p,(this.bitmap.width-p.bitmap.width)/2*o,(this.bitmap.height-p.bitmap.height)/2*l),(0,k.isNodePattern)(r)&&r.call(this,null,this),this}}};S.default=y,W.exports=S.default},{"@jimp/utils":235}],207:[function(A,W,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var k=A("@jimp/utils"),y=function(){return{cover:function(u,s,a,n,r){if(typeof u!="number"||typeof s!="number")return k.throwError.call(this,"w and h must be numbers",r);a&&typeof a=="function"&&typeof r>"u"?(r=a,a=null,n=null):typeof n=="function"&&typeof r>"u"&&(r=n,n=null),a=a||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE;var f=a&7,c=a>>3;if(!(f!==0&&!(f&f-1)||c!==0&&!(c&c-1)))return k.throwError.call(this,"only use one flag per alignment direction",r);var o=f>>1,l=c>>1,i=u/s>this.bitmap.width/this.bitmap.height?u/this.bitmap.width:s/this.bitmap.height;return this.scale(i,n),this.crop((this.bitmap.width-u)/2*o,(this.bitmap.height-s)/2*l,u,s),(0,k.isNodePattern)(r)&&r.call(this,null,this),this}}};S.default=y,W.exports=S.default},{"@jimp/utils":235}],208:[function(A,W,S){(function(k){var y=A("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=u;var d=y(A("@babel/runtime/helpers/typeof")),g=A("@jimp/utils");function u(s){return s("crop",function(a,n,r,f,c){if(typeof a!="number"||typeof n!="number")return g.throwError.call(this,"x and y must be numbers",c);if(typeof r!="number"||typeof f!="number")return g.throwError.call(this,"w and h must be numbers",c);if(a=Math.round(a),n=Math.round(n),r=Math.round(r),f=Math.round(f),a===0&&r===this.bitmap.width){var o=r*n+a<<2,l=o+f*r<<2;this.bitmap.data=this.bitmap.data.slice(o,l)}else{var i=k.allocUnsafe(r*f*4),p=0;this.scanQuiet(a,n,r,f,function(m,v,_){var b=this.bitmap.data.readUInt32BE(_,!0);i.writeUInt32BE(b,p,!0),p+=4}),this.bitmap.data=i}return this.bitmap.width=r,this.bitmap.height=f,(0,g.isNodePattern)(c)&&c.call(this,null,this),this}),{class:{autocrop:function(){for(var n=this.bitmap.width,r=this.bitmap.height,f=1,c,o=0,l=2e-4,i=!0,p=!1,m=arguments.length,v=new Array(m),_=0;_<m;_++)v[_]=arguments[_];for(var b=0,E=v.length;b<E;b++)if(typeof v[b]=="number"&&(l=v[b]),typeof v[b]=="boolean"&&(i=v[b]),typeof v[b]=="function"&&(c=v[b]),(0,d.default)(v[b])==="object"){var x=v[b];typeof x.tolerance<"u"&&(l=x.tolerance),typeof x.cropOnlyFrames<"u"&&(i=x.cropOnlyFrames),typeof x.cropSymmetric<"u"&&(p=x.cropSymmetric),typeof x.leaveBorder<"u"&&(o=x.leaveBorder)}var M=this.getPixelColor(0,0),O=this.constructor.intToRGBA(M),j=0,T=0,U=0,H=0;M=this.getPixelColor(0,0);e:for(var D=0;D<r-f;D++){for(var P=0;P<n;P++){var B=this.getPixelColor(P,D),X=this.constructor.intToRGBA(B);if(this.constructor.colorDiff(O,X)>l)break e}j++}M=this.getPixelColor(n,0);e:for(var V=0;V<n-f;V++){for(var q=0+j;q<r;q++){var ee=this.getPixelColor(V,q),Z=this.constructor.intToRGBA(ee);if(this.constructor.colorDiff(O,Z)>l)break e}T++}M=this.getPixelColor(0,r);e:for(var J=r-1;J>=j+f;J--){for(var K=n-T-1;K>=0;K--){var re=this.getPixelColor(K,J),ue=this.constructor.intToRGBA(re);if(this.constructor.colorDiff(O,ue)>l)break e}U++}M=this.getPixelColor(n,r);e:for(var ce=n-1;ce>=0+T+f;ce--){for(var ve=r-1;ve>=0+j;ve--){var _e=this.getPixelColor(ce,ve),Re=this.constructor.intToRGBA(_e);if(this.constructor.colorDiff(O,Re)>l)break e}H++}var he=!1;if(H-=o,T-=o,j-=o,U-=o,p){var fe=Math.min(T,H),ne=Math.min(j,U);H=fe,T=fe,j=ne,U=ne}H=H>=0?H:0,T=T>=0?T:0,j=j>=0?j:0,U=U>=0?U:0;var se=n-(H+T),oe=r-(U+j);return i?he=T!==0&&j!==0&&H!==0&&U!==0:he=T!==0||j!==0||H!==0||U!==0,he&&this.crop(T,j,se,oe),(0,g.isNodePattern)(c)&&c.call(this,null,this),this}}}}W.exports=S.default}).call(this,A("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,buffer:48}],209:[function(A,W,S){var k=A("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=k(A("@babel/runtime/helpers/typeof")),d=A("@jimp/utils"),g=function(){return{displace:function(a,n,r){if((0,y.default)(a)!=="object"||a.constructor!==this.constructor)return d.throwError.call(this,"The source must be a Jimp image",r);if(typeof n!="number")return d.throwError.call(this,"factor must be a number",r);var f=this.cloneQuiet();return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(c,o,l){var i=a.bitmap.data[l]/256*n;i=Math.round(i);var p=this.getPixelIndex(c+i,o);this.bitmap.data[p]=f.bitmap.data[l],this.bitmap.data[p+1]=f.bitmap.data[l+1],this.bitmap.data[p+2]=f.bitmap.data[l+2]}),(0,d.isNodePattern)(r)&&r.call(this,null,this),this}}};S.default=g,W.exports=S.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235}],210:[function(A,W,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var k=A("@jimp/utils");function y(g){var u=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(s,a,n){var r=((a&3)<<2)+s%4,f=u[r];this.bitmap.data[n]=Math.min(this.bitmap.data[n]+f,255),this.bitmap.data[n+1]=Math.min(this.bitmap.data[n+1]+f,255),this.bitmap.data[n+2]=Math.min(this.bitmap.data[n+2]+f,255)}),(0,k.isNodePattern)(g)&&g.call(this,null,this),this}var d=function(){return{dither565:y,dither16:y}};S.default=d,W.exports=S.default},{"@jimp/utils":235}],211:[function(A,W,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var k=A("@jimp/utils"),y=function(){return{fisheye:function(){var u=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{r:2.5},a=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(a=s,s={r:2.5});var n=this.cloneQuiet(),r=n.bitmap,f=r.width,c=r.height;return n.scanQuiet(0,0,f,c,function(o,l){var i=o/f,p=l/c,m=Math.sqrt(Math.pow(i-.5,2)+Math.pow(p-.5,2)),v=2*Math.pow(m,s.r),_=(i-.5)/m,b=(p-.5)/m,E=Math.round((v*_+.5)*f),x=Math.round((v*b+.5)*c),M=n.getPixelColor(E,x);u.setPixelColor(M,o,l)}),this.setPixelColor(n.getPixelColor(f/2,c/2),f/2,c/2),(0,k.isNodePattern)(a)&&a.call(this,null,this),this}}};S.default=y,W.exports=S.default},{"@jimp/utils":235}],212:[function(A,W,S){(function(k){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=A("@jimp/utils");function d(u,s,a){if(typeof u!="boolean"||typeof s!="boolean")return y.throwError.call(this,"horizontal and vertical must be Booleans",a);var n=k.alloc(this.bitmap.data.length);return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(r,f,c){var o=u?this.bitmap.width-1-r:r,l=s?this.bitmap.height-1-f:f,i=this.bitmap.width*l+o<<2,p=this.bitmap.data.readUInt32BE(c);n.writeUInt32BE(p,i)}),this.bitmap.data=k.from(n),(0,y.isNodePattern)(a)&&a.call(this,null,this),this}var g=function(){return{flip:d,mirror:d}};S.default=g,W.exports=S.default}).call(this,A("buffer").Buffer)},{"@jimp/utils":235,buffer:48}],213:[function(A,W,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var k=A("@jimp/utils"),y=function(){return{gaussian:function(u,s){if(typeof u!="number")return k.throwError.call(this,"r must be a number",s);if(u<1)return k.throwError.call(this,"r must be greater than 0",s);for(var a=Math.ceil(u*2.57),n=a*2+1,r=u*u*2,f=r*Math.PI,c=[],o=0;o<n;o++){c[o]=[];for(var l=0;l<n;l++){var i=Math.pow(l-a,2)+Math.pow(o-a,2);c[o][l]=Math.exp(-i/r)/f}}for(var p=0;p<this.bitmap.height;p++)for(var m=0;m<this.bitmap.width;m++)for(var v=0,_=0,b=0,E=0,x=0,M=0;M<n;M++){for(var O=0;O<n;O++){var j=Math.min(this.bitmap.width-1,Math.max(0,O+m-a)),T=Math.min(this.bitmap.height-1,Math.max(0,M+p-a)),U=c[M][O],H=T*this.bitmap.width+j<<2;v+=this.bitmap.data[H]*U,_+=this.bitmap.data[H+1]*U,b+=this.bitmap.data[H+2]*U,E+=this.bitmap.data[H+3]*U,x+=U}var D=p*this.bitmap.width+m<<2;this.bitmap.data[D]=Math.round(v/x),this.bitmap.data[D+1]=Math.round(_/x),this.bitmap.data[D+2]=Math.round(b/x),this.bitmap.data[D+3]=Math.round(E/x)}return(0,k.isNodePattern)(s)&&s.call(this,null,this),this}}};S.default=y,W.exports=S.default},{"@jimp/utils":235}],214:[function(A,W,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var k=A("@jimp/utils"),y=function(){return{invert:function(u){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(s,a,n){this.bitmap.data[n]=255-this.bitmap.data[n],this.bitmap.data[n+1]=255-this.bitmap.data[n+1],this.bitmap.data[n+2]=255-this.bitmap.data[n+2]}),(0,k.isNodePattern)(u)&&u.call(this,null,this),this}}};S.default=y,W.exports=S.default},{"@jimp/utils":235}],215:[function(A,W,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var k=A("@jimp/utils"),y=function(){return{mask:function(u){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0;if(!(u instanceof this.constructor))return k.throwError.call(this,"The source must be a Jimp image",n);if(typeof s!="number"||typeof a!="number")return k.throwError.call(this,"x and y must be numbers",n);s=Math.round(s),a=Math.round(a);var r=this.bitmap.width,f=this.bitmap.height,c=this;return u.scanQuiet(0,0,u.bitmap.width,u.bitmap.height,function(o,l,i){var p=s+o,m=a+l;if(p>=0&&m>=0&&p<r&&m<f){var v=c.getPixelIndex(p,m),_=this.bitmap.data,b=(_[i+0]+_[i+1]+_[i+2])/3;c.bitmap.data[v+3]*=b/255}}),(0,k.isNodePattern)(n)&&n.call(this,null,this),this}}};S.default=y,W.exports=S.default},{"@jimp/utils":235}],216:[function(A,W,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var k=A("@jimp/utils");function y(){var s={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(a,n,r){s.r[this.bitmap.data[r+0]]++,s.g[this.bitmap.data[r+1]]++,s.b[this.bitmap.data[r+2]]++}),s}var d=function(a,n,r){return(a-n)*255/(r-n)},g=function(a){return[a.findIndex(function(n){return n>0}),255-a.slice().reverse().findIndex(function(n){return n>0})]},u=function(){return{normalize:function(n){var r=y.call(this),f={r:g(r.r),g:g(r.g),b:g(r.b)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(c,o,l){var i=this.bitmap.data[l+0],p=this.bitmap.data[l+1],m=this.bitmap.data[l+2];this.bitmap.data[l+0]=d(i,f.r[0],f.r[1]),this.bitmap.data[l+1]=d(p,f.g[0],f.g[1]),this.bitmap.data[l+2]=d(m,f.b[0],f.b[1])}),(0,k.isNodePattern)(n)&&n.call(this,null,this),this}}};S.default=u,W.exports=S.default},{"@jimp/utils":235}],217:[function(A,W,S){(function(k){var y=A("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var d=y(A("@babel/runtime/helpers/typeof")),g=y(A("@babel/runtime/helpers/toConsumableArray")),u=y(A("path")),s=y(A("load-bmfont")),a=A("@jimp/utils"),n=A("./measure-text");function r(m,v,_,b,E){return E===m.HORIZONTAL_ALIGN_LEFT?0:E===m.HORIZONTAL_ALIGN_CENTER?(b-(0,n.measureText)(v,_))/2:b-(0,n.measureText)(v,_)}function f(m,v,_,b,E){if(E.width>0&&E.height>0){var x=v.pages[E.page];m.blit(x,_+E.xoffset,b+E.yoffset,E.x,E.y,E.width,E.height)}return m}function c(m,v,_,b,E){for(var x=0;x<b.length;x++){var M=void 0;m.chars[b[x]]?M=b[x]:/\s/.test(b[x])?M="":M="?";var O=m.chars[M]||{},j=m.kernings[M];f(this,m,v,_,O||{});var T=j&&j[b[x+1]]?j[b[x+1]]:0;v+=T+(O.xadvance||E)}}function o(m,v,_){var b=v.split(" "),E=[],x=[],M=0;return b.forEach(function(O){var j=[].concat((0,g.default)(x),[O]).join(" "),T=(0,n.measureText)(m,j);T<=_?(T>M&&(M=T),x.push(O)):(E.push(x),x=[O])}),E.push(x),{lines:E,longestLine:M}}function l(m,v,_){var b=_.map(function(E){return m.read(v+"/"+E)});return Promise.all(b)}var i="browser/lib/",p=function(){return{constants:{measureText:n.measureText,measureTextHeight:n.measureTextHeight,FONT_SANS_8_BLACK:u.default.join(i,"fonts/open-sans/open-sans-8-black/open-sans-8-black.fnt"),FONT_SANS_10_BLACK:u.default.join(i,"fonts/open-sans/open-sans-10-black/open-sans-10-black.fnt"),FONT_SANS_12_BLACK:u.default.join(i,"fonts/open-sans/open-sans-12-black/open-sans-12-black.fnt"),FONT_SANS_14_BLACK:u.default.join(i,"fonts/open-sans/open-sans-14-black/open-sans-14-black.fnt"),FONT_SANS_16_BLACK:u.default.join(i,"fonts/open-sans/open-sans-16-black/open-sans-16-black.fnt"),FONT_SANS_32_BLACK:u.default.join(i,"fonts/open-sans/open-sans-32-black/open-sans-32-black.fnt"),FONT_SANS_64_BLACK:u.default.join(i,"fonts/open-sans/open-sans-64-black/open-sans-64-black.fnt"),FONT_SANS_128_BLACK:u.default.join(i,"fonts/open-sans/open-sans-128-black/open-sans-128-black.fnt"),FONT_SANS_8_WHITE:u.default.join(i,"fonts/open-sans/open-sans-8-white/open-sans-8-white.fnt"),FONT_SANS_16_WHITE:u.default.join(i,"fonts/open-sans/open-sans-16-white/open-sans-16-white.fnt"),FONT_SANS_32_WHITE:u.default.join(i,"fonts/open-sans/open-sans-32-white/open-sans-32-white.fnt"),FONT_SANS_64_WHITE:u.default.join(i,"fonts/open-sans/open-sans-64-white/open-sans-64-white.fnt"),FONT_SANS_128_WHITE:u.default.join(i,"fonts/open-sans/open-sans-128-white/open-sans-128-white.fnt"),loadFont:function(_,b){var E=this;return typeof _!="string"?a.throwError.call(this,"file must be a string",b):new Promise(function(x,M){b=b||function(O,j){O?M(O):x(j)},(0,s.default)(_,function(O,j){var T={},U={};if(O)return a.throwError.call(E,O,b);for(var H=0;H<j.chars.length;H++)T[String.fromCharCode(j.chars[H].id)]=j.chars[H];for(var D=0;D<j.kernings.length;D++){var P=String.fromCharCode(j.kernings[D].first);U[P]=U[P]||{},U[P][String.fromCharCode(j.kernings[D].second)]=j.kernings[D].amount}l(E,u.default.dirname(_),j.pages).then(function(B){b(null,{chars:T,kernings:U,pages:B,common:j.common,info:j.info})})})})}},class:{print:function(_,b,E,x,M,O,j){var T=this;if(typeof M=="function"&&typeof j>"u"&&(j=M,M=1/0),typeof M>"u"&&(M=1/0),typeof O=="function"&&typeof j>"u"&&(j=O,O=1/0),typeof O>"u"&&(O=1/0),(0,d.default)(_)!=="object")return a.throwError.call(this,"font must be a Jimp loadFont",j);if(typeof b!="number"||typeof E!="number"||typeof M!="number")return a.throwError.call(this,"x, y and maxWidth must be numbers",j);if(typeof M!="number")return a.throwError.call(this,"maxWidth must be a number",j);if(typeof O!="number")return a.throwError.call(this,"maxHeight must be a number",j);var U,H;if((0,d.default)(x)==="object"&&x.text!==null&&x.text!==void 0){U=x.alignmentX||this.constructor.HORIZONTAL_ALIGN_LEFT,H=x.alignmentY||this.constructor.VERTICAL_ALIGN_TOP;var D=x;x=D.text}else U=this.constructor.HORIZONTAL_ALIGN_LEFT,H=this.constructor.VERTICAL_ALIGN_TOP,x=x.toString();O!==1/0&&H===this.constructor.VERTICAL_ALIGN_BOTTOM?E+=O-(0,n.measureTextHeight)(_,x,M):O!==1/0&&H===this.constructor.VERTICAL_ALIGN_MIDDLE&&(E+=O/2-(0,n.measureTextHeight)(_,x,M)/2);var P=Object.entries(_.chars)[0][1].xadvance,B=o(_,x,M),X=B.lines,V=B.longestLine;return X.forEach(function(q){var ee=q.join(" "),Z=r(T.constructor,_,ee,M,U);c.call(T,_,b+Z,E,ee,P),E+=_.common.lineHeight}),(0,a.isNodePattern)(j)&&j.call(this,null,this,{x:b+V,y:E}),this}}}};S.default=p,W.exports=S.default}).call(this,"/../../node_modules/@jimp/plugin-print/dist")},{"./measure-text":218,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,"load-bmfont":219,path:107}],218:[function(A,W,S){Object.defineProperty(S,"__esModule",{value:!0}),S.measureText=k,S.measureTextHeight=y;function k(d,g){for(var u=0,s=0;s<g.length;s++)if(d.chars[g[s]]){var a=d.kernings[g[s]]&&d.kernings[g[s]][g[s+1]]?d.kernings[g[s]][g[s+1]]:0;u+=(d.chars[g[s]].xadvance||0)+a}return u}function y(d,g,u){for(var s=g.split(" "),a="",n=d.common.lineHeight,r=0;r<s.length;r++){var f=a+s[r]+" ",c=k(d,f);c>u&&r>0?(n+=d.common.lineHeight,a=s[r]+" "):a=f}return n}},{}],219:[function(A,W,S){(function(k){var y=A("xhr"),d=function(){},g=A("parse-bmfont-ascii"),u=A("parse-bmfont-xml"),s=A("parse-bmfont-binary"),a=A("./lib/is-binary"),n=A("xtend"),r=function(){return self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}();W.exports=function(o,l){l=typeof l=="function"?l:d,typeof o=="string"?o={uri:o}:o||(o={});var i=o.binary;i&&(o=c(o)),y(o,function(p,m,v){if(p)return l(p);if(!/^2/.test(m.statusCode))return l(new Error("http status code: "+m.statusCode));if(!v)return l(new Error("no body result"));var _=!1;if(f(v)){var b=new Uint8Array(v);v=new k(b,"binary")}a(v)&&(_=!0,typeof v=="string"&&(v=new k(v,"binary"))),_||(k.isBuffer(v)&&(v=v.toString(o.encoding)),v=v.trim());var E;try{var x=m.headers["content-type"];_?E=s(v):/json/.test(x)||v.charAt(0)==="{"?E=JSON.parse(v):/xml/.test(x)||v.charAt(0)==="<"?E=u(v):E=g(v)}catch(M){l(new Error("error parsing font "+M.message)),l=d}l(null,E)})};function f(o){var l=Object.prototype.toString;return l.call(o)==="[object ArrayBuffer]"}function c(o){if(r)return n(o,{responseType:"arraybuffer"});if(typeof self.XMLHttpRequest>"u")throw new Error("your browser does not support XHR loading");var l=new self.XMLHttpRequest;return l.overrideMimeType("text/plain; charset=x-user-defined"),n({xhr:l},o)}}).call(this,A("buffer").Buffer)},{"./lib/is-binary":220,buffer:48,"parse-bmfont-ascii":102,"parse-bmfont-binary":103,"parse-bmfont-xml":104,xhr:187,xtend:189}],220:[function(A,W,S){(function(k){var y=A("buffer-equal"),d=new k([66,77,70,3]);W.exports=function(g){return typeof g=="string"?g.substring(0,3)==="BMF":g.length>4&&y(g.slice(0,4),d)}}).call(this,A("buffer").Buffer)},{buffer:48,"buffer-equal":49}],221:[function(A,W,S){(function(k){var y=A("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var d=A("@jimp/utils"),g=y(A("./modules/resize")),u=y(A("./modules/resize2")),s=function(){return{constants:{RESIZE_NEAREST_NEIGHBOR:"nearestNeighbor",RESIZE_BILINEAR:"bilinearInterpolation",RESIZE_BICUBIC:"bicubicInterpolation",RESIZE_HERMITE:"hermiteInterpolation",RESIZE_BEZIER:"bezierInterpolation"},class:{resize:function(r,f,c,o){if(typeof r!="number"||typeof f!="number")return d.throwError.call(this,"w and h must be numbers",o);if(typeof c=="function"&&typeof o>"u"&&(o=c,c=null),r===this.constructor.AUTO&&f===this.constructor.AUTO)return d.throwError.call(this,"w and h cannot both be set to auto",o);if(r===this.constructor.AUTO&&(r=this.bitmap.width*(f/this.bitmap.height)),f===this.constructor.AUTO&&(f=this.bitmap.height*(r/this.bitmap.width)),r<0||f<0)return d.throwError.call(this,"w and h must be positive numbers",o);if(r=Math.round(r),f=Math.round(f),typeof u.default[c]=="function"){var l={data:k.alloc(r*f*4),width:r,height:f};u.default[c](this.bitmap,l),this.bitmap=l}else{var i=this,p=new g.default(this.bitmap.width,this.bitmap.height,r,f,!0,!0,function(m){i.bitmap.data=k.from(m),i.bitmap.width=r,i.bitmap.height=f});p.resize(this.bitmap.data)}return(0,d.isNodePattern)(o)&&o.call(this,null,this),this}}}};S.default=s,W.exports=S.default}).call(this,A("buffer").Buffer)},{"./modules/resize":222,"./modules/resize2":223,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,buffer:48}],222:[function(A,W,S){function k(y,d,g,u,s,a,n){this.widthOriginal=Math.abs(Math.floor(y)||0),this.heightOriginal=Math.abs(Math.floor(d)||0),this.targetWidth=Math.abs(Math.floor(g)||0),this.targetHeight=Math.abs(Math.floor(u)||0),this.colorChannels=s?4:3,this.interpolationPass=!!a,this.resizeCallback=typeof n=="function"?n:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}k.prototype.initialize=function(){if(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0)this.configurePasses();else throw new Error("Invalid settings specified for the resizer.")},k.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=this.colorChannels===4?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=this.colorChannels===4?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=this.colorChannels===4?this.resizeHeightRGBA:this.resizeHeightRGB))},k.prototype._resizeWidthInterpolatedRGBChannels=function(y,d){var g=d?4:3,u=this.ratioWeightWidthPass,s=this.widthBuffer,a=0,n=0,r=0,f=0,c=0,o;for(o=0;a<1/3;o+=g,a+=u)for(n=o,r=0;n<this.widthPassResultSize;r+=this.originalWidthMultipliedByChannels,n+=this.targetWidthMultipliedByChannels)s[n]=y[r],s[n+1]=y[r+1],s[n+2]=y[r+2],d&&(s[n+3]=y[r+3]);a-=1/3;var l;for(l=this.widthOriginal-1;a<l;o+=g,a+=u)for(c=a%1,f=1-c,n=o,r=Math.floor(a)*g;n<this.widthPassResultSize;r+=this.originalWidthMultipliedByChannels,n+=this.targetWidthMultipliedByChannels)s[n+0]=y[r+0]*f+y[r+g+0]*c,s[n+1]=y[r+1]*f+y[r+g+1]*c,s[n+2]=y[r+2]*f+y[r+g+2]*c,d&&(s[n+3]=y[r+3]*f+y[r+g+3]*c);for(l=this.originalWidthMultipliedByChannels-g;o<this.targetWidthMultipliedByChannels;o+=g)for(n=o,r=l;n<this.widthPassResultSize;r+=this.originalWidthMultipliedByChannels,n+=this.targetWidthMultipliedByChannels)s[n]=y[r],s[n+1]=y[r+1],s[n+2]=y[r+2],d&&(s[n+3]=y[r+3]);return s},k.prototype._resizeWidthRGBChannels=function(y,d){var g=d?4:3,u=this.ratioWeightWidthPass,s=1/u,a=this.originalWidthMultipliedByChannels-g+1,n=this.targetWidthMultipliedByChannels-g+1,r=this.outputWidthWorkBench,f=this.widthBuffer,c=this.outputWidthWorkBenchOpaquePixelsCount,o=0,l=0,i=0,p=0,m=0,v=0,_=0,b=1,E=0,x=0,M=0,O=0;do{for(m=0;m<this.originalHeightMultipliedByChannels;)r[m++]=0,r[m++]=0,r[m++]=0,d&&(r[m++]=0,c[m/g-1]=0);o=u;do{for(l=1+i-p,b=Math.min(o,l),m=0,v=i;m<this.originalHeightMultipliedByChannels;v+=a)E=y[v],x=y[++v],M=y[++v],O=d?y[++v]:255,r[m++]+=(O?E:0)*b,r[m++]+=(O?x:0)*b,r[m++]+=(O?M:0)*b,d&&(r[m++]+=O*b,c[m/g-1]+=O?b:0);if(o>=l)i+=g,p=i,o-=l;else{p+=o;break}}while(o>0&&i<this.originalWidthMultipliedByChannels);for(m=0,v=_;m<this.originalHeightMultipliedByChannels;v+=n)o=d?c[m/g]:1,b=d?o?1/o:0:s,f[v]=r[m++]*b,f[++v]=r[m++]*b,f[++v]=r[m++]*b,d&&(f[++v]=r[m++]*s);_+=g}while(_<this.targetWidthMultipliedByChannels);return f},k.prototype._resizeHeightRGBChannels=function(y,d){var g=this.ratioWeightHeightPass,u=1/g,s=this.outputHeightWorkBench,a=this.heightBuffer,n=this.outputHeightWorkBenchOpaquePixelsCount,r=0,f=0,c=0,o=0,l=0,i=0,p=0,m=1,v=0,_=0,b=0,E=0;do{for(l=0;l<this.targetWidthMultipliedByChannels;)s[l++]=0,s[l++]=0,s[l++]=0,d&&(s[l++]=0,n[l/4-1]=0);r=g;do{for(f=1+c-o,m=Math.min(r,f),p=c,l=0;l<this.targetWidthMultipliedByChannels;)v=y[p++],_=y[p++],b=y[p++],E=d?y[p++]:255,s[l++]+=(E?v:0)*m,s[l++]+=(E?_:0)*m,s[l++]+=(E?b:0)*m,d&&(s[l++]+=E*m,n[l/4-1]+=E?m:0);if(r>=f)c=p,o=c,r-=f;else{o+=r;break}}while(r>0&&c<this.widthPassResultSize);for(l=0;l<this.targetWidthMultipliedByChannels;)r=d?n[l/4]:1,m=d?r?1/r:0:u,a[i++]=Math.round(s[l++]*m),a[i++]=Math.round(s[l++]*m),a[i++]=Math.round(s[l++]*m),d&&(a[i++]=Math.round(s[l++]*u))}while(i<this.finalResultSize);return a},k.prototype.resizeWidthInterpolatedRGB=function(y){return this._resizeWidthInterpolatedRGBChannels(y,!1)},k.prototype.resizeWidthInterpolatedRGBA=function(y){return this._resizeWidthInterpolatedRGBChannels(y,!0)},k.prototype.resizeWidthRGB=function(y){return this._resizeWidthRGBChannels(y,!1)},k.prototype.resizeWidthRGBA=function(y){return this._resizeWidthRGBChannels(y,!0)},k.prototype.resizeHeightInterpolated=function(y){for(var d=this.ratioWeightHeightPass,g=this.heightBuffer,u=0,s=0,a=0,n=0,r=0,f=0,c=0,o;u<1/3;u+=d)for(a=0;a<this.targetWidthMultipliedByChannels;)g[s++]=Math.round(y[a++]);for(u-=1/3,o=this.heightOriginal-1;u<o;u+=d)for(c=u%1,f=1-c,n=Math.floor(u)*this.targetWidthMultipliedByChannels,r=n+this.targetWidthMultipliedByChannels,a=0;a<this.targetWidthMultipliedByChannels;++a)g[s++]=Math.round(y[n++]*f+y[r++]*c);for(;s<this.finalResultSize;)for(a=0,n=o*this.targetWidthMultipliedByChannels;a<this.targetWidthMultipliedByChannels;++a)g[s++]=Math.round(y[n++]);return g},k.prototype.resizeHeightRGB=function(y){return this._resizeHeightRGBChannels(y,!1)},k.prototype.resizeHeightRGBA=function(y){return this._resizeHeightRGBChannels(y,!0)},k.prototype.resize=function(y){this.resizeCallback(this.resizeHeight(this.resizeWidth(y)))},k.prototype.bypassResizer=function(y){return y},k.prototype.initializeFirstPassBuffers=function(y){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),y||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},k.prototype.initializeSecondPassBuffers=function(y){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),y||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},k.prototype.generateFloatBuffer=function(y){try{return new Float32Array(y)}catch{return[]}},k.prototype.generateFloat64Buffer=function(y){try{return new Float64Array(y)}catch{return[]}},k.prototype.generateUint8Buffer=function(y){try{return new Uint8Array(y)}catch{return[]}},W.exports=k},{}],223:[function(A,W,S){(function(k){W.exports={nearestNeighbor:function(d,g){for(var u=d.width,s=d.height,a=g.width,n=g.height,r=d.data,f=g.data,c=0;c<n;c++)for(var o=0;o<a;o++){var l=(c*a+o)*4,i=Math.floor(c*s/n),p=Math.floor(o*u/a),m=(i*u+p)*4;f[l++]=r[m++],f[l++]=r[m++],f[l++]=r[m++],f[l++]=r[m++]}},bilinearInterpolation:function(d,g){for(var u=d.width,s=d.height,a=g.width,n=g.height,r=d.data,f=g.data,c=function(O,j,T,U,H){return j===U?T:Math.round((O-j)*H+(U-O)*T)},o=function(O,j,T,U,H,D,P,B){var X=(P*u+U)*4+j,V=(P*u+H)*4+j,q=c(T,U,r[X],H,r[V]);if(B===P)f[O+j]=q;else{X=(B*u+U)*4+j,V=(B*u+H)*4+j;var ee=c(T,U,r[X],H,r[V]);f[O+j]=c(D,P,q,B,ee)}},l=0;l<n;l++)for(var i=0;i<a;i++){var p=(l*a+i)*4,m=i*u/a,v=Math.floor(m),_=Math.min(Math.ceil(m),u-1),b=l*s/n,E=Math.floor(b),x=Math.min(Math.ceil(b),s-1);o(p,0,m,v,_,b,E,x),o(p,1,m,v,_,b,E,x),o(p,2,m,v,_,b,E,x),o(p,3,m,v,_,b,E,x)}},_interpolate2D:function(d,g,u,s){for(var a=d.data,n=g.data,r=d.width,f=d.height,c=g.width,o=g.height,l=Math.max(1,Math.floor(r/c)),i=c*l,p=Math.max(1,Math.floor(f/o)),m=o*p,v=k.alloc(i*f*4),_=0;_<f;_++)for(var b=0;b<i;b++)for(var E=b*(r-1)/i,x=Math.floor(E),M=E-x,O=(_*r+x)*4,j=(_*i+b)*4,T=0;T<4;T++){var U=O+T,H=x>0?a[U-4]:2*a[U]-a[U+4],D=a[U],P=a[U+4],B=x<r-2?a[U+8]:2*a[U+4]-a[U];v[j+T]=s(H,D,P,B,M)}for(var X=k.alloc(i*m*4),V=0;V<m;V++)for(var q=0;q<i;q++)for(var ee=V*(f-1)/m,Z=Math.floor(ee),J=ee-Z,K=(Z*i+q)*4,re=(V*i+q)*4,ue=0;ue<4;ue++){var ce=K+ue,ve=Z>0?v[ce-i*4]:2*v[ce]-v[ce+i*4],_e=v[ce],Re=v[ce+i*4],he=Z<f-2?v[ce+i*8]:2*v[ce+i*4]-v[ce];X[re+ue]=s(ve,_e,Re,he,J)}var fe=l*p;if(fe>1)for(var ne=0;ne<o;ne++)for(var se=0;se<c;se++){for(var oe=0,Q=0,I=0,L=0,te=0,$=0;$<p;$++)for(var N=ne*p+$,C=0;C<l;C++){var ie=se*l+C,de=(N*i+ie)*4,xe=X[de+3];xe&&(oe+=X[de],Q+=X[de+1],I+=X[de+2],te++),L+=xe}var Me=(ne*c+se)*4;n[Me]=te?Math.round(oe/te):0,n[Me+1]=te?Math.round(Q/te):0,n[Me+2]=te?Math.round(I/te):0,n[Me+3]=Math.round(L/fe)}else g.data=X},bicubicInterpolation:function(d,g,u){var s=function(n,r,f,c,o){var l=c-f-n+r,i=n-r-l,p=f-n,m=r;return Math.max(0,Math.min(255,l*(o*o*o)+i*(o*o)+p*o+m))};return this._interpolate2D(d,g,u,s)},hermiteInterpolation:function(d,g,u){var s=function(n,r,f,c,o){var l=r,i=.5*(f-n),p=n-2.5*r+2*f-.5*c,m=.5*(c-n)+1.5*(r-f);return Math.max(0,Math.min(255,Math.round(((m*o+p)*o+i)*o+l)))};return this._interpolate2D(d,g,u,s)},bezierInterpolation:function(d,g,u){var s=function(n,r,f,c,o){var l=r+(f-n)/4,i=f-(c-r)/4,p=1-o,m=r*p*p*p,v=3*l*p*p*o,_=3*i*p*o*o,b=f*o*o*o;return Math.max(0,Math.min(255,Math.round(m+v+_+b)))};return this._interpolate2D(d,g,u,s)}}}).call(this,A("buffer").Buffer)},{buffer:48}],224:[function(A,W,S){(function(k){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=A("@jimp/utils");function d(u,s){u%=360;var a=u*Math.PI/180,n=Math.cos(a),r=Math.sin(a),f=this.bitmap.width,c=this.bitmap.height;if(s===!0||typeof s=="string"){f=Math.ceil(Math.abs(this.bitmap.width*n)+Math.abs(this.bitmap.height*r))+1,c=Math.ceil(Math.abs(this.bitmap.width*r)+Math.abs(this.bitmap.height*n))+1,f%2!==0&&f++,c%2!==0&&c++;var o=this.cloneQuiet();this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(P,B,X){this.bitmap.data.writeUInt32BE(this._background,X)});var l=Math.max(f,c,this.bitmap.width,this.bitmap.height);this.resize(l,l,s),this.blit(o,this.bitmap.width/2-o.bitmap.width/2,this.bitmap.height/2-o.bitmap.height/2)}var i=this.bitmap.width,p=this.bitmap.height,m=k.alloc(this.bitmap.data.length);function v(P,B){return function(X,V){return{x:X+P,y:V+B}}}for(var _=v(-(i/2),-(p/2)),b=v(i/2+.5,p/2+.5),E=1;E<=p;E++)for(var x=1;x<=i;x++){var M=_(x,E),O=b(n*M.x-r*M.y,n*M.y+r*M.x),j=i*(E-1)+x-1<<2;if(O.x>=0&&O.x<i&&O.y>=0&&O.y<p){var T=(i*(O.y|0)+O.x|0)<<2,U=this.bitmap.data.readUInt32BE(T);m.writeUInt32BE(U,j)}else m.writeUInt32BE(this._background,j)}if(this.bitmap.data=m,s===!0||typeof s=="string"){var H=i/2-f/2,D=p/2-c/2;this.crop(H,D,f,c)}}var g=function(){return{rotate:function(a,n,r){return(typeof n>"u"||n===null)&&(n=!0),typeof n=="function"&&typeof r>"u"&&(r=n,n=!0),typeof a!="number"?y.throwError.call(this,"deg must be a number",r):typeof n!="boolean"&&typeof n!="string"?y.throwError.call(this,"mode must be a boolean or a string",r):(d.call(this,a,n,r),(0,y.isNodePattern)(r)&&r.call(this,null,this),this)}}};S.default=g,W.exports=S.default}).call(this,A("buffer").Buffer)},{"@jimp/utils":235,buffer:48}],225:[function(A,W,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var k=A("@jimp/utils"),y=function(){return{scale:function(u,s,a){if(typeof u!="number")return k.throwError.call(this,"f must be a number",a);if(u<0)return k.throwError.call(this,"f must be a positive number",a);typeof s=="function"&&typeof a>"u"&&(a=s,s=null);var n=this.bitmap.width*u,r=this.bitmap.height*u;return this.resize(n,r,s),(0,k.isNodePattern)(a)&&a.call(this,null,this),this},scaleToFit:function(u,s,a,n){if(typeof u!="number"||typeof s!="number")return k.throwError.call(this,"w and h must be numbers",n);typeof a=="function"&&typeof n>"u"&&(n=a,a=null);var r=u/s>this.bitmap.width/this.bitmap.height?s/this.bitmap.height:u/this.bitmap.width;return this.scale(r,a),(0,k.isNodePattern)(n)&&n.call(this,null,this),this}}};S.default=y,W.exports=S.default},{"@jimp/utils":235}],226:[function(A,W,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var k=A("@jimp/utils"),y=function(){return{shadow:function(){var u=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(a=s,s={});var n=s,r=n.opacity,f=r===void 0?.7:r,c=n.size,o=c===void 0?1.1:c,l=n.x,i=l===void 0?-25:l,p=n.y,m=p===void 0?25:p,v=n.blur,_=v===void 0?5:v,b=this.clone(),E=this.clone();return E.scan(0,0,E.bitmap.width,E.bitmap.height,function(x,M,O){E.bitmap.data[O]=0,E.bitmap.data[O+1]=0,E.bitmap.data[O+2]=0,E.bitmap.data[O+3]=E.constructor.limit255(E.bitmap.data[O+3]*f),u.bitmap.data[O]=0,u.bitmap.data[O+1]=0,u.bitmap.data[O+2]=0,u.bitmap.data[O+3]=0}),E.resize(E.bitmap.width*o,E.bitmap.height*o).blur(_),this.composite(E,i,m),this.composite(b,0,0),(0,k.isNodePattern)(a)&&a.call(this,null,this),this}}};S.default=y,W.exports=S.default},{"@jimp/utils":235}],227:[function(A,W,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var k=A("@jimp/utils"),y=function(){return{threshold:function(u,s){var a=this,n=u.max,r=u.replace,f=r===void 0?255:r,c=u.autoGreyscale,o=c===void 0?!0:c;return typeof n!="number"?k.throwError.call(this,"max must be a number",s):typeof f!="number"?k.throwError.call(this,"replace must be a number",s):typeof o!="boolean"?k.throwError.call(this,"autoGreyscale must be a boolean",s):(n=this.constructor.limit255(n),f=this.constructor.limit255(f),o&&this.greyscale(),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(l,i,p){var m=a.bitmap.data[p]<n?a.bitmap.data[p]:f;a.bitmap.data[p]=m,a.bitmap.data[p+1]=m,a.bitmap.data[p+2]=m}),(0,k.isNodePattern)(s)&&s.call(this,null,this),this)}}};S.default=y,W.exports=S.default},{"@jimp/utils":235}],228:[function(A,W,S){var k=A("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=k(A("@babel/runtime/helpers/toConsumableArray")),d=A("timm"),g=k(A("@jimp/plugin-blit")),u=k(A("@jimp/plugin-blur")),s=k(A("@jimp/plugin-circle")),a=k(A("@jimp/plugin-color")),n=k(A("@jimp/plugin-contain")),r=k(A("@jimp/plugin-cover")),f=k(A("@jimp/plugin-crop")),c=k(A("@jimp/plugin-displace")),o=k(A("@jimp/plugin-dither")),l=k(A("@jimp/plugin-fisheye")),i=k(A("@jimp/plugin-flip")),p=k(A("@jimp/plugin-gaussian")),m=k(A("@jimp/plugin-invert")),v=k(A("@jimp/plugin-mask")),_=k(A("@jimp/plugin-normalize")),b=k(A("@jimp/plugin-print")),E=k(A("@jimp/plugin-resize")),x=k(A("@jimp/plugin-rotate")),M=k(A("@jimp/plugin-scale")),O=k(A("@jimp/plugin-shadow")),j=k(A("@jimp/plugin-threshold")),T=[g.default,u.default,s.default,a.default,n.default,r.default,f.default,c.default,o.default,l.default,i.default,p.default,m.default,v.default,_.default,b.default,E.default,x.default,M.default,O.default,j.default],U=function(D){var P=T.map(function(B){var X=B(D)||{};return!X.class&&!X.constants&&(X={class:X}),X});return d.mergeDeep.apply(void 0,(0,y.default)(P))};S.default=U,W.exports=S.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/plugin-blit":201,"@jimp/plugin-blur":203,"@jimp/plugin-circle":204,"@jimp/plugin-color":205,"@jimp/plugin-contain":206,"@jimp/plugin-cover":207,"@jimp/plugin-crop":208,"@jimp/plugin-displace":209,"@jimp/plugin-dither":210,"@jimp/plugin-fisheye":211,"@jimp/plugin-flip":212,"@jimp/plugin-gaussian":213,"@jimp/plugin-invert":214,"@jimp/plugin-mask":215,"@jimp/plugin-normalize":216,"@jimp/plugin-print":217,"@jimp/plugin-resize":221,"@jimp/plugin-rotate":224,"@jimp/plugin-scale":225,"@jimp/plugin-shadow":226,"@jimp/plugin-threshold":227,timm:177}],229:[function(A,W,S){var k=A("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=k(A("@babel/runtime/helpers/defineProperty")),d=k(A("bmp-js")),g=A("@jimp/utils"),u="image/bmp",s="image/x-ms-bmp";function a(o){return(0,g.scan)(o,0,0,o.bitmap.width,o.bitmap.height,function(l,i,p){var m=this.bitmap.data[p+0],v=this.bitmap.data[p+1],_=this.bitmap.data[p+2],b=this.bitmap.data[p+3];this.bitmap.data[p+0]=b,this.bitmap.data[p+1]=_,this.bitmap.data[p+2]=v,this.bitmap.data[p+3]=m}).bitmap}function n(o){return(0,g.scan)({bitmap:o},0,0,o.width,o.height,function(l,i,p){var m=this.bitmap.data[p+0],v=this.bitmap.data[p+1],_=this.bitmap.data[p+2],b=this.bitmap.data[p+3];this.bitmap.data[p+0]=b,this.bitmap.data[p+1]=_,this.bitmap.data[p+2]=v,this.bitmap.data[p+3]=o.is_with_alpha?m:255}).bitmap}var r=function(l){return n(d.default.decode(l))},f=function(l){return d.default.encode(a(l)).data},c=function(){var l,i;return{mime:(0,y.default)({},u,["bmp"]),constants:{MIME_BMP:u,MIME_X_MS_BMP:s},decoders:(l={},(0,y.default)(l,u,r),(0,y.default)(l,s,r),l),encoders:(i={},(0,y.default)(i,u,f),(0,y.default)(i,s,f),i)}};S.default=c,W.exports=S.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,"bmp-js":30}],230:[function(A,W,S){(function(k){var y=A("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var d=y(A("@babel/runtime/helpers/defineProperty")),g=y(A("omggif")),u=A("gifwrap"),s="image/gif",a=function(){return{mime:(0,d.default)({},s,["gif"]),constants:{MIME_GIF:s},decoders:(0,d.default)({},s,function(r){var f=new g.default.GifReader(r),c=k.alloc(f.width*f.height*4);return f.decodeAndBlitFrameRGBA(0,c),{data:c,width:f.width,height:f.height}}),encoders:(0,d.default)({},s,function(r){var f=new u.BitmapImage(r.bitmap);u.GifUtil.quantizeDekker(f,256);var c=new u.GifFrame(f),o=new u.GifCodec;return o.encodeGif([c],{}).then(function(l){return l.buffer})})}};S.default=a,W.exports=S.default}).call(this,A("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,buffer:48,gifwrap:70,omggif:85}],231:[function(A,W,S){var k=A("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=k(A("@babel/runtime/helpers/defineProperty")),d=k(A("jpeg-js")),g=A("@jimp/utils"),u="image/jpeg",s=function(){return{mime:(0,y.default)({},u,["jpeg","jpg","jpe"]),constants:{MIME_JPEG:u},decoders:(0,y.default)({},u,d.default.decode),encoders:(0,y.default)({},u,function(n){return d.default.encode(n.bitmap,n._quality).data}),class:{_quality:100,quality:function(r,f){return typeof r!="number"?g.throwError.call(this,"n must be a number",f):r<0||r>100?g.throwError.call(this,"n must be a number 0 - 100",f):(this._quality=Math.round(r),(0,g.isNodePattern)(f)&&f.call(this,null,this),this)}}}};S.default=s,W.exports=S.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,"jpeg-js":80}],232:[function(A,W,S){var k=A("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=k(A("@babel/runtime/helpers/defineProperty")),d=A("pngjs"),g=A("@jimp/utils"),u="image/png",s=-1,a=0,n=1,r=2,f=3,c=4,o=function(){return{mime:(0,y.default)({},u,["png"]),constants:{MIME_PNG:u,PNG_FILTER_AUTO:s,PNG_FILTER_NONE:a,PNG_FILTER_SUB:n,PNG_FILTER_UP:r,PNG_FILTER_AVERAGE:f,PNG_FILTER_PATH:c},hasAlpha:(0,y.default)({},u,!0),decoders:(0,y.default)({},u,d.PNG.sync.read),encoders:(0,y.default)({},u,function(i){var p=new d.PNG({width:i.bitmap.width,height:i.bitmap.height});return p.data=i.bitmap.data,d.PNG.sync.write(p,{width:i.bitmap.width,height:i.bitmap.height,deflateLevel:i._deflateLevel,deflateStrategy:i._deflateStrategy,filterType:i._filterType,colorType:typeof i._colorType=="number"?i._colorType:i._rgba?6:2,inputHasAlpha:i._rgba})}),class:{_deflateLevel:9,_deflateStrategy:3,_filterType:s,_colorType:null,deflateLevel:function(p,m){return typeof p!="number"?g.throwError.call(this,"l must be a number",m):p<0||p>9?g.throwError.call(this,"l must be a number 0 - 9",m):(this._deflateLevel=Math.round(p),(0,g.isNodePattern)(m)&&m.call(this,null,this),this)},deflateStrategy:function(p,m){return typeof p!="number"?g.throwError.call(this,"s must be a number",m):p<0||p>3?g.throwError.call(this,"s must be a number 0 - 3",m):(this._deflateStrategy=Math.round(p),(0,g.isNodePattern)(m)&&m.call(this,null,this),this)},filterType:function(p,m){return typeof p!="number"?g.throwError.call(this,"n must be a number",m):p<-1||p>4?g.throwError.call(this,"n must be -1 (auto) or a number 0 - 4",m):(this._filterType=Math.round(p),(0,g.isNodePattern)(m)&&m.call(this,null,this),this)},colorType:function(p,m){return typeof p!="number"?g.throwError.call(this,"s must be a number",m):p!==0&&p!==2&&p!==4&&p!==6?g.throwError.call(this,"s must be a number 0, 2, 4, 6.",m):(this._colorType=Math.round(p),(0,g.isNodePattern)(m)&&m.call(this,null,this),this)}}}};S.default=o,W.exports=S.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,pngjs:129}],233:[function(A,W,S){(function(k){var y=A("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var d=y(A("@babel/runtime/helpers/defineProperty")),g=y(A("utif")),u="image/tiff",s=function(){return{mime:(0,d.default)({},u,["tiff","tif"]),constants:{MIME_TIFF:u},decoders:(0,d.default)({},u,function(n){var r=g.default.decode(n),f=r[0];g.default.decodeImages(n,r);var c=g.default.toRGBA8(f);return{data:k.from(c),width:f.t256[0],height:f.t257[0]}}),encoders:(0,d.default)({},u,function(n){var r=g.default.encodeImage(n.bitmap.data,n.bitmap.width,n.bitmap.height);return k.from(r)})}};S.default=s,W.exports=S.default}).call(this,A("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,buffer:48,utif:182}],234:[function(A,W,S){var k=A("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=A("timm"),d=k(A("@jimp/jpeg")),g=k(A("@jimp/png")),u=k(A("@jimp/bmp")),s=k(A("@jimp/tiff")),a=k(A("@jimp/gif")),n=function(){return(0,y.mergeDeep)((0,d.default)(),(0,g.default)(),(0,u.default)(),(0,s.default)(),(0,a.default)())};S.default=n,W.exports=S.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/bmp":229,"@jimp/gif":230,"@jimp/jpeg":231,"@jimp/png":232,"@jimp/tiff":233,timm:177}],235:[function(A,W,S){var k=A("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.isNodePattern=g,S.throwError=u,S.scan=s,S.scanIterator=a;var y=k(A("@babel/runtime/regenerator")),d=y.default.mark(a);function g(n){if(typeof n>"u")return!1;if(typeof n!="function")throw new TypeError("Callback must be a function");return!0}function u(n,r){if(typeof n=="string"&&(n=new Error(n)),typeof r=="function")return r.call(this,n);throw n}function s(n,r,f,c,o,l){r=Math.round(r),f=Math.round(f),c=Math.round(c),o=Math.round(o);for(var i=f;i<f+o;i++)for(var p=r;p<r+c;p++){var m=n.bitmap.width*i+p<<2;l.call(n,p,i,m)}return n}function a(n,r,f,c,o){var l,i,p;return y.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:r=Math.round(r),f=Math.round(f),c=Math.round(c),o=Math.round(o),l=f;case 5:if(!(l<f+o)){v.next=17;break}i=r;case 7:if(!(i<r+c)){v.next=14;break}return p=n.bitmap.width*l+i<<2,v.next=11,{x:i,y:l,idx:p,image:n};case 11:i++,v.next=7;break;case 14:l++,v.next=5;break;case 17:case"end":return v.stop()}},d)}},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/regenerator":22}]},{},[200])(200)})}(ws)),ws.exports}var bs,bf;function Na(){if(bf)return bs;bf=1;function Pe(ke,ge){this.x=ke||0,this.y=ge||0}return Pe.prototype={copy:function(){return new Pe(this.x,this.y)}},bs=Pe,bs}var Es,Ef;function La(){if(Ef)return Es;Ef=1;var Pe=Na(),ke={};function ge(l){return ke[l]||(ke[l]=new RegExp(" "+l+'="((?:\\\\(?=")"|[^"])+)"',"i")),ke[l]}function A(l,i,p){var m=" "+i+'="'+p+'"';return l.indexOf(" "+i+'="')===-1?l=l.replace(/<[a-z]+/i,function(v){return v+m}):l=l.replace(ge(i),m),l}function W(l){return l.toFixed(3).replace(".000","")}function S(l,i){return l>=i?l%i:l>=0?l:i-1-(-1-l)%i}function k(l,i){return l.x*i.y-l.y*i.x}function y(l,i,p){return l<=p?l<=i&&i<p:l<=i||i<p}function d(l){return l>0?1:l<0?-1:0}function g(l,i){var p=new Array(3),m,v,_;for(p[0]=i.x,p[1]=i.y,p[2]=1,_=0,m=0;m<3;m++)for(v=0;v<3;v++)_+=p[m]*l.at(m,v)*p[v];return _}function u(l,i,p){var m=new Pe;return m.x=i.x+l*(p.x-i.x),m.y=i.y+l*(p.y-i.y),m}function s(l,i){var p=new Pe;return p.y=d(i.x-l.x),p.x=-d(i.y-l.y),p}function a(l,i){var p=s(l,i);return p.y*(i.x-l.x)-p.x*(i.y-l.y)}function n(l,i,p){var m,v,_,b;return m=i.x-l.x,v=i.y-l.y,_=p.x-l.x,b=p.y-l.y,m*b-_*v}function r(l,i,p,m){var v,_,b,E;return v=i.x-l.x,_=i.y-l.y,b=m.x-p.x,E=m.y-p.y,v*E-b*_}function f(l,i,p){var m,v,_,b;return m=i.x-l.x,v=i.y-l.y,_=p.x-l.x,b=p.y-l.y,m*_+v*b}function c(l,i,p,m){var v,_,b,E;return v=i.x-l.x,_=i.y-l.y,b=m.x-p.x,E=m.y-p.y,v*b+_*E}function o(l,i){return Math.sqrt((l.x-i.x)*(l.x-i.x)+(l.y-i.y)*(l.y-i.y))}return Es={luminance:function(l,i,p){return Math.round(.2126*l+.7153*i+.0721*p)},between:function(l,i,p){return l>=i&&l<=p},clamp:function(l,i,p){return Math.min(p,Math.max(i,l))},isNumber:function(l){return typeof l=="number"},setHtmlAttr:A,renderCurve:function(l,i){i=i||{x:1,y:1};var p=l.c[(l.n-1)*3+2],m=["M "+W(p.x*i.x)+" "+W(p.y*i.y)];return l.tag.forEach(function(v,_){var b=_*3,E=l.c[b],x=l.c[b+1],M=l.c[b+2];v==="CURVE"?m.push("C "+W(E.x*i.x)+" "+W(E.y*i.y)+", "+W(x.x*i.x)+" "+W(x.y*i.y)+", "+W(M.x*i.x)+" "+W(M.y*i.y)):v==="CORNER"&&m.push("L "+W(x.x*i.x)+" "+W(x.y*i.y)+" "+W(M.x*i.x)+" "+W(M.y*i.y))}),m.join(" ")},bezier:function(i,p,m,v,_){var b=1-i,E=new Pe;return E.x=b*b*b*p.x+3*(b*b*i)*m.x+3*(i*i*b)*v.x+i*i*i*_.x,E.y=b*b*b*p.y+3*(b*b*i)*m.y+3*(i*i*b)*v.y+i*i*i*_.y,E},tangent:function(i,p,m,v,_,b){var E,x,M,O,j,T,U,H,D,P;return E=r(i,p,_,b),x=r(p,m,_,b),M=r(m,v,_,b),O=E-2*x+M,j=-2*E+2*x,T=E,U=j*j-4*O*T,O===0||U<0?-1:(H=Math.sqrt(U),D=(-j+H)/(2*O),P=(-j-H)/(2*O),D>=0&&D<=1?D:P>=0&&P<=1?P:-1)},mod:S,xprod:k,cyclic:y,sign:d,quadform:g,interval:u,dorth_infty:s,ddenom:a,dpara:n,cprod:r,iprod:f,iprod1:c,ddist:o},Es}var Ss,Sf;function xf(){if(Sf)return Ss;Sf=1;var Pe=La(),ke=null;try{ke=jf()}catch{}var ge=Uf(),A=256,W=A-1;function S(d,g){return A*d+g}function k(d,g){if(d=typeof d=="number"?Pe.clamp(Math.round(d),0,W):0,g=typeof g=="number"?Pe.clamp(Math.round(g),0,W):W,d>g)throw new Error('Invalid range "'+d+"..."+g+'"');return[d,g]}function y(d,g){if(this.data=null,this.pixels=0,this._sortedIndexes=null,this._cachedStats={},this._lookupTableH=null,typeof d=="number")this._createArray(d);else if(d instanceof ge)this._collectValuesBitmap(d);else if(ke&&d instanceof ke)this._collectValuesJimp(d,g);else throw new Error("Unsupported image source")}return y.MODE_LUMINANCE="luminance",y.MODE_R="r",y.MODE_G="g",y.MODE_B="b",y.prototype={_createArray:function(d){var g=d<=Math.pow(2,8)?Uint8Array:d<=Math.pow(2,16)?Uint16Array:Uint32Array;return this.pixels=d,this.data=new g(A)},_collectValuesJimp:function(d,g){var u=d.bitmap.data,s=this._createArray(d.bitmap.width*d.bitmap.height);d.scan(0,0,d.bitmap.width,d.bitmap.height,function(a,n,r){var f=g===y.MODE_R?u[r]:g===y.MODE_G?u[r+1]:g===y.MODE_B?u[r+2]:Pe.luminance(u[r],u[r+1],u[r+2]);s[f]++})},_collectValuesBitmap:function(d){for(var g=this._createArray(d.size),u=d.data.length,s,a=0;a<u;a++)s=d.data[a],g[s]++},_getSortedIndexes:function(d){if(!d&&this._sortedIndexes)return this._sortedIndexes;var g=this.data,u=new Array(A),s=0;for(s;s<A;s++)u[s]=s;return u.sort(function(a,n){return g[a]>g[n]?1:g[a]<g[n]?-1:0}),this._sortedIndexes=u,u},_thresholdingBuildLookupTable:function(){var d=new Float64Array(A*A),g=new Float64Array(A*A),u=new Float64Array(A*A),s=this.pixels,a,n,r,f;for(a=1;a<A;++a)r=S(a,a),f=this.data[a]/s,d[r]=f,g[r]=a*f;for(a=1;a<A-1;++a)f=this.data[a+1]/s,r=S(1,a),d[r+1]=d[r]+f,g[r+1]=g[r]+(a+1)*f;for(a=2;a<A;a++)for(n=a+1;n<A;n++)d[S(a,n)]=d[S(1,n)]-d[S(1,a-1)],g[S(a,n)]=g[S(1,n)]-g[S(1,a-1)];for(a=1;a<A;++a)for(n=a+1;n<A;n++)r=S(a,n),u[r]=d[r]!==0?g[r]*g[r]/d[r]:0;return this._lookupTableH=u},multilevelThresholding:function(d,g,u){if(g=k(g,u),u=g[1],g=g[0],d=Math.min(u-g-2,~~d),d<1)return[];this._lookupTableH||this._thresholdingBuildLookupTable();var s=this._lookupTableH,a=null,n=0;d>4&&console.log("[Warning]: Threshold computation for more than 5 levels may take a long time");function r(f,c,o,l){f=(f||0)+1,c=c||0,o=o||new Array(d),l=l||0;for(var i=l+1,p,m=f;m<u-d+l;m++)p=c+s[S(f,m)],o[i-1]=m,i+1<d+1?r(m,p,o,i):(p+=s[S(m+1,u)],n<p&&(n=p,a=o.slice()))}return r(g||0),a||[]},autoThreshold:function(d,g){var u=this.multilevelThresholding(1,d,g);return u.length?u[0]:null},getDominantColor:function(d,g,u){d=k(d,g),g=d[1],d=d[0],u=u||1;var s=this.data,a=-1,n=-1,r,f,c;if(d===g)return s[d]?d:-1;for(r=d;r<=g;r++){for(c=0,f=~~(u/-2);f<u;f++)c+=Pe.between(r+f,0,W)?s[r+f]:0;var o=c>n,l=n===c&&(a<0||s[r]>s[a]);(o||l)&&(a=r,n=c)}return n<=0?-1:a},getStats:function(d,g,u){if(d=k(d,g),g=d[1],d=d[0],!u&&this._cachedStats[d+"-"+g])return this._cachedStats[d+"-"+g];var s=this.data,a=this._getSortedIndexes(),n=0,r=null,f,c,o,l,i=0,p=0,m=0,v,_,b,E=0,x=0;for(v=d;v<=g;v++)n+=s[v],m+=s[v]*v,E+=s[v]===0?0:1,x<s[v]&&(x=s[v]);for(f=m/n,o=n/(g-d),l=n/E,c=Math.floor(n/2),v=0;v<A;v++)b=a[v],_=s[b],!(b<d||b>g)&&(p+=_,i+=Math.pow(b-f,2)*_,r===null&&p>=c&&(r=b));return this._cachedStats[d+"-"+g]={levels:{mean:f,median:r,stdDev:Math.sqrt(i/n),unique:E},pixelsPerLevel:{mean:o,median:l,peak:x},pixels:n}}},Ss=y,Ss}var xs,Rf;function Uf(){if(Rf)return xs;Rf=1;var Pe=Na(),ke=La();function ge(A,W){this._histogram=null,this.width=A,this.height=W,this.size=A*W,this.arrayBuffer=new ArrayBuffer(this.size),this.data=new Uint8Array(this.arrayBuffer)}return xs=ge,xf(),ge.prototype={getValueAt:function(A,W){var S=typeof A=="number"&&typeof W!="number"?A:this.pointToIndex(A,W);return this.data[S]},indexToPoint:function(A){var W=new Pe;return ke.between(A,0,this.size)?(W.y=Math.floor(A/this.width),W.x=A-W.y*this.width):(W.x=-1,W.y=-1),W},pointToIndex:function(A,W){var S=A,k=W;return A instanceof Pe&&(S=A.x,k=A.y),!ke.between(S,0,this.width)||!ke.between(k,0,this.height)?-1:this.width*k+S},copy:function(A){var W=new ge(this.width,this.height),S=typeof A=="function",k;for(k=0;k<this.size;k++)W.data[k]=S?A(this.data[k],k):this.data[k];return W},histogram:function(){var A=xf();return this._histogram?this._histogram:(this._histogram=new A(this),this._histogram)}},xs}var Rs,kf;function fd(){if(kf)return Rs;kf=1;function Pe(ke){this.n=ke,this.tag=new Array(ke),this.c=new Array(ke*3),this.alphaCurve=0,this.vertex=new Array(ke),this.alpha=new Array(ke),this.alpha0=new Array(ke),this.beta=new Array(ke)}return Rs=Pe,Rs}var ks,Af;function hd(){if(Af)return ks;Af=1;function Pe(){this.area=0,this.len=0,this.curve={},this.pt=[],this.minX=1e5,this.minY=1e5,this.maxX=-1,this.maxY=-1}return ks=Pe,ks}var As,Mf;function cd(){if(Mf)return As;Mf=1;function Pe(){this.data=[0,0,0,0,0,0,0,0,0]}return Pe.prototype.at=function(ke,ge){return this.data[ke*3+ge]},As=Pe,As}var Ms,Tf;function dd(){if(Tf)return Ms;Tf=1;function Pe(ke,ge,A,W,S){this.x=ke,this.y=ge,this.xy=A,this.x2=W,this.y2=S}return Ms=Pe,Ms}var Ts,Cf;function pd(){if(Cf)return Ts;Cf=1;var Pe=Na();function ke(){this.pen=0,this.c=[new Pe,new Pe],this.t=0,this.s=0,this.alpha=0}return Ts=ke,Ts}var Cs,Pf;function Ff(){if(Pf)return Cs;Pf=1;var Pe=jf(),ke=Uf(),ge=fd(),A=Na(),W=hd(),S=cd(),k=dd(),y=pd(),d=La();function g(s){this._luminanceData=null,this._pathlist=[],this._imageLoadingIdentifier=null,this._imageLoaded=!1,this._processed=!1,this._params={turnPolicy:g.TURNPOLICY_MINORITY,turdSize:2,alphaMax:1,optCurve:!0,optTolerance:.2,threshold:g.THRESHOLD_AUTO,blackOnWhite:!0,color:g.COLOR_AUTO,background:g.COLOR_TRANSPARENT,width:null,height:null},s&&this.setParameters(s)}g.COLOR_AUTO="auto",g.COLOR_TRANSPARENT="transparent",g.THRESHOLD_AUTO=-1,g.TURNPOLICY_BLACK="black",g.TURNPOLICY_WHITE="white",g.TURNPOLICY_LEFT="left",g.TURNPOLICY_RIGHT="right",g.TURNPOLICY_MINORITY="minority",g.TURNPOLICY_MAJORITY="majority";var u=[g.TURNPOLICY_BLACK,g.TURNPOLICY_WHITE,g.TURNPOLICY_LEFT,g.TURNPOLICY_RIGHT,g.TURNPOLICY_MINORITY,g.TURNPOLICY_MAJORITY];return g.prototype={_bmToPathlist:function(){var s=this,a=this._params.threshold,n=this._params.blackOnWhite,r,f=new A(0,0),c;a===g.THRESHOLD_AUTO&&(a=this._luminanceData.histogram().autoThreshold()||128),r=this._luminanceData.copy(function(m){var v=n?m>a:m<a;return v?0:1});function o(m){for(var v=r.pointToIndex(m);v<r.size&&r.data[v]!==1;)v++;return v<r.size&&r.indexToPoint(v)}function l(m,v){var _,b,E;for(_=2;_<5;_++){for(E=0,b=-_+1;b<=_-1;b++)E+=r.getValueAt(m+b,v+_-1)?1:-1,E+=r.getValueAt(m+_-1,v+b-1)?1:-1,E+=r.getValueAt(m+b-1,v-_)?1:-1,E+=r.getValueAt(m-_,v+b)?1:-1;if(E>0)return 1;if(E<0)return 0}return 0}function i(m){var v=new W,_=m.x,b=m.y,E=0,x=1,M;for(v.sign=r.getValueAt(m.x,m.y)?"+":"-";v.pt.push(new A(_,b)),_>v.maxX&&(v.maxX=_),_<v.minX&&(v.minX=_),b>v.maxY&&(v.maxY=b),b<v.minY&&(v.minY=b),v.len++,_+=E,b+=x,v.area-=_*x,!(_===m.x&&b===m.y);){var O=r.getValueAt(_+(E+x-1)/2,b+(x-E-1)/2),j=r.getValueAt(_+(E-x-1)/2,b+(x+E-1)/2);j&&!O?s._params.turnPolicy==="right"||s._params.turnPolicy==="black"&&v.sign==="+"||s._params.turnPolicy==="white"&&v.sign==="-"||s._params.turnPolicy==="majority"&&l(_,b)||s._params.turnPolicy==="minority"&&!l(_,b)?(M=E,E=-x,x=M):(M=E,E=x,x=-M):j?(M=E,E=-x,x=M):O||(M=E,E=x,x=-M)}return v}function p(m){var v=m.pt[0].y,_=m.len,b,E,x,M,O,j,T;for(O=1;O<_;O++)if(b=m.pt[O].x,E=m.pt[O].y,E!==v){for(M=v<E?v:E,x=m.maxX,j=b;j<x;j++)T=r.pointToIndex(j,M),r.data[T]=r.data[T]?0:1;v=E}}for(this._pathlist=[];f=o(f);)c=i(f),p(c),c.area>s._params.turdSize&&this._pathlist.push(c)},_processPath:function(){var s=this;function a(m){var v,_,b;m.x0=m.pt[0].x,m.y0=m.pt[0].y,m.sums=[];var E=m.sums;for(E.push(new k(0,0,0,0,0)),v=0;v<m.len;v++)_=m.pt[v].x-m.x0,b=m.pt[v].y-m.y0,E.push(new k(E[v].x+_,E[v].y+b,E[v].xy+_*b,E[v].x2+_*_,E[v].y2+b*b))}function n(m){var v=m.len,_=m.pt,b,E=new Array(v),x=new Array(v),M=new Array(4);m.lon=new Array(v);var O=[new A,new A],j=new A,T=new A,U=new A,H,D,P,B,X,V,q,ee,Z=0;for(D=v-1;D>=0;D--)_[D].x!=_[Z].x&&_[D].y!=_[Z].y&&(Z=D+1),x[D]=Z;for(D=v-1;D>=0;D--){for(M[0]=M[1]=M[2]=M[3]=0,b=(3+3*(_[d.mod(D+1,v)].x-_[D].x)+(_[d.mod(D+1,v)].y-_[D].y))/2,M[b]++,O[0].x=0,O[0].y=0,O[1].x=0,O[1].y=0,Z=x[D],B=D;;){if(H=0,b=(3+3*d.sign(_[Z].x-_[B].x)+d.sign(_[Z].y-_[B].y))/2,M[b]++,M[0]&&M[1]&&M[2]&&M[3]){E[D]=B,H=1;break}if(j.x=_[Z].x-_[D].x,j.y=_[Z].y-_[D].y,d.xprod(O[0],j)<0||d.xprod(O[1],j)>0||(Math.abs(j.x)<=1&&Math.abs(j.y)<=1||(T.x=j.x+(j.y>=0&&(j.y>0||j.x<0)?1:-1),T.y=j.y+(j.x<=0&&(j.x<0||j.y<0)?1:-1),d.xprod(O[0],T)>=0&&(O[0].x=T.x,O[0].y=T.y),T.x=j.x+(j.y<=0&&(j.y<0||j.x<0)?1:-1),T.y=j.y+(j.x>=0&&(j.x>0||j.y<0)?1:-1),d.xprod(O[1],T)<=0&&(O[1].x=T.x,O[1].y=T.y)),B=Z,Z=x[B],!d.cyclic(Z,D,B)))break}H===0&&(U.x=d.sign(_[Z].x-_[B].x),U.y=d.sign(_[Z].y-_[B].y),j.x=_[B].x-_[D].x,j.y=_[B].y-_[D].y,X=d.xprod(O[0],j),V=d.xprod(O[0],U),q=d.xprod(O[1],j),ee=d.xprod(O[1],U),P=1e7,V<0&&(P=Math.floor(X/-V)),ee>0&&(P=Math.min(P,Math.floor(-q/ee))),E[D]=d.mod(B+P,v))}for(P=E[v-1],m.lon[v-1]=P,D=v-2;D>=0;D--)d.cyclic(D+1,E[D],P)&&(P=E[D]),m.lon[D]=P;for(D=v-1;d.cyclic(d.mod(D+1,v),P,m.lon[D]);D--)m.lon[D]=P}function r(m){function v(V,q,ee){var Z=V.len,J=V.pt,K=V.sums,re,ue,ce,ve,_e,Re,he,fe,ne,se,oe,Q,I,L,te=0;return ee>=Z&&(ee-=Z,te=1),te===0?(re=K[ee+1].x-K[q].x,ue=K[ee+1].y-K[q].y,ve=K[ee+1].x2-K[q].x2,ce=K[ee+1].xy-K[q].xy,_e=K[ee+1].y2-K[q].y2,Re=ee+1-q):(re=K[ee+1].x-K[q].x+K[Z].x,ue=K[ee+1].y-K[q].y+K[Z].y,ve=K[ee+1].x2-K[q].x2+K[Z].x2,ce=K[ee+1].xy-K[q].xy+K[Z].xy,_e=K[ee+1].y2-K[q].y2+K[Z].y2,Re=ee+1-q+Z),oe=(J[q].x+J[ee].x)/2-J[0].x,Q=(J[q].y+J[ee].y)/2-J[0].y,L=J[ee].x-J[q].x,I=-(J[ee].y-J[q].y),he=(ve-2*re*oe)/Re+oe*oe,fe=(ce-re*Q-ue*oe)/Re+oe*Q,ne=(_e-2*ue*Q)/Re+Q*Q,se=I*I*he+2*I*L*fe+L*L*ne,Math.sqrt(se)}var _,b,E,x,M=m.len,O=new Array(M+1),j=new Array(M+1),T=new Array(M),U=new Array(M+1),H=new Array(M+1),D=new Array(M+1),P,B,X;for(_=0;_<M;_++)X=d.mod(m.lon[d.mod(_-1,M)]-1,M),X==_&&(X=d.mod(_+1,M)),X<_?T[_]=M:T[_]=X;for(b=1,_=0;_<M;_++)for(;b<=T[_];)U[b]=_,b++;for(_=0,b=0;_<M;b++)H[b]=_,_=T[_];for(H[b]=M,E=b,_=M,b=E;b>0;b--)D[b]=_,_=U[_];for(D[0]=0,O[0]=0,b=1;b<=E;b++)for(_=D[b];_<=H[b];_++){for(B=-1,x=H[b-1];x>=U[_];x--)P=v(m,x,_)+O[x],(B<0||P<B)&&(j[_]=x,B=P);O[_]=B}for(m.m=E,m.po=new Array(E),_=M,b=E-1;_>0;b--)_=j[_],m.po[b]=_}function f(m){function v(he,fe,ne,se,oe){for(var Q=he.len,I=he.sums,L,te,$,N,C,ie,de,xe,Me,je,Ze,He=0;ne>=Q;)ne-=Q,He+=1;for(;fe>=Q;)fe-=Q,He-=1;for(;ne<0;)ne+=Q,He-=1;for(;fe<0;)fe+=Q,He+=1;L=I[ne+1].x-I[fe].x+He*I[Q].x,te=I[ne+1].y-I[fe].y+He*I[Q].y,$=I[ne+1].x2-I[fe].x2+He*I[Q].x2,N=I[ne+1].xy-I[fe].xy+He*I[Q].xy,C=I[ne+1].y2-I[fe].y2+He*I[Q].y2,ie=ne+1-fe+He*Q,se.x=L/ie,se.y=te/ie,de=($-L*L/ie)/ie,xe=(N-L*te/ie)/ie,Me=(C-te*te/ie)/ie,je=(de+Me+Math.sqrt((de-Me)*(de-Me)+4*xe*xe))/2,de-=je,Me-=je,Math.abs(de)>=Math.abs(Me)?(Ze=Math.sqrt(de*de+xe*xe),Ze!==0&&(oe.x=-xe/Ze,oe.y=de/Ze)):(Ze=Math.sqrt(Me*Me+xe*xe),Ze!==0&&(oe.x=-Me/Ze,oe.y=xe/Ze)),Ze===0&&(oe.x=oe.y=0)}var _=m.m,b=m.po,E=m.len,x=m.pt,M=m.x0,O=m.y0,j=new Array(_),T=new Array(_),U=new Array(_),H=new Array(3),D,P,B,X,V,q=new A;for(m.curve=new ge(_),P=0;P<_;P++)B=b[d.mod(P+1,_)],B=d.mod(B-b[P],E)+b[P],j[P]=new A,T[P]=new A,v(m,b[P],B,j[P],T[P]);for(P=0;P<_;P++)if(U[P]=new S,D=T[P].x*T[P].x+T[P].y*T[P].y,D===0)for(B=0;B<3;B++)for(X=0;X<3;X++)U[P].data[B*3+X]=0;else for(H[0]=T[P].y,H[1]=-T[P].x,H[2]=-H[1]*j[P].y-H[0]*j[P].x,V=0;V<3;V++)for(X=0;X<3;X++)U[P].data[V*3+X]=H[V]*H[X]/D;var ee,Z,J,K,re,ue,ce,ve,_e,Re;for(P=0;P<_;P++){for(ee=new S,Z=new A,q.x=x[b[P]].x-M,q.y=x[b[P]].y-O,B=d.mod(P-1,_),V=0;V<3;V++)for(X=0;X<3;X++)ee.data[V*3+X]=U[B].at(V,X)+U[P].at(V,X);for(;;){if(re=ee.at(0,0)*ee.at(1,1)-ee.at(0,1)*ee.at(1,0),re!==0){Z.x=(-ee.at(0,2)*ee.at(1,1)+ee.at(1,2)*ee.at(0,1))/re,Z.y=(ee.at(0,2)*ee.at(1,0)-ee.at(1,2)*ee.at(0,0))/re;break}for(ee.at(0,0)>ee.at(1,1)?(H[0]=-ee.at(0,1),H[1]=ee.at(0,0)):ee.at(1,1)?(H[0]=-ee.at(1,1),H[1]=ee.at(1,0)):(H[0]=1,H[1]=0),D=H[0]*H[0]+H[1]*H[1],H[2]=-H[1]*q.y-H[0]*q.x,V=0;V<3;V++)for(X=0;X<3;X++)ee.data[V*3+X]+=H[V]*H[X]/D}if(J=Math.abs(Z.x-q.x),K=Math.abs(Z.y-q.y),J<=.5&&K<=.5){m.curve.vertex[P]=new A(Z.x+M,Z.y+O);continue}if(ue=d.quadform(ee,q),ve=q.x,_e=q.y,ee.at(0,0)!==0)for(Re=0;Re<2;Re++)Z.y=q.y-.5+Re,Z.x=-(ee.at(0,1)*Z.y+ee.at(0,2))/ee.at(0,0),J=Math.abs(Z.x-q.x),ce=d.quadform(ee,Z),J<=.5&&ce<ue&&(ue=ce,ve=Z.x,_e=Z.y);if(ee.at(1,1)!==0)for(Re=0;Re<2;Re++)Z.x=q.x-.5+Re,Z.y=-(ee.at(1,0)*Z.x+ee.at(1,2))/ee.at(1,1),K=Math.abs(Z.y-q.y),ce=d.quadform(ee,Z),K<=.5&&ce<ue&&(ue=ce,ve=Z.x,_e=Z.y);for(V=0;V<2;V++)for(X=0;X<2;X++)Z.x=q.x-.5+V,Z.y=q.y-.5+X,ce=d.quadform(ee,Z),ce<ue&&(ue=ce,ve=Z.x,_e=Z.y);m.curve.vertex[P]=new A(ve+M,_e+O)}}function c(m){var v=m.curve,_=v.n,b=v.vertex,E,x,M;for(E=0,x=_-1;E<x;E++,x--)M=b[E],b[E]=b[x],b[x]=M}function o(m){var v=m.curve.n,_=m.curve,b,E,x,M,O,j,T,U,H;for(b=0;b<v;b++)E=d.mod(b+1,v),x=d.mod(b+2,v),H=d.interval(1/2,_.vertex[x],_.vertex[E]),O=d.ddenom(_.vertex[b],_.vertex[x]),O!==0?(M=d.dpara(_.vertex[b],_.vertex[E],_.vertex[x])/O,M=Math.abs(M),j=M>1?1-1/M:0,j=j/.75):j=4/3,_.alpha0[E]=j,j>=s._params.alphaMax?(_.tag[E]="CORNER",_.c[3*E+1]=_.vertex[E],_.c[3*E+2]=H):(j<.55?j=.55:j>1&&(j=1),T=d.interval(.5+.5*j,_.vertex[b],_.vertex[E]),U=d.interval(.5+.5*j,_.vertex[x],_.vertex[E]),_.tag[E]="CURVE",_.c[3*E+0]=T,_.c[3*E+1]=U,_.c[3*E+2]=H),_.alpha[E]=j,_.beta[E]=.5;_.alphaCurve=1}function l(m){function v(ue,ce,ve,_e,Re,he,fe){var ne=ue.curve.n,se=ue.curve,oe=se.vertex,Q,I,L,te,$,N,C,ie,de,xe,Me,je,Ze,He,Ve,We,Ue,et,$e,G,be,Se,Le;if(ce==ve||(Q=ce,$=d.mod(ce+1,ne),I=d.mod(Q+1,ne),te=he[I],te===0))return 1;for(ie=d.ddist(oe[ce],oe[$]),Q=I;Q!=ve;Q=I)if(I=d.mod(Q+1,ne),L=d.mod(Q+2,ne),he[I]!=te||d.sign(d.cprod(oe[ce],oe[$],oe[I],oe[L]))!=te||d.iprod1(oe[ce],oe[$],oe[I],oe[L])<ie*d.ddist(oe[I],oe[L])*-.999847695156)return 1;if(Me=se.c[d.mod(ce,ne)*3+2].copy(),je=oe[d.mod(ce+1,ne)].copy(),Ze=oe[d.mod(ve,ne)].copy(),He=se.c[d.mod(ve,ne)*3+2].copy(),N=fe[ve]-fe[ce],N-=d.dpara(oe[0],se.c[ce*3+2],se.c[ve*3+2])/2,ce>=ve&&(N+=fe[ne]),et=d.dpara(Me,je,Ze),$e=d.dpara(Me,je,He),G=d.dpara(Me,Ze,He),be=et+G-$e,$e==et||(Le=G/(G-be),Se=$e/($e-et),We=$e*Le/2,We===0))return 1;for(Ue=N/We,C=2-Math.sqrt(4-Ue/.3),_e.c[0]=d.interval(Le*C,Me,je),_e.c[1]=d.interval(Se*C,He,Ze),_e.alpha=C,_e.t=Le,_e.s=Se,je=_e.c[0].copy(),Ze=_e.c[1].copy(),_e.pen=0,Q=d.mod(ce+1,ne);Q!=ve;Q=I){if(I=d.mod(Q+1,ne),Le=d.tangent(Me,je,Ze,He,oe[Q],oe[I]),Le<-.5||(Ve=d.bezier(Le,Me,je,Ze,He),ie=d.ddist(oe[Q],oe[I]),ie===0)||(de=d.dpara(oe[Q],oe[I],Ve)/ie,Math.abs(de)>Re)||d.iprod(oe[Q],oe[I],Ve)<0||d.iprod(oe[I],oe[Q],Ve)<0)return 1;_e.pen+=de*de}for(Q=ce;Q!=ve;Q=I){if(I=d.mod(Q+1,ne),Le=d.tangent(Me,je,Ze,He,se.c[Q*3+2],se.c[I*3+2]),Le<-.5||(Ve=d.bezier(Le,Me,je,Ze,He),ie=d.ddist(se.c[Q*3+2],se.c[I*3+2]),ie===0)||(de=d.dpara(se.c[Q*3+2],se.c[I*3+2],Ve)/ie,xe=d.dpara(se.c[Q*3+2],se.c[I*3+2],oe[I])/ie,xe*=.75*se.alpha[I],xe<0&&(de=-de,xe=-xe),de<xe-Re))return 1;de<xe&&(_e.pen+=(de-xe)*(de-xe))}return 0}var _=m.curve,b=_.n,E=_.vertex,x=new Array(b+1),M=new Array(b+1),O=new Array(b+1),j=new Array(b+1),T,U,H,D,P=new y,B,X,V,q,ee,Z,J,K=new Array(b),re=new Array(b+1);for(U=0;U<b;U++)_.tag[U]=="CURVE"?K[U]=d.sign(d.dpara(E[d.mod(U-1,b)],E[U],E[d.mod(U+1,b)])):K[U]=0;for(V=0,re[0]=0,B=_.vertex[0],U=0;U<b;U++)X=d.mod(U+1,b),_.tag[X]=="CURVE"&&(q=_.alpha[X],V+=.3*q*(4-q)*d.dpara(_.c[U*3+2],E[X],_.c[X*3+2])/2,V+=d.dpara(B,_.c[U*3+2],_.c[X*3+2])/2),re[U+1]=V;for(x[0]=-1,M[0]=0,O[0]=0,H=1;H<=b;H++)for(x[H]=H-1,M[H]=M[H-1],O[H]=O[H-1]+1,U=H-2;U>=0&&(D=v(m,U,d.mod(H,b),P,s._params.optTolerance,K,re),!D);U--)(O[H]>O[U]+1||O[H]==O[U]+1&&M[H]>M[U]+P.pen)&&(x[H]=U,M[H]=M[U]+P.pen,O[H]=O[U]+1,j[H]=P,P=new y);for(T=O[b],ee=new ge(T),Z=new Array(T),J=new Array(T),H=b,U=T-1;U>=0;U--)x[H]==H-1?(ee.tag[U]=_.tag[d.mod(H,b)],ee.c[U*3+0]=_.c[d.mod(H,b)*3+0],ee.c[U*3+1]=_.c[d.mod(H,b)*3+1],ee.c[U*3+2]=_.c[d.mod(H,b)*3+2],ee.vertex[U]=_.vertex[d.mod(H,b)],ee.alpha[U]=_.alpha[d.mod(H,b)],ee.alpha0[U]=_.alpha0[d.mod(H,b)],ee.beta[U]=_.beta[d.mod(H,b)],Z[U]=J[U]=1):(ee.tag[U]="CURVE",ee.c[U*3+0]=j[H].c[0],ee.c[U*3+1]=j[H].c[1],ee.c[U*3+2]=_.c[d.mod(H,b)*3+2],ee.vertex[U]=d.interval(j[H].s,_.c[d.mod(H,b)*3+2],E[d.mod(H,b)]),ee.alpha[U]=j[H].alpha,ee.alpha0[U]=j[H].alpha,Z[U]=j[H].s,J[U]=j[H].t),H=x[H];for(U=0;U<T;U++)X=d.mod(U+1,T),ee.beta[U]=Z[U]/(Z[U]+J[X]);ee.alphaCurve=1,m.curve=ee}for(var i=0;i<this._pathlist.length;i++){var p=this._pathlist[i];a(p),n(p),r(p),f(p),p.sign==="-"&&c(p),o(p),s._params.optCurve&&l(p)}},_validateParameters:function(s){if(s&&s.turnPolicy&&u.indexOf(s.turnPolicy)===-1){var a="'"+u.join("', '")+"'";throw new Error("Bad turnPolicy value. Allowed values are: "+a)}if(s&&s.threshold!=null&&s.threshold!==g.THRESHOLD_AUTO&&(typeof s.threshold!="number"||!d.between(s.threshold,0,255)))throw new Error("Bad threshold value. Expected to be an integer in range 0..255");if(s&&s.optCurve!=null&&typeof s.optCurve!="boolean")throw new Error("'optCurve' must be Boolean")},_processLoadedImage:function(s){var a=new ke(s.bitmap.width,s.bitmap.height),n=s.bitmap.data;s.scan(0,0,s.bitmap.width,s.bitmap.height,function(r,f,c){var o=n[c+3]/255,l=255+(n[c+0]-255)*o,i=255+(n[c+1]-255)*o,p=255+(n[c+2]-255)*o;a.data[c/4]=d.luminance(l,i,p)}),this._luminanceData=a,this._imageLoaded=!0},loadImage:function(s,a){var n=this,r={};this._imageLoadingIdentifier=r,this._imageLoaded=!1,s instanceof Pe?(this._imageLoadingIdentifier=null,this._imageLoaded=!0,n._processLoadedImage(s),a.call(n,null)):Pe.read(s,function(f,c){var o=n._imageLoadingIdentifier!==r;if(o){var l=f||new Error("Another image was loaded instead");return a.call(n,l)}n._imageLoadingIdentifier=null,n._processLoadedImage(c),a.call(n,null)})},setParameters:function(s){var a,n;this._validateParameters(s);for(a in this._params)this._params.hasOwnProperty(a)&&s.hasOwnProperty(a)&&(n=this._params[a],this._params[a]=s[a],n!==this._params[a]&&["color","background"].indexOf(a)===-1&&(this._processed=!1))},getPathTag:function(s,a){if(s=arguments.length===0?this._params.color:s,s===g.COLOR_AUTO&&(s=this._params.blackOnWhite?"black":"white"),!this._imageLoaded)throw new Error("Image should be loaded first");this._processed||(this._bmToPathlist(),this._processPath(),this._processed=!0);var n='<path d="';return n+=this._pathlist.map(function(r){return d.renderCurve(r.curve,a)}).join(" "),n+='" stroke="none" fill="'+s+'" fill-rule="evenodd"/>',n},getSymbol:function(s){return'<symbol viewBox="0 0 '+this._luminanceData.width+" "+this._luminanceData.height+'" id="'+s+'">'+this.getPathTag("")+"</symbol>"},getSVG:function(){var s=this._params.width||this._luminanceData.width,a=this._params.height||this._luminanceData.height,n={x:this._params.width?this._params.width/this._luminanceData.width:1,y:this._params.height?this._params.height/this._luminanceData.height:1};return'<svg xmlns="http://www.w3.org/2000/svg" width="'+s+'" height="'+a+'" viewBox="0 0 '+s+" "+a+`" version="1.1">
`+(this._params.background!==g.COLOR_TRANSPARENT?'	<rect x="0" y="0" width="100%" height="100%" fill="'+this._params.background+`" />
`:"")+"	"+this.getPathTag(this._params.color,n)+`
</svg>`}},Cs=g,Cs}var Ps,Of;function md(){if(Of)return Ps;Of=1;var Pe=Ff(),ke=La();function ge(W){this._potrace=new Pe,this._calculatedThreshold=null,this._params={threshold:Pe.THRESHOLD_AUTO,blackOnWhite:!0,steps:ge.STEPS_AUTO,background:Pe.COLOR_TRANSPARENT,fillStrategy:ge.FILL_DOMINANT,rangeDistribution:ge.RANGES_AUTO},W&&this.setParameters(W)}for(var A in Pe)Object.prototype.hasOwnProperty.call(Pe,A)&&A===A.toUpperCase()&&(ge[A]=Pe[A]);return ge.STEPS_AUTO=-1,ge.FILL_SPREAD="spread",ge.FILL_DOMINANT="dominant",ge.FILL_MEDIAN="median",ge.FILL_MEAN="mean",ge.RANGES_AUTO="auto",ge.RANGES_EQUAL="equal",ge.prototype={_addExtraColorStop:function(W){var S=this._params.blackOnWhite,k=W[W.length-1],y=S?0:k.value,d=S?k.value:255;if(d-y>25&&k.colorIntensity!==1){var g=this._getImageHistogram(),u=g.getStats(y,d).levels,s=u.mean+u.stdDev<=25?u.mean+u.stdDev:u.mean-u.stdDev<=25?u.mean-u.stdDev:25,a=S?g.getStats(0,s):g.getStats(s,255),n=a.levels.mean;W.push({value:Math.abs((S?0:255)-s),colorIntensity:isNaN(n)?0:(S?255-n:n)/255})}return W},_calcColorIntensity:function(W){var S=this._params.blackOnWhite,k=this._params.fillStrategy,y=k!==ge.FILL_SPREAD?this._getImageHistogram():null,d=Math.abs(this._paramThreshold()-(S?0:255));return W.map(function(g,u){var s=u+1===W.length?S?-1:256:W[u+1],a=Math.round(S?s+1:g),n=Math.round(S?g:s-1),r=u/(W.length-1),f=n-a,c=y.getStats(a,n),o=-1;if(c.pixels===0)return{value:g,colorIntensity:0};switch(k){case ge.FILL_SPREAD:o=(S?a:n)+(S?1:-1)*f*Math.max(.5,d/255)*r;break;case ge.FILL_DOMINANT:o=y.getDominantColor(a,n,ke.clamp(f,1,5));break;case ge.FILL_MEAN:o=c.levels.mean;break;case ge.FILL_MEDIAN:o=c.levels.median;break}return u!==0&&(o=S?ke.clamp(o,a,n-Math.round(f*.1)):ke.clamp(o,a+Math.round(f*.1),n)),{value:g,colorIntensity:o===-1?0:(S?255-o:o)/255}})},_getImageHistogram:function(){return this._potrace._luminanceData.histogram()},_getRanges:function(){var W=this._paramSteps();if(!Array.isArray(W))return this._params.rangeDistribution===ge.RANGES_AUTO?this._getRangesAuto():this._getRangesEquallyDistributed();var S=[],k=this._paramThreshold(),y=this._params.blackOnWhite;return W.forEach(function(d){S.indexOf(d)===-1&&ke.between(d,0,255)&&S.push(d)}),S.length||S.push(k),S=S.sort(function(d,g){return d<g===y?1:-1}),y&&S[0]<k?S.unshift(k):!y&&S[S.length-1]<k&&S.push(k),this._calcColorIntensity(S)},_getRangesAuto:function(){var W=this._getImageHistogram(),S=this._paramSteps(!0),k;if(this._params.threshold===Pe.THRESHOLD_AUTO)k=W.multilevelThresholding(S);else{var y=this._paramThreshold();k=this._params.blackOnWhite?W.multilevelThresholding(S-1,0,y):W.multilevelThresholding(S-1,y,255),this._params.blackOnWhite?k.push(y):k.unshift(y)}return this._params.blackOnWhite&&(k=k.reverse()),this._calcColorIntensity(k)},_getRangesEquallyDistributed:function(){for(var W=this._params.blackOnWhite,S=W?this._paramThreshold():255-this._paramThreshold(),k=this._paramSteps(),y=S/k,d=[],g=k-1,u;g>=0;)u=Math.min(S,(g+1)*y),u=W?u:255-u,g--,d.push(u);return this._calcColorIntensity(d)},_paramSteps:function(W){var S=this._params.steps;if(Array.isArray(S))return W?S.length:S;if(S===ge.STEPS_AUTO&&this._params.threshold===Pe.THRESHOLD_AUTO)return 4;var k=this._params.blackOnWhite,y=k?this._paramThreshold():255-this._paramThreshold();return S===ge.STEPS_AUTO?y>200?4:3:Math.min(y,Math.max(2,S))},_paramThreshold:function(){if(this._calculatedThreshold!==null)return this._calculatedThreshold;if(this._params.threshold!==Pe.THRESHOLD_AUTO)return this._calculatedThreshold=this._params.threshold,this._calculatedThreshold;var W=this._getImageHistogram().multilevelThresholding(2);return this._calculatedThreshold=this._params.blackOnWhite?W[1]:W[0],this._calculatedThreshold=this._calculatedThreshold||128,this._calculatedThreshold},_pathTags:function(W){var S=this._getRanges(),k=this._potrace,y=this._params.blackOnWhite;S.length>=10&&(S=this._addExtraColorStop(S)),k.setParameters({blackOnWhite:y});var d=0;return S.map(function(g){var u=g.colorIntensity;if(u===0)return"";var s=!d||u===1?u:(d-u)/(d-1);s=ke.clamp(parseFloat(s.toFixed(3)),0,1),d=d+(1-d)*s,k.setParameters({threshold:g.value});var a=W?k.getPathTag(""):k.getPathTag();a=ke.setHtmlAttr(a,"fill-opacity",s.toFixed(3));var n=s===0||a.indexOf(' d=""')!==-1;return n?"":a})},loadImage:function(W,S){var k=this;this._potrace.loadImage(W,function(y){k._calculatedThreshold=null,S.call(k,y)})},setParameters:function(W){if(W){if(this._potrace.setParameters(W),W.steps&&!Array.isArray(W.steps)&&(!ke.isNumber(W.steps)||!ke.between(W.steps,1,255)))throw new Error("Bad 'steps' value");for(var S in this._params)this._params.hasOwnProperty(S)&&W.hasOwnProperty(S)&&(this._params[S]=W[S]);this._calculatedThreshold=null}},getSymbol:function(W){var S=this._potrace._luminanceData.width,k=this._potrace._luminanceData.height,y=this._pathTags(!0);return'<symbol viewBox="0 0 '+S+" "+k+'" id="'+W+'">'+y.join("")+"</symbol>"},getSVG:function(){var W=this._potrace._luminanceData.width,S=this._potrace._luminanceData.height,k=this._pathTags(!1),y='<svg xmlns="http://www.w3.org/2000/svg" width="'+W+'" height="'+S+'" viewBox="0 0 '+W+" "+S+`" version="1.1">
	`+(this._params.background!==Pe.COLOR_TRANSPARENT?'<rect x="0" y="0" width="100%" height="100%" fill="'+this._params.background+`" />
	`:"")+k.join(`
	`)+`
</svg>`;return y.replace(/\n(?:\t*\n)+(\t*)/g,`
$1`)}},Ps=ge,Ps}var Os,Nf;function vd(){if(Nf)return Os;Nf=1;var Pe=Ff(),ke=md();function ge(W,S,k){arguments.length===2&&(k=S,S={});var y=new Pe(S);y.loadImage(W,function(d){if(d)return k(d);k(null,y.getSVG(),y)})}function A(W,S,k){arguments.length===2&&(k=S,S={});var y=new ke(S);y.loadImage(W,function(d){if(d)return k(d);k(null,y.getSVG(),y)})}return Os={trace:ge,posterize:A,Potrace:Pe,Posterizer:ke},Os}var Ls=vd();const gd=Bf(Ls),_d=Cc({__proto__:null,default:gd},[Ls]),Lf={turdSize:2,turnPolicy:"minority",alphaMax:1,optCurve:!0,optTolerance:.2,threshold:128,blackOnWhite:!0,color:"#000000",background:"transparent",invert:!1,highestQuality:!1,preserveColors:!1,colorSteps:3},yd={idle:"",loading:"Loading image...",processing:"Processing image data...",analyzing:"Analyzing image complexity...",tracing:"Tracing image contours...",optimizing:"Optimizing SVG output...",done:"Done!",error:"An error occurred"},ut=(Pe,ke,ge=!1,A)=>{const W=new Date().toISOString().split("T")[1].split(".")[0];console.log(`[${W}] [${Pe}] ${ke}`),ge&&console.error(`[${W}] [${Pe}] ${ke}`),A&&A(Pe,ke,ge,W)},wd=(Pe,ke,ge)=>{const A=setInterval(()=>{const W=new Date().toISOString().split("T")[1].split(".")[0];console.log(`[${W}] [HEARTBEAT] ${Pe} still running...`),ge&&ge("HEARTBEAT",`${Pe} still running...`,!1,W)},ke);return{stop:()=>clearInterval(A),heartbeatId:A}},bd=(Pe,ke,ge,A)=>{try{const W=Pe.length,S=Pe.startsWith("data:image/png")?"PNG":Pe.startsWith("data:image/jpeg")?"JPEG":Pe.startsWith("data:image/")?"other":"unknown";A&&A("IMAGE_RECEIPT",`Image received: ${W} bytes, type: ${S}`,!1,new Date().toISOString().split("T")[1].split(".")[0]);const k=Oa();if(k&&A&&A("NETWORK_TRACE","Processing trace over network - this might take longer",!1,new Date().toISOString().split("T")[1].split(".")[0]),typeof window<"u"&&window.performance&&"memory"in window.performance){const u=window.performance.memory;A&&A("MEMORY",`Before tracing: ${Math.round(u.usedJSHeapSize/1048576)}MB / ${Math.round(u.jsHeapSizeLimit/1048576)}MB`,!1,new Date().toISOString().split("T")[1].split(".")[0])}const d=wd("Potrace image tracing",k?1e3:2e3,A),g=performance.now();A&&A("TRACE_START",`Starting Potrace at ${g}ms`,!1,new Date().toISOString().split("T")[1].split(".")[0]),A&&A("TRACE_METHOD","Using Potrace.trace with data URL",!1,new Date().toISOString().split("T")[1].split(".")[0]),setTimeout(()=>{try{_d.trace(Pe,ke,(s,a)=>{if(s){d.stop(),A&&A("TRACE_ERROR",`Error during Potrace tracing: ${s.message}`,!0,new Date().toISOString().split("T")[1].split(".")[0]),ge(s);return}const n=performance.now();if(d.stop(),A&&(A("TRACE_COMPLETE",`Completed in ${Math.round(n-g)}ms`,!1,new Date().toISOString().split("T")[1].split(".")[0]),typeof window<"u"&&window.performance&&"memory"in window.performance)){const r=window.performance.memory;A("MEMORY",`After tracing: ${Math.round(r.usedJSHeapSize/1048576)}MB / ${Math.round(r.jsHeapSizeLimit/1048576)}MB`,!1,new Date().toISOString().split("T")[1].split(".")[0])}ge(null,a)})}catch(u){d.stop(),A&&A("TRACE_SETUP_ERROR",`Exception during Potrace execution: ${u}`,!0,new Date().toISOString().split("T")[1].split(".")[0]),ge(u instanceof Error?u:new Error(String(u)))}},k?300:0)}catch(W){A&&A("TRACE_SETUP_ERROR",`Failed to initialize tracing: ${W}`,!0,new Date().toISOString().split("T")[1].split(".")[0]),ge(W instanceof Error?W:new Error(String(W)))}},Ed=Pe=>{const ke=Pe.length;return ut("ANALYZE",`Image data length: ${ke}`),ke>5e6?{complex:!0,reason:"Image data size is very large",size:ke}:ke>1e6?{complex:!0,reason:"Image data is moderately complex",size:ke}:{complex:!1,size:ke}},Is=Pe=>{ut("SIMPLIFY","Applying optimizations for complex image");const ke={...Pe,turdSize:Math.max(Pe.turdSize,15),optTolerance:3,turnPolicy:"minority",threshold:180,alphaMax:1,highestQuality:!1,optCurve:!0};if(ke.preserveColors&&(ut("COLOR_COMPLEX","Optimizing color settings for complex image"),ke.colorSteps>4&&(ut("COLOR_ADJUST",`Reducing color steps from ${ke.colorSteps} to 4 for complex image optimization`),ke.colorSteps=4),ke.threshold>160)){const ge=ke.threshold;ke.threshold=160,ut("THRESHOLD_ADJUST",`Adjusted threshold from ${ge} to ${ke.threshold} for better color extraction`)}return ke},Sd=(Pe,ke=.5)=>new Promise((ge,A)=>{try{ut("DOWNSCALE",`Downscaling image by factor of ${ke}`);const W=new Image;W.onload=()=>{const S=document.createElement("canvas"),k=W.width,y=W.height,d=Math.round(k*ke),g=Math.round(y*ke);S.width=d,S.height=g,ut("DOWNSCALE",`Original size: ${k}x${y}, New size: ${d}x${g}`);const u=S.getContext("2d");if(!u){A(new Error("Failed to get canvas context"));return}u.imageSmoothingEnabled=!0,u.imageSmoothingQuality="high",u.fillStyle="white",u.fillRect(0,0,d,g),u.drawImage(W,0,0,d,g);const s=S.toDataURL("image/png");ut("DOWNSCALE",`Downscaled image data length: ${s.length}`),ge(s)},W.onerror=()=>{A(new Error("Failed to load image for downscaling"))},W.src=Pe}catch(W){ut("DOWNSCALE",`Error during downscaling: ${W}`,!0),A(W)}}),xd=(Pe,ke)=>new Promise(ge=>{try{const A=performance.now();ut("COLOR_EXTRACT_START",`Starting color extraction for ${ke} colors`);const W=new Image;W.onload=()=>{const S=document.createElement("canvas"),k=S.getContext("2d",{willReadFrequently:!0});if(S.width=W.width,S.height=W.height,ut("COLOR_EXTRACT_DIMS",`Image dimensions: ${W.width}x${W.height}`),!k){ut("COLOR_EXTRACT_ERROR","Failed to get canvas context, using fallback colors",!0),ge(Ta(ke));return}k.drawImage(W,0,0);const d=k.getImageData(0,0,S.width,S.height).data,g={},u=S.width*S.height,s=Math.max(1,Math.floor(u/1e5));ut("COLOR_EXTRACT_SAMPLE",`Sampling pixels with skip factor ${s} (analyzing ~${Math.round(u/s)} pixels)`);let a=0,n=0;for(let o=0;o<d.length;o+=4*s){const l=d[o],i=d[o+1],p=d[o+2];if(d[o+3]<128){n++;continue}const m=(l+i+p)/3;if(m<20||m>235){n++;continue}a++;const v=`${Math.floor(l/15)},${Math.floor(i/15)},${Math.floor(p/15)}`;g[v]||(g[v]={count:0,r:l,g:i,b:p}),g[v].count++}const r=Object.values(g).sort((o,l)=>l.count-o.count);ut("COLOR_EXTRACT_STATS",`Processed ${a} pixels, skipped ${n}, found ${r.length} unique color groups`);const f=r.slice(0,ke).map((o,l)=>{const i=`#${o.r.toString(16).padStart(2,"0")}${o.g.toString(16).padStart(2,"0")}${o.b.toString(16).padStart(2,"0")}`;return ut("COLOR_EXTRACT_FOUND",`Color ${l+1}: ${i} (${o.r},${o.g},${o.b}) - ${Math.round(o.count/a*100)}% of image`),i});if(f.length<ke){ut("COLOR_EXTRACT_FALLBACK",`Only found ${f.length} colors, generating ${ke-f.length} additional colors`);const o=Ta(ke-f.length);f.push(...o)}const c=performance.now();ut("COLOR_EXTRACT_COMPLETE",`Color extraction completed in ${Math.round(c-A)}ms`),ge(f)},W.onerror=()=>{ut("COLOR_EXTRACT_ERROR","Failed to load image for color extraction, using fallback colors",!0),ge(Ta(ke))},W.src=Pe}catch(A){console.error("Error extracting colors:",A),ut("COLOR_EXTRACT_ERROR",`Exception during color extraction: ${A}`,!0),ge(Ta(ke))}}),Ta=Pe=>{const ke=[];for(let ge=0;ge<Pe;ge++){const A=Math.floor(ge/Pe*360);ke.push(`hsl(${A}, 70%, 50%)`)}return ke},Hf=(Pe,ke)=>{let ge=Pe;if(ge.includes("<metadata>")||(ge=ge.replace("</svg>",`<metadata>
  <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
           xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
           xmlns:dc="http://purl.org/dc/elements/1.1/">
    <rdf:Description>
      <dc:title>SVG-X Generated Image</dc:title>
      <dc:description>Created with SVG-X, using color preservation</dc:description>
      <dc:format>image/svg+xml</dc:format>
      <dc:type>Image</dc:type>
      <!-- Include color information in metadata -->
      <dc:subject>
        ${ke.map(A=>`<rdf:li>${A}</rdf:li>`).join(`
        `)}
      </dc:subject>
    </rdf:Description>
  </rdf:RDF>
</metadata></svg>`)),!ge.includes("viewBox")){const A=ge.match(/width="([^"]*)"/),W=ge.match(/height="([^"]*)"/);if(A&&W){const S=A[1],k=W[1];ge=ge.replace("<svg",`<svg viewBox="0 0 ${S} ${k}"`)}}return ge},If=(Pe,ke,ge,A)=>new Promise((W,S)=>{try{ut("COLOR_START","Beginning multi-color processing",!1,A),ge("processing"),ut("COLOR_EXTRACT","Extracting dominant colors from image",!1,A),xd(Pe,ke.colorSteps+1).then(k=>{ut("COLOR_EXTRACT_DONE",`Extracted colors: ${k.join(", ")}`,!1,A);const y={turdSize:ke.turdSize,alphaMax:ke.alphaMax,optCurve:ke.optCurve,optTolerance:ke.optTolerance,blackOnWhite:ke.blackOnWhite,background:ke.background==="transparent"?"transparent":k[0],color:ke.color};let d;if(ke.colorSteps===2)d=[128];else if(ke.colorSteps===3)d=[85,170];else if(ke.colorSteps===4)d=[64,128,192];else if(ke.colorSteps===5)d=[51,102,153,204];else{const u=255/(ke.colorSteps+1);d=Array.from({length:ke.colorSteps-1},(s,a)=>Math.round((a+1)*u))}const g=k.slice(1);y.steps=d,y.color=g,ut("COLOR_DEBUG",`Final colors array: ${g.join(", ")}`,!1,A),ut("COLOR_STEPS",`Using ${d.length} thresholds with ${g.length} colors`,!1,A),ge("tracing"),setTimeout(()=>{try{Ls.posterize(Pe,y,(u,s)=>{if(u){ut("ERROR",`Error during color tracing: ${u.message}`,!0,A),ge("error"),S(new Error(`Failed to posterize image: ${u.message}`));return}if(!s){ut("ERROR","Potrace returned empty SVG",!0,A),ge("error"),S(new Error("Potrace returned empty SVG"));return}let a=s;a=s.replace("<svg",'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"').replace("<svg",'<svg style="color-scheme: light; forced-color-adjust: none;"');const n=[...a.matchAll(/<path\s+([^>]*)>/g)];if(n.length>0){ut("COLOR_DIRECT",`Applying colors directly to ${n.length} paths`,!1,A);let r=0,f=a;ut("COLOR_PALETTE",`Using color palette: ${g.join(", ")}`,!1,A);const c={};g.forEach(o=>c[o]=0);for(const o of n){const l=o[0],i=o[1],p=g[r%g.length];if(r++,c[p]=(c[p]||0)+1,i.includes("fill=")){const m=i.match(/fill="([^"]*)"/);if(m&&(m[1]==="none"||m[1]==="#000000"||m[1]==="black")){const v=l.replace(/fill="([^"]*)"/,`fill="${p}"`);f=f.replace(l,v),ut("PATH_COLOR_REPLACE",`Replaced fill=${m[1]} with ${p}`,!1,A)}else m&&ut("PATH_COLOR_KEEP",`Kept existing fill=${m[1]}`,!1,A)}else{const m=l.replace("<path ",`<path fill="${p}" `);f=f.replace(l,m),ut("PATH_COLOR",`Added fill=${p} to path`,!1,A)}}Object.entries(c).forEach(([o,l])=>{const i=Math.round(l/n.length*100);ut("COLOR_STATS",`${o}: applied to ${l} paths (${i}%)`,!1,A)}),f=f.replace(/<path\s/g,'<path fill-opacity="1" stroke-opacity="1" '),ut("PATH_OPACITY","Applied opacity attributes to all paths",!1,A),f=f.replace("</svg>",`
  <!-- Color preservation styles (fallback) -->
  <style>
    /* Force color preservation */
    @media (prefers-color-scheme: dark) {
      svg, path { color-scheme: light !important; }
    }
    /* Fallback colors for paths */
    ${g.map((o,l)=>`path:nth-of-type(${l+1}) { fill: ${o} !important; }`).join(`
    `)}
  </style>
</svg>`),ut("SVG_ENHANCED","Added CSS fallback styles for maximum compatibility",!1,A),a=f}a=Hf(a,g),ge("optimizing"),ut("OPTIMIZE",`Multi-color SVG generated, size: ${a.length} characters`,!1,A),setTimeout(()=>{ge("done"),ut("DONE","Multi-color image processing complete",!1,A),W(a)},300)})}catch(u){ut("ERROR",`Exception during color tracing: ${u}`,!0,A),ge("error"),S(u instanceof Error?u:new Error(String(u)))}},300)}).catch(k=>{ut("ERROR",`Failed to extract colors: ${k}`,!0,A),ge("error"),S(k instanceof Error?k:new Error(String(k)))})}catch(k){ut("ERROR",`Exception during multi-color processing setup: ${k}`,!0,A),ge("error"),S(k instanceof Error?k:new Error(String(k)))}}),Ca=async(Pe,ke,ge,A)=>new Promise((W,S)=>{try{let k=function(){ke.preserveColors&&ke.colorSteps>1?If(Pe,ke,y,A).then(W).catch(S):Df(Pe,ke,y,A).then(W).catch(S)};if(!Pe){S(new Error("No image data provided"));return}const y=g=>{ge&&ge(g)};y("analyzing");const d=Ed(Pe);if(d.complex){ut("COMPLEXITY",`Complex image detected: ${d.reason}`,!1,A);const g=Oa();let u={...ke};if(g?(ut("NETWORK","Applying network-specific optimizations",!1,A),u=Gf(u)):u=Is(u),d.size&&d.size>8e6){ut("DOWNSCALE","Image is extremely large, attempting downscaling",!1,A),Sd(Pe,.5).then(s=>{u.preserveColors&&u.colorSteps>1?If(s,u,y,A).then(W).catch(S):Df(s,u,y,A).then(W).catch(S)}).catch(s=>{ut("DOWNSCALE_ERROR",`Failed to downscale: ${s}. Continuing with original image.`,!0,A),k()});return}}k()}catch(k){ut("PROCESS_ERROR",`Error in processImage: ${k}`,!0,A),S(k instanceof Error?k:new Error(String(k)))}});function Df(Pe,ke,ge,A){return new Promise((W,S)=>{ge("processing");const k={turdSize:ke.turdSize,turnPolicy:ke.turnPolicy,alphaMax:ke.alphaMax,optCurve:ke.optCurve,optTolerance:ke.optTolerance,threshold:ke.threshold,blackOnWhite:ke.blackOnWhite,color:ke.color,background:ke.background,invert:ke.invert};ut("TRACE_OPTIONS",`Using options: turdSize=${k.turdSize}, threshold=${k.threshold}, turnPolicy=${k.turnPolicy}`,!1,A),ge("tracing"),bd(Pe,k,(y,d)=>{if(y){ut("TRACE_ERROR",`Error during tracing: ${y.message}`,!0,A),ge("error"),S(y);return}if(!d){ut("TRACE_ERROR","No SVG data returned from tracer",!0,A),ge("error"),S(new Error("Tracing produced no SVG output"));return}ge("optimizing");const g=Hf(d,[ke.color]);ut("SVG_SIZE",`Generated SVG size: ${g.length} characters`,!1,A),setTimeout(()=>{ge("done"),W(g)},300)},A)})}const Rd=Pe=>Pe.replace(/\.[^/.]+$/,"").replace(/[^a-zA-Z0-9\s]/g,"").replace(/\s+/g,"-").toLowerCase()||"image",Oa=()=>{const Pe=window.location.hostname;return!(Pe==="localhost"||Pe==="127.0.0.1")},Gf=Pe=>{ut("NETWORK_OPTIMIZE","Applying network-optimized settings for remote processing");const ke=Is({...Pe});if(ke.threshold=Math.min(160,ke.threshold+30),ke.turdSize=Math.max(15,ke.turdSize*2),ke.alphaMax=Math.min(.5,ke.alphaMax-.1),ke.optCurve=!1,ke.optTolerance=1,ke.preserveColors&&(ut("NETWORK_COLOR","Optimizing color settings for network processing"),ke.colorSteps>3)){const ge=ke.colorSteps;ke.colorSteps=3,ut("NETWORK_COLOR_LIMIT",`Reduced color steps from ${ge} to 3 for network performance`)}return ut("NETWORK_PARAMS",`Optimized network parameters: turdSize=${ke.turdSize}, threshold=${ke.threshold}, colorSteps=${ke.colorSteps}`),ke};function kd(){const[Pe,ke]=ct.useState(null),[ge,A]=ct.useState(null),[W,S]=ct.useState("idle"),[k,y]=ct.useState(""),[d,g]=ct.useState(!1),[u,s]=ct.useState({...Lf}),[a,n]=ct.useState("image"),[r,f]=ct.useState(window.innerWidth<768),[c,o]=ct.useState(!1),[l,i]=ct.useState(!1),[p,m]=ct.useState(!1),[v,_]=ct.useState(!1),[b,E]=ct.useState([]),[x,M]=ct.useState(!1);ct.useEffect(()=>{const V=()=>{f(window.innerWidth<768)};return window.addEventListener("resize",V),(()=>{const ee=window.electronAPI!==void 0;console.log("Electron environment detected:",ee),m(ee),l&&!ee&&_(!0)})(),()=>{window.removeEventListener("resize",V)}},[l]);const O=(V,q)=>{c&&o(!1),s(ee=>V==="turnPolicy"?{...ee,[V]:q}:V==="optCurve"||V==="blackOnWhite"||V==="invert"||V==="highestQuality"||V==="preserveColors"?{...ee,[V]:q}:{...ee,[V]:Number(q)})},j=()=>{s({...Lf}),o(!1)},T=ct.useCallback((V,q,ee,Z)=>{E(J=>[...J,{step:V,message:q,isError:ee,timestamp:Z}])},[]),U=async()=>{E([]);const V=u.preserveColors,q=u.colorSteps,ee=Oa();let Z;if(ee?(Z=Gf({...u}),console.log("Applying network-optimized complex settings:",Z)):(Z=Is({...u}),console.log("Applying complex image settings:",Z)),Z.preserveColors=V,Z.colorSteps=q,s(Z),o(!0),Pe)try{S("processing"),y(""),setTimeout(async()=>{try{const J=await Ca(Pe,Z,K=>{S(K),console.log(`Status update: ${K}`)},T);A(J),S("done")}catch(J){if(console.error("Error processing image with complex settings:",J),ee){const K=J instanceof Error?J.message:"Unknown error";K.includes("timed out")?y(`Network processing timed out. This image may be too complex to process over the network. 
                  Try downloading the app and running it locally for better performance.`):y(`Network error: ${K}. Network processing is more limited than local processing.`)}else y(J instanceof Error?J.message:"Unknown error");S("error")}},300)}catch(J){console.error("Error processing image with complex settings:",J),y(J instanceof Error?J.message:"Unknown error"),S("error")}},H=async()=>{if(!Pe)return;E([]);const V=Oa();try{S("processing"),y("");const q=await Ca(Pe,u,ee=>S(ee),T);A(q),S("done")}catch(q){if(console.error("Error processing image:",q),V){const ee=q instanceof Error?q.message:"Unknown error";ee.includes("timed out")?y(`Network processing timed out. For complex images over the network, try:
            1. Using the "Complex Image Mode" button in settings
            2. Using a smaller/simpler image
            3. Running the app locally instead of over the network`):y(`Network error: ${ee}. Try using Complex Image Mode for better results over the network.`)}else y(q instanceof Error?q.message:"Unknown error");S("error")}},D=ct.useCallback(async(V,q)=>{ke(V),n(Rd(q.name)),A(null),y("");try{S("processing");const ee=await Ca(V,u,Z=>S(Z));A(ee),S("done")}catch(ee){console.error("Error processing image:",ee),y(ee instanceof Error?ee.message:"Unknown error"),S("error")}},[u]),P=ct.useCallback(async(V,q)=>{try{return await Ca(V,q,()=>{},T)}catch(ee){throw console.error("Error in batch processing:",ee),ee}},[T]),B=()=>{p?i(!0):(_(!0),setTimeout(()=>_(!1),8e3))},X=async()=>{if(!(!p||!window.electronAPI))try{const V=window.electronAPI;typeof V.toggleConsole=="function"&&await V.toggleConsole()}catch(V){console.error("Error toggling console:",V)}};return me.jsxs("div",{className:"min-h-screen p-2 sm:p-4 md:p-8",children:[v&&me.jsx("div",{className:"fixed top-0 left-0 right-0 bg-amber-100 border-b border-amber-300 p-4 shadow-md z-50 animate-slide-down",children:me.jsxs("div",{className:"max-w-5xl mx-auto flex items-start gap-3",children:[me.jsx(Gc,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),me.jsxs("div",{className:"flex-1",children:[me.jsx("h3",{className:"font-medium text-amber-800",children:"Electron Required for Batch Processing"}),me.jsxs("p",{className:"text-amber-700 mt-1",children:["Batch conversion requires filesystem access that's only available in the Electron app. Please close this browser window and run ",me.jsx("span",{className:"font-mono bg-amber-50 px-1 py-0.5 rounded",children:"npm run electron:dev"})," in your terminal."]})]}),me.jsx("button",{onClick:()=>_(!1),className:"text-amber-700 hover:text-amber-900",children:""})]})}),me.jsx("header",{className:"max-w-5xl mx-auto mb-4 sm:mb-8 animate-fade-in",children:me.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-4",children:[me.jsxs("div",{children:[me.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gradient",children:"SVG-X"}),me.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Convert images to SVG with ease"})]}),me.jsxs("div",{className:"flex gap-2",children:[me.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg bg-glass border border-gray-200 shadow-soft hover:shadow-md transition-all duration-300 text-sm sm:text-base",children:[me.jsx(Qc,{className:"w-4 h-4 sm:w-5 sm:h-5 text-orange-500"}),me.jsx("span",{className:"font-medium",children:"Batch Convert"})]}),me.jsxs("button",{onClick:()=>g(!d),className:"flex items-center gap-2 px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg bg-glass border border-gray-200 shadow-soft hover:shadow-md transition-all duration-300 text-sm sm:text-base",children:[me.jsx(Jc,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"}),me.jsx("span",{className:"font-medium",children:"Settings"})]})]}),p&&me.jsx("button",{onClick:X,className:"p-2 rounded-full hover:bg-blue-700 transition-colors",title:"Toggle Debug Console",children:me.jsx(qc,{className:"w-5 h-5"})})]})}),me.jsxs("main",{className:"max-w-5xl mx-auto",children:[Pe?me.jsx(nd,{image:Pe,svg:ge,status:W,progressSteps:yd,isMobile:r}):me.jsx(rd,{onImageSelect:D,isMobile:r}),k&&me.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 sm:px-4 py-2 sm:py-3 rounded-lg animate-fade-in shadow-soft mt-4",children:[me.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-1",children:"Error"}),me.jsx("p",{className:"text-sm sm:text-base",children:k}),me.jsxs("div",{className:"mt-2 text-xs sm:text-sm",children:[me.jsx("p",{className:"font-medium",children:"Suggestions:"}),me.jsxs("ul",{className:"list-disc pl-4 mt-1",children:[me.jsx("li",{children:"Try using Complex Image Mode in settings"}),me.jsx("li",{children:"Use a simpler image with fewer details"}),me.jsx("li",{children:"Try a different image format (PNG often works best)"})]}),me.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[me.jsxs("button",{onClick:()=>M(!0),className:"flex items-center text-blue-600 hover:text-blue-800 gap-1 text-xs",children:[me.jsx(gf,{className:"w-3.5 h-3.5"}),"View Processing Logs"]}),me.jsx("button",{onClick:c?H:U,className:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700",children:c?"Try Standard Mode":"Try Complex Mode"})]})]})]}),W!=="idle"&&!k&&me.jsx("div",{className:"mt-4 flex justify-center",children:me.jsxs("button",{onClick:()=>M(!0),className:"flex items-center gap-1.5 px-4 py-2 bg-blue-50 border border-blue-200 rounded-md text-sm text-blue-700 hover:bg-blue-100 transition-colors animate-pulse-subtle shadow-sm",children:[me.jsx(gf,{className:"w-4 h-4"}),"View Processing Logs",b.length>0&&me.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 rounded-full text-xs font-medium",children:b.length})]})}),Pe&&me.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-4 justify-center mt-4 sm:mt-6 animate-fade-in",children:[me.jsx("button",{onClick:()=>{ke(null),A(null),S("idle"),y("")},className:"btn btn-secondary text-xs sm:text-sm",children:"Upload New Image"}),me.jsx("button",{onClick:H,className:"btn btn-primary text-xs sm:text-sm",children:"Re-process"})]})]}),d&&me.jsx(id,{potraceParams:u,onParamChange:O,onReset:j,onClose:()=>g(!1),onApply:Pe?H:void 0,onApplyComplex:U,isMobile:r,isComplexMode:c,preserveColors:u.preserveColors,colorSteps:u.colorSteps}),ge&&me.jsx(ad,{svg:ge,filename:a,isMobile:r}),me.jsx(sd,{isMobile:r}),me.jsx(ld,{logs:b,visible:x,onClose:()=>M(!1)}),l&&me.jsx(ud,{potraceParams:u,onClose:()=>i(!1),processImage:P})]})}const Wf=document.getElementById("root");if(!Wf)throw new Error("Failed to find the root element");const Ad=Uc.createRoot(Wf);Ad.render(me.jsx(Lc.StrictMode,{children:me.jsx(kd,{})}));
